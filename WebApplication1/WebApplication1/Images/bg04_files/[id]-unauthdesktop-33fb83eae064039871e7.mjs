(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/pin/[id]-unauthdesktop",64,88,91,100,128,259,506],{"+6dQ":function(e,t,n){var r=n("28DW"),i=n("D2p8");t.a=e=>{i.c.resume(i.b),Object(r.a)("web.dismiss_account_switcher."+e)}},"+7em":function(e,t,n){var r=n("28DW");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=0,a=!1,s=null;t.a=new class{constructor(){i(this,"attemptRenderGSIButton",()=>{const e=function(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.id}();var t;e&&o>0&&a&&s?e.renderButton(s,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:o+"px"}):(t="not_initialized",Object(r.a)("unauth_web.gsi_button."+t))}),i(this,"initButtonWidth",e=>{o=e,this.attemptRenderGSIButton()}),i(this,"initGSIClientIsInitialized",e=>{a=e,this.attemptRenderGSIButton()}),i(this,"initButtonRef",e=>{s=e,this.attemptRenderGSIButton()}),i(this,"initButtonRefWithDefaultWidth",(e,t)=>{s=e,o=t,this.attemptRenderGSIButton()})}}},"+80P":function(e,t,n){function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n("sRdV")(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?o(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?l(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},u(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},"+8U0":function(e,t,n){function r(e){const t=e.split("@")[0];let n="";return n=t.includes(".")?t.replace("."," "):t.includes("_")?t.replace("_"," "):t,n=n.replace(/[0-9]/g,""),n=n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()),n}n.d(t,"a",(function(){return r}))},"+JjG":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("kIwf"),s=n("OSge"),c=n("n6mq");const l=[s.a.HEADING,s.a.IMAGE,s.a.PARAGRAPH,s.a.VIDEO,s.a.MENTION_STICKER];function u({activePageIndex:e,fontsLoaded:t,hideMute:n,isActive:u,isPreview:d,muteVideos:p,onChangeMuteVideo:h,ownerId:f,pageIndex:g,page:m,pageWidth:y,pinId:_,stillLoading:v=!1}){const[b,w]=Object(r.useState)(!1),{background_color:E}=m.style||{},S=[],C=[],x=[];m.blocks.forEach(e=>{l.includes(e.type)?e.type===s.a.PARAGRAPH||e.type===s.a.HEADING?C.push(e):x.push(e):S.push(e)}),x.push(...C);const O=!!x.find(e=>e.type===s.a.VIDEO),k=S.find(e=>e.type===s.a.MUSIC),T="story_pin_music_block"===(null==k?void 0:k.type)?k.provider_recording_id:void 0;return i.a.createElement(c.U,{fullHeight:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},i.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{background:E||"#fff"}},height:"100%"},!d&&x.map((n,r)=>i.a.createElement(a.e,{activePageIndex:e,block:n,fontsLoaded:t,isActive:u,key:`${m.id}-${n.type}-${r}`,musicRecordingId:T,muteVideos:p,ownerId:f,pageIndex:g,pageWidth:y,pinId:_,stillLoading:v})),n||d||!O||!b&&!p?null:i.a.createElement(c.e,{bottom:!0,left:!0,padding:4,position:"absolute"},p?i.a.createElement(c.u,{accessibilityLabel:o.a._("Click to unmute","closeup.storyPin.storyPinVideo.volume","Button to unmute the video"),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:()=>h(!1)}):i.a.createElement(c.u,{accessibilityLabel:o.a._("Click to mute","closeup.storyPin.storyPinVideo.volume","Button to mute the video"),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:()=>h(!0)}))))}},"+aGp":function(e,t,n){var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},"+d+Q":function(e,t,n){n.d(t,"a",(function(){return f}));var r=n("q1tI"),i=n.n(r),o=n("LQE/"),a=n("JW66"),s=n("Ye/N"),c=n("28DW"),l=n("3a2J"),u=n("seY9"),d=n("n6mq"),p=n("XPo3"),h=n("AsgO");function f({children:e,fullImgHeight:t,page:n,pin:f,renderAttribution:g,scaledSize:m,viewportSize:y}){const[_,v]=Object(r.useState)(!1),b=e=>{e.keyCode===a.a.KeyCode.ESCAPE&&v(!1)};Object(r.useEffect)(()=>(document.body&&document.addEventListener("keydown",b),()=>{document.body&&document.removeEventListener("keydown",b)}),[]);const w=e=>{Object(c.a)("unauth.topic_page.best_pin.more_info_click");const t=!_;v(t),document.body&&(document.body.style.overflow=t?"hidden":"")},E="wide"===y,[S,C]=m?[m.width,m.height]:[p.i,p.b];let[x,O]=E?[S,p.f]:[p.a,C];return"closeup"===n&&(O=p.g,x=p.c),i.a.createElement(o.a,{largeMainPin:!0,fullImgHeight:t,renderAttribution:g,renderVaseTags:e=>e.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.e,{marginTop:3,"data-test-id":"UnauthBestPinCardVaseTags"},i.a.createElement(l.a,{openInCurrentTab:!0,tagClickHandler:()=>{},annotationsWithLinks:e,pillStyleOverride:{borderRadius:"12.5px",backgroundColor:"#efefef",color:"#333",padding:"5px 8px",marginRight:"4px",marginBottom:"4px",fontWeight:"700",fontSize:"12px"}})),i.a.createElement(d.e,{marginTop:1},i.a.createElement("button",{"data-test-id":"more-information-button",onMouseOver:h.a,onMouseLeave:h.b,onFocus:h.a,onBlur:h.b,onClick:w,style:{backgroundColor:"transparent",border:0,fontSize:"12px",fontWeight:"bold",height:"13px",letterSpacing:"-0.3px",MozOsxFontSmoothing:"grayscale",outline:"none",padding:0,marginTop:"16px",WebkitFontSmoothing:"antialiased"}},s.a._("More information","bestpincard.vasetags.moreinformation","Link to show more information modal"),"..."))):null,contentHeight:O,contentWidth:x,modal:i.a.createElement("div",{style:{visibility:_?"":"hidden"}},i.a.createElement(u.a,{pin:f,closeButtonClickHandler:w})),pageType:{isAuth:!1,page:n},pin:f,showCardShadow:"closeup"===n,viewportSize:y},e({width:x,height:O,showModal:_}))}},"+jF9":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),o=n("fOPN"),a=n("LTlA"),s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=s);var n=t.payload;switch(t.type){case i.BEGIN_DRAG:return r({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case i.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case i.HOVER:return r({},e,{targetIds:n.targetIds});case o.REMOVE_TARGET:return-1===e.targetIds.indexOf(n.targetId)?e:r({},e,{targetIds:a.without(e.targetIds,n.targetId)});case i.DROP:return r({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case i.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},"+k3R":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]}},"/Ecc":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4");t.isFirefox=r.memoize((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=r.memoize((function(){return Boolean(window.safari)}))},"/MAO":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("FDmi"),s=n("TSYQ"),c=n.n(s),l=n("Ye/N"),u=n("n6mq");function d({handleFollowClick:e,isFollowing:t,isSelf:n}){const r=t?l.a._("Unfollow"):l.a._("Follow");return n?i.a.createElement(u.f,{inline:!0,disabled:!0,text:l.a._("That's you!","Text describing that the person's avatar is you","Text describing that the person's avatar is you")}):i.a.createElement(u.f,{color:t?"gray":"red",inline:!0,onClick:e,text:r})}var p=n("qD10"),h=n("ZVOf"),f=n("U4JR");t.a=Object(o.connect)(null,(function(e){return{follow:t=>e(Object(h.a)(t)),unfollow:t=>e(Object(h.b)(t))}}))((function({className:e,follow:t,isSelf:n,logData:o,showName:s=!1,showFollow:l=!1,size:h="small",subtitle:g="",title:m,unfollow:y,user:_={}}){const[v,b]=Object(r.useState)(_.explicitly_followed_by_me||!1),{full_name:w,username:E}=_,S=_.image_key||_.image_medium_url||_.image_small_url;return i.a.createElement("div",{className:c()("Module","User","hasText","thumb",h,e)},i.a.createElement(u.e,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1},i.a.createElement(u.e,{flex:"grow",paddingX:1},i.a.createElement(p.a,{className:"profileSource",to:`/${E}/`},i.a.createElement("div",{className:"thumbImageWrapper"},i.a.createElement(a.a,{name:w,src:S,size:"fit"})),m&&i.a.createElement("h3",{className:"title"},m),s&&i.a.createElement("h4",{className:"fullname"},w),g&&i.a.createElement("div",{className:"subtitle"},g))),l&&i.a.createElement(u.e,{paddingX:1},i.a.createElement(d,{handleFollowClick:()=>{v?(y(_.id),b(!1)):(t(_.id),b(!0)),o&&Object(f.b)(101,o)},isFollowing:v,isSelf:Boolean(n)}))))}))},"/QE7":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n("z19Z"),o=n("EC67");function a(e){const{children:t,__dangerouslyDisableSpammyDomainCheck:n,externalData:a,href:s,isExternalLink:c=!1,onClick:l,onHistoryChange:u,target:d}=e,[p,h]=Object(r.useState)(null),[f,g]=Object(r.useState)(!1),m=Object(o.g)(),y=Object(o.h)();return Object(r.useEffect)(()=>(g(!0),()=>{g(!1)}),[]),Object(r.useEffect)(()=>{c&&!n&&null===p&&Object(i.a)({isMounted:f,pin:null==a?void 0:a.pin,location:y,spamCheckCallback:e=>h(e),href:s})},[e]),t({handleClick:({event:e})=>{Object(i.b)({isExternalLink:c,event:e})||(e.nativeEvent.preventDefault(),l&&l({event:e}),s&&(c?Object(i.c)({href:s,pinId:null==a?void 0:a.pinId,pin:null==a?void 0:a.pin,location:y,auxData:null==a?void 0:a.auxData,spamCheck:p}):Object(i.d)({event:e,onHistoryChange:u,href:s,history:m,target:"blank"===d?"blank":null})))}})}},"/ZYE":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("493B");t.useMonitorOutput=function(e,t,n){var o=i.useCollector(e,t,n),a=o[0],s=o[1];return r.useEffect((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),a}},"/acK":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("SFi7"),o=n("2S0S");t.useDragDropManager=function(){var e=r.useContext(i.context).dragDropManager;return o(null!=e,"Expected drag drop context"),e}},"/vD9":function(e,t,n){n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("n6mq");const s=e=>Math.floor((e-64)/236),c=e=>Math.floor(e/350),l=[],u=(e,t)=>{const n=t%2==0&&e%2==0||t%2!=0&&e%2!=0;return{pinGridHeight:n?300:400,pinGridMarginTop:n?10:-90}},d=(e,t,n)=>{const r=[];for(let i=0;i<c(n);i+=1)for(let n=0;n<s(t);n+=1){const{pinGridHeight:t,pinGridMarginTop:o}=u(n,i);r.push({name:`${e}__${i}_${n}`,width:236,height:t}),l.push(o)}return r},p=(e,t,n)=>{let r=0;return e>0&&(r=l[e*s(n)+t]),r+"px"},h=(e,t=!0,n="lightGray",r,l)=>i.a.createElement(a.e,{display:"flex",direction:"column",marginTop:4,height:800},i.a.createElement("div",{style:{color:n}},t&&i.a.createElement(a.e,{marginBottom:6,marginStart:2},i.a.createElement("h2",{className:"gridCentered",style:{textAlign:"center",color:"#555555"}},o.a._("People also love these ideas","Heading for Related Pins beneath pin closeup","Heading for Related Pins beneath pin closeup"))),i.a.createElement("div",{className:"gridCentered"},((e,t,n)=>Array(c(n)).fill(null).map((n,r)=>i.a.createElement(a.e,{display:"flex",direction:"row",wrap:!0,key:"pin_grid_row_"+r,justifyContent:"center"},Array(s(t)).fill(null).map((n,o)=>i.a.createElement(a.e,{marginEnd:3,key:`pin_${r}_${o}`,dangerouslySetInlineStyle:{__style:{marginTop:p(r,o,t)}}},i.a.createElement("div",{className:`${e}__${r}_${o}`}))))))(e,r,l)))),f=e=>i.a.createElement(a.e,{rounding:2,color:e?"red":"lightGray",width:140,height:40});t.a=()=>i.a.createElement(a.e,{display:"flex",direction:"column",color:"white",height:64,width:"100%"},i.a.createElement(a.e,{display:"flex",direction:"row",alignItems:"center",marginTop:3,marginBottom:3,marginStart:4,marginEnd:4,color:"white"},i.a.createElement(a.e,null,i.a.createElement(a.t,{icon:"pinterest",color:"red",inline:!0,size:30,accessibilityLabel:o.a._("Pinterest logo","Company logo in pin page loader","Company logo in pin page loader")})),i.a.createElement(a.e,{marginStart:4,marginEnd:4},i.a.createElement(a.V,{color:"darkGray",inline:!0,weight:"bold"},o.a._("Pinterest","Company label in pin page loader","Company label in pin page loader"))),i.a.createElement(a.e,{flex:"grow",color:"lightGray",rounding:2,height:40}),i.a.createElement(a.e,{marginStart:3},f(!0)),i.a.createElement(a.e,{marginStart:2,marginEnd:3},f(!1))),i.a.createElement(a.o,null))},"/y+l":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("8uQm"),o=n("JL7T"),a=n("dyxW"),s=n("U84a"),c=n("yxyD"),l=n("2NuI"),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},d=function(e,t,n,a){if(e instanceof i)n.push(u(e,t));else{e instanceof o||l(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},u(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],i={},o={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=a.stringify(r);o[i]||(o[i]=r,n[i]="".concat(s),s++)})),d(e,n,r,i)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t)}},"/y0H":function(e,t,n){e.exports={getRemovalRange:function(e,t,n,r,i){var o=n.split(" ");o=o.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var a,s=r,c=null,l=null,u=0;u<o.length;u++){if(e<(a=s+o[u].length)&&s<t)null!==c||(c=s),l=a;else if(null!==c)break;s=a}var d=r+n.length,p=c===r,h=l===d;return(!p&&h||p&&!h)&&("forward"===i?l!==d&&l++:c!==r&&c--),{start:c,end:l}}}},"/zJj":function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p}));const r=508,i=2*r,o=488,a=2*o,s=40,c=72,l=740,u=60,d=912,p={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},"0/lC":function(e,t,n){function r(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;const n=[];let r,i;for(r=0;r<=t.length;r+=1)n[r]=[r];for(i=0;i<=e.length;i+=1)n[0][i]=i;for(r=1;r<=t.length;r+=1)for(i=1;i<=e.length;i+=1)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]}n.d(t,"a",(function(){return r}))},"0IKU":function(e,t,n){var r=n("2NuI"),i=n("OLzA");e.exports=function(e){var t=e.editorContainer;return t||r(!1),i(t.firstChild)||r(!1),t.firstChild}},"0JuV":function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=n("e3X+"),a=n("28DW"),s=n("yweb"),c=n("AXUD"),l=n("J8m7"),u=n("qpbZ"),d=n("n6mq");function p({api_error_code:e,errorMessage:t,handleTouch:n,userSearch:r}){const p=Object(s.b)(),h=e=>((e,t,n)=>i.a.createElement("button",{onClick:()=>{Object(a.a)("unauth_password_reset_link_tapped"),Object(o.a)({usernameOrEmail:t,callBack:n})},style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button"},i.a.createElement(d.V,{key:"err_text",color:"red",inline:!0,size:"md",weight:"bold"},e)))(e,r,n),f=(e=>{switch(e){case l.d:case l.e:case c.b:return Object(u.b)(p._("You’ve entered a lot of incorrect passwords. To get back into your account, {{ resetPasswordLink }}. Or you can wait 30 minutes and try again.","Error message when login limited","Error message when login limited"),{resetPasswordLink:h(p._("reset your password","Link text for password reset","Link text for password reset"))});case l.q:case l.A:return Object(u.b)(p._("We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.","Error message when user is soft banned","Error message when user is soft banned"),{resetPasswordLink:h(p._("Reset your password","Link text for password reset","Link text for password reset"))});case l.m:return Object(u.b)(p._("Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:h(p._("set a password.","Link text to set password for user with account with only google auth","Link text to set password for user with account with only google auth"))});case l.l:return Object(u.b)(p._("Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}"),{resetPasswordLink:h(p._("set a password.","Link text to set password for user with account with only facebook auth","Link text to set password for user with account with only facebook auth"))});case l.n:return Object(u.b)(p._("Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you’ll need to {{ resetPasswordLink }}","unauth.web.emailLogin","Error message displayed to users who are connected to Apple, but do not have a password"),{resetPasswordLink:h(p._("set a password.","Link text to set password for user with account with only apple auth","Link text to set password for user with account with only apple auth"))});case l.k:return Object(u.b)(p._("The password you entered is incorrect. Try again or {{ resetPasswordLink }}"),{resetPasswordLink:h(p._("Reset your password","Link text for password reset","Link text for password reset"))});default:return[t]}})(e);return i.a.createElement(d.e,{"data-test-id":"touchableErrorMessage"},f.map((e,t)=>i.a.createElement(d.V,{key:"err_message_"+t,color:"red",inline:!0,size:"md"},e)))}},"0LLM":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),o=n("n6mq");function a({color:e="gray",handleClick:t,size:n="sm",text:r}){return i.a.createElement(o.e,{display:"inlineBlock"},i.a.createElement(o.U,{onTap:t,rounding:"pill"},i.a.createElement(o.V,{color:e,size:n,weight:"bold"},r)))}},"0RQb":function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},"0TRD":function(e,t,n){e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},"0XI0":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("P6Mj");function i(){return Object(r.a)()+"\n.PinCredit__image:after {\n  border-radius: 50%;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.33) inset;\n  box-shadow: 0 0 2px rgba(0,0,0,0.33) inset;\n  content: ' ';\n  height: 30px;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 30px;}\n"}},"158f":function(e,t,n){var r=n("CYTE"),i=n("2NuI");var o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},"16ai":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchPortalRef=function(e){n.searchPortal=e},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.store.register(this.props.offsetKey),this.props.store.setIsOpened(!0),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}},{key:"componentWillReceiveProps",value:function(e){this.updatePortalClientRect(e)}},{key:"componentWillUnmount",value:function(){this.props.store.unregister(this.props.offsetKey),this.props.store.setIsOpened(!1)}},{key:"updatePortalClientRect",value:function(e){var t=this;this.props.store.updatePortalClientRect(e.offsetKey,(function(){return t.searchPortal.getBoundingClientRect()}))}},{key:"render",value:function(){return a.default.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}]),t}(o.Component);t.default=s},"1IOU":function(e,t,n){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},"1Jbx":function(e,t,n){var r=n("CYTE"),i=n("h/2P"),o=n("JI+E"),a=n("jH4x"),s=n("YDMw"),c=n("e/Ok"),l=n("cmQj"),u=n("Y/kH"),d=n("pg4M"),p=n("jyDg"),h=n("C9ER"),f=n("kDkJ"),g=n("WJOU"),m=r.isBrowser("Chrome"),y=r.isBrowser("Firefox"),_=m||y?g:function(e){},v={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:l,onDragStart:u,onFocus:d,onInput:p,onKeyDown:h,onPaste:f,onSelect:g,onMouseUp:_,onKeyUp:_};e.exports=v},"1L7e":function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("q1tI"),i=n.n(r),o=n("wig9"),a=n.n(o),s=n("yaUg"),c=n("TYy9"),l=n.n(c),u=n("Ye/N"),d=n("n6mq");function p({category:e,ingredients:t,textSize:n="lg"}){return i.a.createElement(d.e,null,e&&i.a.createElement(d.e,null,i.a.createElement(d.V,{weight:"bold",size:n},e)),i.a.createElement("ul",null,t.map((e,t)=>i.a.createElement("li",{"data-test-id":"recipe-ingredient",key:t,itemProp:"recipeIngredient"},i.a.createElement(d.e,{marginTop:1},i.a.createElement(d.V,{size:n},e.amt||null," ",e.name))))))}var h=n("IG/j"),f=n("ELUi"),g=n("/zJj");function m({recipeProps:e,marginOverrides:t}){const{image:n,name:r,categorizedIngredients:o,fromAggregatedData:c}=e.recipe;let m;if(o&&o.length){const e=[];o.forEach(t=>e.push(t.ingredients));const t=l()(a()(e)).length;m=o&&o.length&&t?Object(s.a)(u.a.ngettext("{{ count }} ingredient","{{ count }} ingredients",t,"Ingredients title and count in closeup recipe description","Ingredients title and count in closeup recipe description"),{count:t.toString()}):u.a._("Ingredients","Ingredients title and count in closeup recipe description","Ingredients title and count in closeup recipe description")}return i.a.createElement(d.e,{dangerouslySetInlineStyle:{__style:{marginTop:(null==t?void 0:t.outerMarginTop)||80}}},i.a.createElement(f.a,{itemScope:!0,itemType:g.g.RECIPE},i.a.createElement("meta",{content:r,itemProp:"name"}),i.a.createElement("meta",{content:n,itemProp:"image"}),i.a.createElement(d.e,{"data-test-id":"ingredients-heading",marginBottom:4},i.a.createElement(d.s,{size:"sm"},c?r:m)),Array.isArray(o)&&o.length>0&&(1===o.length?i.a.createElement(d.e,{column:12,"data-test-id":"single-column-ingredients"},o.map(({category:e,ingredients:n},r)=>i.a.createElement(d.e,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,key:r},i.a.createElement(p,{category:e,ingredients:n,textSize:"sm"})))):i.a.createElement(d.e,{display:"flex","data-test-id":"dual-column-ingredients"},i.a.createElement(d.e,{column:6},o.slice(0,Math.ceil(o.length/2)).map(({category:e,ingredients:n},r)=>i.a.createElement(d.e,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,key:r},i.a.createElement(p,{category:e,ingredients:n,textSize:"sm"})))),i.a.createElement(h.a,null),i.a.createElement(d.e,{column:6},o.slice(Math.ceil(o.length/2)).map(({category:e,ingredients:n},r)=>i.a.createElement(d.e,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||2,key:r},i.a.createElement(p,{category:e,ingredients:n,textSize:"sm"}))))))))}},"1Vso":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("7pfs");t.a=e=>{const{accessibilityLabel:t,children:n,className:r,dataTestId:a,onClick:s,onMouseEnter:c,onMouseLeave:l,style:u}=e;return i.a.createElement(o.a,null,({active:e,focused:o,hovered:d,onBlur:p,onFocus:h,onMouseDown:f,onMouseEnter:g,onMouseLeave:m,onMouseUp:y})=>i.a.createElement("button",{"data-test-id":a,"aria-label":t,style:u,onBlur:p,onFocus:h,onMouseDown:f,onMouseEnter:e=>{g(),c&&c(e)},onMouseLeave:e=>{m(),l&&l(e)},onMouseUp:y,onClick:s,className:r},n({active:e,focused:o,hovered:d})))}},"1WeU":function(e,t,n){n.d(t,"a",(function(){return w}));var r=n("q1tI"),i=n.n(r),o=n("yaUg"),a=n("Ye/N"),s=n("28DW"),c=n("n6mq");const l={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"16px",height:"32px",maxWidth:"240px",position:"relative"},containerRectangle:{height:"32px",position:"relative"},text:{color:"#333333"}};function u({pin:e,handleLinkClickthrough:t,containerStyleOverride:n=null,inFocusedPinExperiment:r=!1}){const{domain:u,link:d}=e;return d&&u?i.a.createElement("div",{className:"imageDomainLinkHover",style:r?l.containerRectangle:l.container},i.a.createElement("a",{href:d,rel:"nofollow noopener noreferrer",target:"_blank",type:"button",onClick:e=>{e.stopPropagation(),e.preventDefault(),window.open(d),Object(s.e)("click_topic_best_pin_link"),t&&t(e)}},i.a.createElement(c.e,{alignItems:r?"center":"baseline",dangerouslySetInlineStyle:{__style:n||l.text},display:"flex",justifyContent:"between",direction:r?"column":"row"},!r&&i.a.createElement(c.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},i.a.createElement(c.t,{accessibilityLabel:a.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),i.a.createElement(c.e,{alignItems:"center",display:"flex",height:r?32:18,marginStart:2,marginEnd:3,overflow:"hidden",maxWidth:"90%"},i.a.createElement(c.V,{color:r?"white":"darkGray",size:r?"sm":"md",weight:"bold",truncate:!0},r?Object(o.a)(a.a._("Learn more at {{ domain }}"),{domain:u}):u))))):null}var d=n("3wQ7"),p=n("XZ+i");var h=({washOnly:e=!1})=>{const{showSignupModal:t}=Object(p.c)(),n=({event:e})=>{Object(s.a)("web.unauth.hover_conversion.click"),t&&(e.preventDefault(),t("signup","defaultSource","pinWash"))};return i.a.createElement(c.U,{onTap:n,disabled:e},i.a.createElement(c.e,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",color:"lightWash",position:"absolute",rounding:8,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}}},!e&&i.a.createElement(c.e,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column"},i.a.createElement(c.V,{size:"lg",align:"center",weight:"bold",color:"white"},i.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{fontSize:"20px"}}},a.a._("Unlock helpful tools and endless ideas with a free account","web.best_pin_card.unauth.header","Copy above button to sign up for an account"))),i.a.createElement(c.e,{marginTop:4,width:"fit-content"},i.a.createElement("div",{onContextMenu:e=>e.stopPropagation()},i.a.createElement(c.f,{text:a.a._("Get started","web.best_pin_card.unauth.button","button taking users to the signup page"),onClick:n}))))))},f=n("2WXK"),g=n("wzxk"),m=n("fNKF"),y=n("6AVr");const _={cursor:"pointer",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"absolute",pointerEvents:"none",opacity:.55,backgroundColor:"#000",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"};const v=i.a.memo((function({children:e,isHovering:t,link:n}){if(t&&Object(s.a)("web.unauth.main_pin_image_hover"),!n)return i.a.createElement("div",null,e);const{href:o,title:a,onClick:c}=n;return i.a.createElement("a",{href:o,onClick:c,title:a,rel:"noopener noreferrer",target:"_blank"},i.a.createElement("div",null,e,t&&i.a.createElement(r.Fragment,null,i.a.createElement("div",{style:_}),i.a.createElement(d.a,{handleImageClick:()=>{}}))))}),(e,t)=>e.link===t.link&&e.isHovering===t.isHovering&&e.children===t.children),b=16;function w({clickthroughHandler:e,fullImgHeight:t,imageLink:n,isCloseupMainImage:o=!1,letterBoxHeight:l,letterBoxWidth:d,onImageLoad:_,pageType:w,pin:E,srcSet:S}){const{isHovering:C,hoverHandlers:{onMouseOver:x,onMouseLeave:O}}=Object(f.a)(),k=Object(r.useRef)(),[T,I]=Object(r.useState)(b),{relatedPinsStickyDismissed:D,setRelatedPinsStickyDismissed:P}=Object(p.c)(),j=E&&E.images&&(E.images[o?"orig":"474x"]||E.images.orig).url,M=C&&o&&!D,A=()=>{if(!C)return;const e=document.getElementById(y.a);if(e&&k.current){var t;const n=e.getBoundingClientRect(),r=null===(t=k.current)||void 0===t?void 0:t.getBoundingClientRect(),i=((null==r?void 0:r.bottom)||0)-n.top;I(i>0?Math.abs(Math.round(i))+b:b)}};if(Object(r.useEffect)(()=>(window.addEventListener("scroll",A),A(),()=>{window.removeEventListener("scroll",A)}),[C]),Object(r.useEffect)(()=>{D&&T!==b&&I(b)},[D]),!E||!E.images)return null;return i.a.createElement("div",{onMouseOver:x,onMouseLeave:O,onFocus:x,onBlur:O,onClick:e=>{Object(s.a)("web.unauth.main_pin_image_click")},style:{position:"relative"},role:"button",tabIndex:"0"},i.a.createElement(v,{link:n,isHovering:C},i.a.createElement(c.e,{width:d,height:t||l,ref:k},i.a.createElement("img",{alt:Object(g.a)(E.description,E.description_html,E.pin_join),style:{objectFit:"cover",height:t||l,width:d,borderRadius:"closeup"===(null==w?void 0:w.page)?32:""},src:j,srcSet:S&&!t?Object(m.a)(E,S):void 0,onLoad:_}))),C&&i.a.createElement(r.Fragment,null,o&&i.a.createElement(h,{washOnly:(t||0)<250}),i.a.createElement(c.e,{alignItems:"center",display:"flex",position:"absolute",margin:o?0:5,width:"100%",dangerouslySetInlineStyle:{__style:{bottom:T+"px",paddingLeft:b,transition:"bottom 0.25s"}}},i.a.createElement(c.e,{flex:o?"grow":"shrink",display:"flex",alignItems:"center",justifyContent:"between"},o&&i.a.createElement(u,{pin:E,handleLinkClickthrough:e}),M&&i.a.createElement(c.e,{paddingX:4,display:"flex"},i.a.createElement(c.e,{paddingX:1,display:"flex"},i.a.createElement(c.u,{iconColor:"darkGray",accessibilityLabel:a.a._("Maximize","unauth.wash.main_pin.maximize","maximize button for unauth pin"),bgColor:"lightGray",size:"sm",onClick:()=>{Object(s.a)("web.unauth.main_pin_image.maximize"),P(!0),I(b)},icon:"maximize"})))))))}},"1qq2":function(e,t,n){var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("rAV9"),u=n("TzU/"),d=n("Z9sL"),p=n("YVIB"),h=n("rJY1"),f=n("xocI"),g=n("cwFY"),m=n("zVay"),y=m.List,_=m.Map,v=m.OrderedSet,b=n("7/2Y"),w=n("aB02"),E=n("OLzA"),S=n("GMIm"),C=g("draft_tree_data_support"),x=new RegExp("\r","g"),O=new RegExp("\n","g"),k=new RegExp("^\n","g"),T=new RegExp("&nbsp;","g"),I=new RegExp("&#13;?","g"),D=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],j=["light","lighter","normal","100","200","300","400"],M=["className","href","rel","target","title"],A=["alt","className","height","src","width"],L=(o(r={},p("public/DraftStyleDefault/depth0"),0),o(r,p("public/DraftStyleDefault/depth1"),1),o(r,p("public/DraftStyleDefault/depth2"),2),o(r,p("public/DraftStyleDefault/depth3"),3),o(r,p("public/DraftStyleDefault/depth4"),4),r),R=_({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),F=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),_(t)},B=function(e){if(E(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(L).some((function(n){e.classList.contains(n)&&(t=L[n])})),t},N=function(e){if(!b(e))return!1;var t=e;return!(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)},U=function(e){if(!S(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},V=function(e,t){if(!E(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){P.indexOf(r)>=0?e.add("BOLD"):j.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},W=function(e){return"ul"===e||"ol"===e},q=function(){function e(e,t){o(this,"characterList",y()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",u),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],v())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(C?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||h(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.nodeName.toLowerCase();if("body"===o||W(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;W(o)&&(this.wrapper=o,W(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var c=this.blockTypeMap.get(o);if(void 0===c)if("#text"!==o)if("br"!==o)if(U(i))this._addImgNode(i,t);else if(N(i))this._addAnchorNode(i,n,t);else{var l=t;R.has(o)&&(l=l.add(R.get(o))),l=V(i,l);var u=B(i);null!=u&&(l=l.add(u)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),l))}else this._addBreakNode(i,t);else this._addTextNode(i,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var d=this.currentDepth,p=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!=typeof c&&(c=this.disambiguate(o,this.wrapper)||c[0]||"unstyled"),!C&&E(i)&&("unordered-list-item"===c||"ordered-list-item"===c)){var f=i;this.currentDepth=z(f,this.currentDepth)}var g=h(),m=this._toBlockConfigs(Array.from(i.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:g,childConfigs:m,type:c})),this.currentDepth=d,this.wrapper=p}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(k,"")).replace(O," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){w(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(S(e)){var n=e,r={};A.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),g("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(b(e)){var r=e,i={};M.forEach((function(e){var t=r.getAttribute(e);t&&(i[e]=t)})),i.url=new d(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=y(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return y(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(i({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=y(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=t(e=e.trim().replace(x,"").replace(T," ").replace(I,"").replace(D,""));if(!r)return null;var i=F(n),o=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new q(i,o).addDOMNode(r).getContentBlocks()}},"1tpI":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=r},"2NuI":function(e,t,n){var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},"2Rot":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("5WKM"),a=n("sv3x"),s=n("StuW"),c=n("yweb"),l=n("n6mq");var u=({age:e,error:t,handleAgeChange:n,handleSubmit:r,inputRef:o})=>{const a=Object(c.b)();let s="";return t&&(s=Array.isArray(t)?t.join(""):t),i.a.createElement(l.e,null,i.a.createElement("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),r()}},i.a.createElement(l.e,null,i.a.createElement(l.V,{align:"left"},a._("How old are you?","Title for the age collection input field after connecting with Facebook or Google","Title for the age collection input field after connecting with Facebook or Google"))),i.a.createElement(l.e,{marginTop:2}),i.a.createElement(l.e,null,i.a.createElement(l.X,{ref:e=>{o&&o(e)},errorMessage:s,id:"age",onChange:n,placeholder:a._("Age","text field for user to enter their age","text field for user to enter their age"),size:"lg",type:"number"})),i.a.createElement(l.e,{marginTop:3}),i.a.createElement(l.e,null,i.a.createElement(l.f,{color:"red",disabled:!e,text:a._("Continue"),type:"submit"}))))},d=n("28DW"),p=n("c50B"),h=n("J8m7"),f=n("Zswh"),g=n("VL22"),m=n("AWyA");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends r.Component{constructor(...e){super(...e),y(this,"state",{age:"",error:""}),y(this,"getViewParameter",e=>{switch(null==e?void 0:e.type){case g.a.FACEBOOK:return 3205;case g.a.GOOGLE:return 3204;case g.a.GOOGLE_ONE_TAP:return 3201;default:return}}),y(this,"handleAgeChange",({value:e})=>{this.setState({age:e})}),y(this,"handleSignupSuccess",()=>{const{logContextEvent:e}=this.props;this.track("signup_success"),e({event_type:7487,view_parameter:this.getViewParameter(this.props.registrationCredentials)});const{showResponseMessageModal:t}=this.props;t?t(!0):a.b.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0)}),y(this,"handleSignupFailure",e=>{const{i18n:t,logContextEvent:n}=this.props;this.track("signup_failure"),this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),this.props.showSignupWelcomeLoadingFn&&this.props.showSignupWelcomeLoadingFn(!1),n({event_type:7488,view_parameter:this.getViewParameter(this.props.registrationCredentials)});let r=e.message||t._("Oops! Something went wrong… Click Continue to try again.","Error during signup during age collection step","Error during signup during age collection step");e.api_error_code===h.c&&(r=t._("Uh oh... it looks like you’re not old enough just yet.","Underage error during signup","Underage error during signup")),this.setState({error:r})}),y(this,"handleSubmit",()=>{const{desktopCoreLoginContext:{register:e},logContextEvent:t}=this.props,{age:n}=this.state;this.track("submit_button_click."+(n||"undefined"));const{loadingIndicatorCallback:r,registrationCredentials:i,showSignupWelcomeLoadingFn:a,showResponseMessageModal:s}=this.props,c=this.validateAge(n||"");if(c)return void this.setState({error:c});this.setState({error:""});const l=i&&i.type;if(r&&![g.a.GOOGLE_ONE_TAP,g.a.GOOGLE,g.a.FACEBOOK].includes(l)&&r(!0),t({event_type:7537,view_parameter:this.getViewParameter(i)}),i){if(i.type===g.a.FACEBOOK){this.track("attempt_signup");e({...Object(o.a)(i.userData),...i.credentialsAndLoggingData,recapToken:null,age:n}).then(this.handleSignupSuccess,this.handleSignupFailure)}else i.type!==g.a.GOOGLE&&i.type!==g.a.GOOGLE_ONE_TAP||(this.track("attempt_signup"),e({...i.credentialsAndLoggingData,age:n}).then(this.handleSignupSuccess,this.handleSignupFailure));!s&&a&&i.type===g.a.FACEBOOK&&a(!0)}})}componentDidMount(){this.track("shown"),this.focusInputField()}track(e){const{container:t,registrationCredentials:n}=this.props,r=n?n.type:"undefined";Object(d.a)(`unauth_web.age_collection_form.${e}.${r}.${t||"undefined"}`)}focusInputField(){this.inputRef&&this.inputRef.focus()}validateAge(e){const{i18n:t}=this.props;return Object(s.a)(e,[Object(p.a)({invalidAgeString:t._("Please enter a valid number."),ageTooShortString:t._("Please enter at least two digits.","Error message when age is less than two digits long","Error message when age is less than two digits long")})])}render(){const{age:e,error:t}=this.state;return i.a.createElement("div",{style:{margin:"0 auto",width:"268px"}},i.a.createElement(u,{age:e,error:t,handleAgeChange:this.handleAgeChange,handleSubmit:this.handleSubmit,inputRef:e=>{this.inputRef=e}}))}}t.a=e=>{const t=Object(c.b)(),n=Object(m.d)(),r=Object(f.a)();return i.a.createElement(_,Object.assign({},e,{desktopCoreLoginContext:n,i18n:t,logContextEvent:r}))}},"2S0S":function(e,t,n){e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"2hay":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n("0K1N"),i=n("37no");const o="274266067164",a=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],s=["public_profile","email","user_likes","user_birthday","user_friends"],c=e=>Object(i.c)(Object(r.a)(e),i.a.FACEBOOK).then(()=>{"undefined"!=typeof window&&window.FB&&window.FB.init({appId:o,status:!0,xfbml:!0,version:"v2.7"})}),l=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),u=(e,t={},n)=>new Promise((r,i)=>{if("connected"===e.status){n&&n("success");const{authResponse:{userID:i,accessToken:o}}=e,s={facebook_id:i,facebook_token:o,facebook_autologin:t.autologin||!1},c="/me?fields="+a.join(",");window.FB.api(c,e=>{r({creds:s,data:{...e,...s,...e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{}}})})}else{const t=e.status||"unknown";n&&n("failure."+t),i({status:t})}}),d=(e,t)=>{const n=e.data;e.isTrusted&&"string"==typeof n&&0===n.indexOf("_FB_")&&-1!==n.indexOf("type=login_button_dialog_open")&&t&&t("facebook_connect.login_button_dialog_open")},p=()=>new Promise(e=>{window.FB.login(e,{scope:s.join(",")})}).then(u),h=e=>new Promise((t,n)=>{window.FB.api("/me/permissions",r=>{const i=r.data;if(i){const n=i.find(t=>t.permission===e&&"granted"===t.status);return t({hasPerm:!!n})}return n(Error("Failed to call facebook to get permission"))})})},"2mcs":function(e,t,n){var r=n("ohE5");e.exports=r},"2qKt":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("Y+p1"),s=n.n(a),c=(n("17x9"),n("r8eU")),l=n("Vzit"),u=n("vh5K"),d=n("pLLR"),p=n("ANjH");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.a=(e,t={},n)=>r=>{const a=function(e){return t=>{const n=t.experiences.eligibleExperiences[e],{advertiserId:r}=t;return t.advertiserId?{advertiserId:r,experience:n}:{experience:n}}}(e);n={...f,...n};const g=function(e,t,n=!0,r=!0,o=!1,a){var d,p;return p=d=class extends i.a.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{s()(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){o||this.dispatchPlacementMount(!1)}UNSAFE_componentWillUpdate(n,r){const{dispatch:i,experience:o,requestContext:a}=n,d=new c.b(a,"web_bypass_eligible_experience_v2").enabledWithNoActivation();let p=t;if(d&&"function"==typeof t){const o=t(this.props,this.state.extraContext||{});p=t(n,r.extraContext||{}),s()(o,p)||i(Object(l.c)(e,p,d))}else{if("function"==typeof t){const e=r.extraContext||{};p=t(n,e)}if(!Object(u.e)(o)&&"function"==typeof t&&p&&Object.keys(p).length){const n=t(this.props,this.state.extraContext||{});s()(n,p)||i(Object(l.c)(e,p))}}!o||this.props.experience&&o.id===this.props.experience.id||i(Object(l.i)(e,p))}componentWillUnmount(){const{dispatch:t}=this.props;t(Object(l.k)(e))}dispatchPlacementMount(n){const{advertiserId:r,dispatch:i,requestContext:a}=this.props;let s={};s="function"==typeof t?t(this.props,this.state):{...t};const u=!n&&new c.b(a,"web_bypass_eligible_experience_v2").enabled(),d=o?{advertiserId:r}:void 0;i(Object(l.j)(e,s,n,u,d))}render(){const{experience:e}=this.props,t={[o?"advertiserExperience":"experience"]:Object(u.e)(e)?e:null};return i.a.createElement(a,Object.assign({},this.props,{setPlacementExtraContext:this.setExtraContextState},t))}},h(d,"displayName",`withPlacement(${a.displayName||a.name||"Component"})`),p}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r);return Object(p.compose)(d.e,Object(o.connect)(a))(g)}},"3Br+":function(e,t,n){var r=n("3sOJ"),i=n("jLRO"),o=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(e,s?i.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},"3a2J":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Ctgr"),a=n("k6pS"),s=n("Ye/N"),c=n("CxY0"),l=n.n(c),u=n("zwad"),d=n("PVJQ"),p=n("ANjH"),h=n("YxyV"),f=n("n6mq"),g=n("U4JR"),m=n("28DW"),y=n("szi8"),_=n("pLLR"),v=n("fgHc");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w="RIGHT",E="LEFT",S=Object(h.f)(),C=e=>{e.preventDefault(),e.stopPropagation()},x={gradientLeft:{display:"block",background:"-webkit-linear-gradient(left, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)",height:"30px",left:"0px",top:"0px",position:"absolute",width:"45px",lineHeight:"25px",paddingLeft:"4px",paddingTop:"2px"},gradientRight:{background:"-webkit-linear-gradient(right, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)",height:"30px",right:"0px",top:"0px",position:"absolute",width:"45px",textAlign:"right",lineHeight:"25px",paddingRight:"4px",paddingTop:"2px"},carouselWrapper:{overflow:"scroll",whiteSpace:"nowrap",padding:"3px 0 22px 0"},carouselContainer:{height:S.vaseCarouselHeight+"px"},carouselTag:{backgroundColor:"#ebebe8",borderRadius:"5px",color:"#333",display:"inline-block",fontSize:"9px",fontWeight:"bold",margin:"0 5px 0 0",padding:"7px 7px",whiteSpace:"nowrap",wordWrap:"break-word"},carouselTagUnclickable:{cursor:"default"}};class O extends r.Component{constructor(...e){super(...e),b(this,"state",{scrollTo:0,scrollMin:!0,scrollMax:!1}),b(this,"tags",[])}componentDidMount(){this.handleScroll(),this.wrapper.addEventListener("scroll",this.handleScroll.bind(this))}componentDidUpdate(){this.wrapper.scrollLeft=this.state.scrollTo}componentWillUnmount(){this.wrapper.removeEventListener("scroll",this.handleScroll.bind(this))}handleTagClick(e,t){const{unauthContext:n,pageContext:r,requestContext:i}=this.props,{pageType:o}=r,{currentUrl:s,unauthId:c}=n,{userAgent:l}=i,{raw:p,platform:h}=l;Object(g.b)(101,{element:1116,component:165,unauth_vase_tag:e,unauth_vase_tag_image_sig:this.props.image_signature,unauth_page_type:o,unauth_page_id:u.a.getUnauthPageId(o,s)}),Object(m.e)("click_vase_tag",!0);const f=new a.b(p,h);!this.props.disableDeeplinks&&f.shouldDeepLink(document.referrer,l,!1)&&(t.preventDefault(),f.navigateToDeepLink(c,Object(d.a)(e))),t.stopPropagation()}handleScroll(){const e=Math.round(this.wrapper.scrollLeft),t=0===e,n=e+this.wrapper.clientWidth>=this.wrapper.scrollWidth;this.setState({scrollTo:e,scrollMin:t,scrollMax:n})}handleArrowClick(e,t){t.preventDefault(),t.stopPropagation();const n=Math.round(this.wrapper.scrollLeft),r=this.tags.map(e=>e.offsetLeft-12);let i;e===w?i=r.find(e=>e>n+4):e===E&&(i=r.reverse().find(e=>e<n-4)),this.setState({scrollTo:i})}renderPlainTag(e,t,n){const r=this.props.carouselTagColor?{backgroundColor:this.props.carouselTagColor}:null;return i.a.createElement("a",{href:"",key:t,onClick:C,ref:n.bind(this,t),className:"vaseCarousel_vaseTagLink",style:{...r,...x.carouselTagUnclickable}},Object(o.a)(e))}renderTagWithLink(e,t,n){const{unauthContext:r}=this.props,{currentUrl:a}=r,s=a&&l.a.parse(a).pathname||"",c=this.props.carouselTagColor?{backgroundColor:this.props.carouselTagColor}:null,{styleOverrides:u}=this.props,d=u&&u.hoverSetFalseBackgroundColor?u.hoverSetFalseBackgroundColor:"#ebebe8",p=e=>e.target.style["background-color"]="#E2E2E2",h=e=>e.target.style["background-color"]=d;return e.name?s!==e.url&&e.url?i.a.createElement("a",{onMouseOver:p,onMouseLeave:h,onFocus:p,onBlur:h,style:this.props.pillStyleOverride||c,href:e.url,key:t,onClick:t=>this.handleTagClick(e.name,t),ref:n.bind(this,t),className:"vaseCarousel_vaseTagLink",target:this.props.openInCurrentTab?"_self":"_blank"},Object(o.a)(e.name)):this.renderPlainTag(e.name,t,n):null}renderTags(){const{annotationsWithLinks:e}=this.props,t=(e,t)=>{this.tags[e]=t};return e&&e.length>0?e.map((e,n)=>this.renderTagWithLink(e,n,t)):null}render(){const{styleOverrides:e}=this.props,t=e&&e.gradientLeft?{...e.gradientLeft}:null,n=e&&e.gradientRight?{...e.gradientRight}:null;return i.a.createElement("div",{className:"vaseCarousel_vasetags_container",style:x.carouselContainer,"data-test-id":"vasetags"},i.a.createElement("div",{ref:e=>{this.wrapper=e},className:"vaseCarousel_vasetags_wrapper"},this.renderTags(),this.state.scrollMin?null:i.a.createElement("a",{"data-test-id":"vase-carousel-left-button",href:"",onClick:this.handleArrowClick.bind(this,E),style:t,className:"VaseCarousel__button VaseCarousel__buttonLeft"},i.a.createElement(f.t,{accessibilityLabel:s.a._("Back","Accessible label for the carousel back icon","Accessible label for the carousel back icon"),icon:"arrow-back",inline:!0,size:8})),this.state.scrollMax?null:i.a.createElement("a",{"data-test-id":"vase-carousel-right-button",href:"",onClick:this.handleArrowClick.bind(this,w),style:n,className:"VaseCarousel__button VaseCarousel__buttonRight"},i.a.createElement(f.t,{accessibilityLabel:s.a._("Forward","Accessible label for the carousel forward icon","Accessible label for the carousel forward icon"),icon:"arrow-forward",inline:!0,size:8}))))}}t.a=Object(p.compose)(_.e,v.c,y.c)(O)},"3eT9":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("VbOu"),s=n("0LLM"),c=n("GsvW"),l=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.a.PureComponent{constructor(...e){super(...e),u(this,"state",{truncate:!!this.props.text&&this.props.text.length>(this.props.maxCharLength||c.c)+this.revealText.length}),u(this,"showFullText",()=>this.setState({truncate:!1}))}get revealText(){return this.props.inUnifiedComments?o.a._("... More","click to see more of a long post","click to see more of a long post"):o.a._("... See more","click to see more of a long post","click to see more of a long post")}render(){const{allowLink:e,allowReveal:t,maxCharLength:n,size:r,tags:o,taggedUsers:u,text:d}=this.props,{truncate:p}=this.state,h=p?d.substring(0,n||c.c).trim():d;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{allowLink:e,size:r,taggedUsers:u,tags:o,text:h}),p&&!t&&i.a.createElement(l.V,{inline:!0,weight:"bold",overflow:"normal"},this.revealText),p&&t&&i.a.createElement(s.a,{color:"darkGray",handleClick:this.showFullText,text:this.revealText,size:r}))}}u(d,"defaultProps",{allowLink:!0,allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""}),t.a=d},"3gMK":function(e,t,n){function r(){return"\n  summary::-webkit-details-marker {\n    display: none\n  }\n\n  .PinDescriptionSeeMore_details {\n    margin-top: -15px;\n  }\n\n  .ImmersiveVaseCarouselContainer {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    padding-top: 8px;\n    white-space: nowrap;\n    scrollbar-width: none;\n    position: relative;\n  }\n  .ImmersiveVaseCarouselContainer::-webkit-scrollbar {\n    display: none;\n  }\n\n  .vaseCarousel_vasetags_container {\n    overflow: hidden;\n    position: relative;\n  }\n\n  .vaseCarousel_vasetags_wrapper {\n    overflow: scroll;\n    white-space: nowrap;\n    padding: 3px 0 22px 0;\n  }\n\n  .vaseCarousel_vaseTagLink {\n    background-color: #ebebe8;\n    border-radius: 5px;\n    color: #333;\n    display: inline-block;\n    font-size: 9px;\n    font-weight: bold;\n    margin: 0 5px 0 0;\n    padding: 7px 7px;\n    white-space: nowrap;\n    word-wrap: break-word;\n  }\n\n  .ImmersiveVaseCarousel__vaseTagLink {\n    background-color: #efefef;\n    border-radius: 32px;\n    color: #333;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: bold;\n    margin: 0 5px 0 0;\n    padding: 8px 8px;\n    white-space: nowrap;\n    word-wrap: break-word;\n  }\n\n  .ImmersiveVaseCarousel__vaseTagLinkLeft {\n    position: absolute;\n    left: 0;\n    width: 30px;\n    top: 0;\n    height: 100%;\n    background: linear-gradient(90deg, white, transparent);\n    z-index: 1;\n  }\n\n  .ImmersiveVaseCarousel__vaseTagLinkRight {\n    position: absolute;\n    right: 0;\n    width: 30px;\n    top: 0;\n    height: 100%;\n    background: linear-gradient(-90deg, white, transparent);\n    z-index: 1;\n  }\n\n  .VaseCarousel__button {\n    display: block;\n    height: 30px;\n    top: 0px;\n    position: absolute;\n    width: 45px;\n    line-height: 25px;\n    padding-left: 4px;\n    padding-top: 2px;\n  }\n\n  .VaseCarousel__buttonLeft {\n    left: 0px;\n    background: -webkit-linear-gradient(left, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%);\n  }\n\n  .VaseCarousel__buttonRight {\n    right: 0px;\n    text-align: right;\n    background: -webkit-linear-gradient(right, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%);\n  }\n\n  .HiddenDescriptions_vasetags_title {\n    font-size: 14px;\n    margin-top: 20px;\n    font-weight: bold;\n  }\n\n  .HiddenDescriptions_vasetags {\n    font-family: HelveticaNeue;\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: 1.17;\n    letter-spacing: -0.1px;\n    color: #333333;\n    margin: 8px 0;\n    display: flex;\n  }\n\n  .pinDescription_text_board {\n    font-weight: 400;\n  }\n\n  .UnauthImmersivePin__userRepBold{\n    font-weight: bold;\n    font-size: 14px;\n    color: #111;\n  }\n\n  .UnauthImmersivePin__userRepBold:hover{\n    text-decoration: underline;\n    color: #111;\n  }\n\n  .UnauthImmersivePin__userRep{\n    font-weight: normal;\n    font-size: 14px;\n    color: #111;\n  }\n\n  .UnauthImmersivePin__userRep:hover{\n    text-decoration: underline;\n    color: #111;\n  }\n  "}n.d(t,"a",(function(){return r}))},"3sOJ":function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("L0q3"),a=n("LpQA"),s=n("VSmT"),c=n("hMpd"),l=n("zVay"),u=l.OrderedSet,d=l.Record,p=l.Stack,h=l.OrderedMap,f=l.List,g=d({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:p(),selection:null,treeMap:null,undoStack:p()}),m=function(){t.createEmpty=function(e){return t.createWithContent(a.createFromText(""),e)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:p(),redoStack:p(),decorator:n||null,selection:c.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=r({},e,{treeMap:_(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new g(i))},t.fromJS=function(e){return new t(new g(r({},e,{directionMap:null!=e.directionMap?h(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?u(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?p(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?h(e.treeMap).map((function(e){return f(e).map((function(e){return o.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?p(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||e.getCurrentContent();if(i!==r){var s,c=t.get("treeMap");return s=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(a,a.getBlockMap(),c,i,r):_(a,i),void t.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),a=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return o.generate(i,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),i)),t.merge(n)})))};var e=t.prototype;function t(e){i(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return b(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return b(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return y(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),y(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new c({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var a=e.getSelection(),c=e.getCurrentContent(),l=e.getUndoStack(),u=n;a!==c.getSelectionAfter()||v(e,r)?(l=l.push(c),u=u.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",c.getSelectionBefore()));var d=e.getInlineStyleOverride(),h=["adjust-depth","change-block-type","split-block"];-1===h.indexOf(r)&&(d=null);var f={currentContent:u,directionMap:o,undoStack:l,redoStack:p(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:d};return t.set(e,f)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function y(e,t,n){return m.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function _(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function v(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function b(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):u()}e.exports=m},"493B":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Gytx"),i=n("q1tI");t.useCollector=function(e,t,n){var o=i.useState((function(){return t(e)})),a=o[0],s=o[1],c=i.useCallback((function(){var i=t(e);r(a,i)||(s(i),n&&n())}),[a,e,n]);return[a,c]}},"4JlD":function(e,t,n){var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"4NNh":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));n("kmwA");const r="https://accounts.google.com/gsi/client",i=e=>{e&&e.cancelLastOperation&&e.cancelLastOperation().then(()=>{})},o=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")));var t}},"4NbJ":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return f}));var r=n("bKKl"),i=n("37no");const o="postmessage",a="profile email",s="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",c="com.pinterest",l="offline",u="single_host_origin",d=()=>Object(i.c)("https://apis.google.com/js/client:platform.js",i.a.GPLUS_ONE);function p(e){const t={scope:a,client_id:s,app_package_name:c,access_type:l,cookie_policy:u},n=function(t){e&&e(t)};return new Promise((e,r)=>{d().then(()=>{n("google_script_load"),"undefined"!=typeof window&&window.gapi?window&&window.gapi&&window.gapi.auth2?(n("google_script_init_onuse"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),r("init_onuse_"+e)})):(n("google_script_init_exists"),window.gapi.load("auth2",{callback:()=>{n("google_auth2_load_complete"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),r("init_exists_"+e)})},onerror:({error:e})=>{n("google_auth2_script_load_error"),r(e)},timeout:15e3,ontimeout:()=>{n("google_auth2_script_load_timeout"),r("timeout")}})):n("google_init_error")})})}function h(e,t,n,i=!1){return function(e,t,n,i=!1){return new Promise((s,c)=>{if(i&&Object(r.a)())return void c();const l=function(e){n&&n(e)};l("google_button_init"),p(n).then(()=>{l("google_sdk_load"),"undefined"!=typeof window&&window.gapi?t.signin2.render(e,{scope:a,onsuccess:e=>{l("google_button_success");const t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:i||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:o}};s(n)},onfailure:()=>{l("google_button_failure"),c("gapi_signin2_render_error")}}):l("google_init_error")},e=>{l("google_auth2_sdk_init_error"),c(e)})})}(e,t,n,i)}function f(e,t){return new Promise((e,n)=>{Object(r.a)()?n():(t("google_button_init"),function(e){const t={scope:a,client_id:s,app_package_name:c,access_type:l,cookie_policy:u};return new Promise((n,r)=>{e("google_script_fetch"),Object(i.c)("https://apis.google.com/js/platform.js",i.a.GPLUS_ONE).then(()=>{e("google_script_load"),"undefined"!=typeof window&&window.gapi?window.gapi.load("auth2",{callback:()=>{var i,o;e("google_auth2_load");const a=null===(i=window.gapi)||void 0===i||null===(o=i.auth2)||void 0===o?void 0:o.init(t);a&&a.then(()=>{e("google_init_success"),n(a)},({error:t})=>{e("google_init_error"),r("gplus_simple_load_init_exists_"+t)})},onerror:({error:t})=>{e("google_auth2_script_load_error"),r("gplus_simple_load_"+t)},timeout:15e3,ontimeout:()=>{e("google_auth2_script_load_timeout"),r("gplus_simple_load_timeout")}}):e("google_init_error")})})}(t).then(r=>{t("google_sdk_load");const i=r.currentUser.get().getAuthResponse(!0);if(i){t("google_auth_data_found");const n={data:{gplus_id_token:i.id_token,gplus_access_token:i.access_token,gplus_expires_at:i.expires_at,gplus_autologin:!0}};e(n)}else t("google_auth_data_not_found"),n("gplus_user_not_logged_in")},e=>{t("google_auth2_sdk_init_error"),n(e)}))})}},"4XrY":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("CYTE"),o=n("kc9Y"),a=n("WaGC"),s=n("zVay"),c=n("2NuI"),l=n("gWRK"),u=s.Map,d={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},p=i.isBrowser("IE <= 11"),h=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=u();var n=a(e);n.MutationObserver&&!p?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,d):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=u(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return p?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=l(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=h},"4cTg":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("dKiF");const a=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:r,width:i})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:r,width:i})),s={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=i.a.createContext(s)},"4gAt":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("7GHV"),s=n("wvsB");const c=e=>{let t="";for(const n of e.blocks)[1,0].includes(n.block_type)&&(t=n.text);return t};var l=n("n6mq");function u(e){const{activePageIndex:t,hideText:n,isActive:u,isCoverPage:d,muteVideos:p,onClickThrough:h,page:{image_adjusted:f,image:g,blocks:m,video:y,id:_},pageIndex:v,pageWidth:b,pinId:w}=e,E=f||g||{},{images:S={}}=E,C=S["750x"],{video_list:x={}}=y||{},O=x.V_HLSV3_MOBILE||x.V_720P;if(!C&&!O)return null;const k=b/375;return i.a.createElement(r.Fragment,null,!!y&&!!O&&i.a.createElement(s.a,{activePageIndex:t,blockHeight:210.9375*k,blockPosition:{left:0,top:0},blockWidth:375*k,isPlaying:u,muted:p,pageIndex:v,pinId:w,video:y}),C&&!O&&i.a.createElement(l.v,{alt:c(e.page)||o.a._("Story pin image","Alt text for story pin image","Alt text for story pin image"),fit:d?"cover":"contain",naturalHeight:C.height,naturalWidth:C.width,src:C.url}),m&&m.length>0&&!n&&i.a.createElement("div",{className:"StoryPinTextDrawer"},i.a.createElement(a.a,{blocks:m,onClickThrough:h,pageId:_,pinId:w})))}},"4vzw":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}},"51gp":function(e,t,n){n.d(t,"a",(function(){return b}));var r=n("q1tI"),i=n.n(r),o=n("sEfC"),a=n.n(o),s=n("vYDk");var c=n("BEAQ"),l=n("9pre"),u=n("U4JR"),d=n("n6mq");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=[0,.25,.5,.75,.95,.97],f=[0,.5,.8,1],g={threshold:f},m={rootMargin:"-64px 0px 0px 0px",threshold:l.c},y=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function _(){return(new Date).getTime()}function v(e){return!!e.volume&&e.volume>0}class b extends i.a.Component{constructor(e){super(e),p(this,"videoWrapperRef",i.a.createRef()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const r=1e3*e.time,i=function(e,t,n,r){if(e>t)return null;if(n<=0)return null;for(const i of r){const r=i*n;if(e<=r&&t>r)return i}return null}(this.videoTime,r,this.currentInterval.videoDuration,h);if("number"==typeof i&&this.props.playing&&!t&&n){const e=_();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*i),quartilePercentValue:i})}this.videoTime=r,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],r=function(e,t){for(let n=0;n<t.length;n+=1){const r=t[n],i=t[n+1];if(null==i)return r;if(r<=e&&e<i)return r}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),f);null==r||r===this.currentInterval.viewability||this.fullscreen||(0===r?this.startNewInterval({viewability:r,playbackState:y.PAUSED}):this.startNewInterval({viewability:r}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=_();this.handleWindowResize=a()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:v(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};v(e)&&!v(this.props)?n.isAudible=!1:!v(e)&&v(this.props)&&(n.isAudible=!0);const r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?y.PLAYING:y.PAUSED:y.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:r,width:i,windowHeight:o,windowWidth:a,viewability:s,...c}=t;if(null!=r&&null!=i&&null!=o&&null!=a&&null!=s){const t={...c,height:r,width:i,windowHeight:o,windowWidth:a,viewability:s};Object(u.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:r,videoStartTime:i,videoEndTime:o,isAudible:a,height:s,width:c,playbackState:l,quartile:u,quartilePercentValue:d,windowHeight:p,windowWidth:h,viewability:f}},...g}=e;return{...g,eventData:{videoEventData:{videoDuration:t,time:n,endTime:r,videoTime:i,endVideoTime:o,isAudible:a,height:s,width:c,playbackState:l,quartile:u,quartilePercentValue:d,windowHeight:p,windowWidth:h,viewability:f}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=_();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=_();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:l,captions:u,contextLogData:d,controls:p,cropHeight:h,hlsConfig:f,inAdsDesktopVideoExperiment:y,loop:_,objectFit:v,onLoadedChange:b,onPause:w,onPlay:E,onSeek:S,onVolumeChange:C,playbackRate:x,playing:O,playsInline:k,poster:T,preload:I,rootMargin:D,src:P,videoStartTime:j,volume:M}=this.props,{seeking:A}=this.state,L=y?m:g;return void 0!==D&&(L.rootMargin=D),i.a.createElement(s.a,{options:L,onVisibilityChange:this.handleVisibilityChange},i.a.createElement("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:h?{display:"flex",alignItems:"center",height:"236px"}:{}},i.a.createElement(c.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:l,captions:u,contextLogData:d,controls:p,hlsConfig:f,loop:_,objectFit:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:b,onLoop:this.handleLoop,onPause:w,onPlay:E,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:S,onTimeChange:this.handleTimeChange,onVolumeChange:C,playbackRate:x,playing:!A&&O,playsInline:k,poster:T,preload:I,src:P,videoStartTime:j,volume:M})))}}p(b,"defaultProps",d.bb.defaultProps)},"54t5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN"),i=n("HNpt"),o=n("U4W0"),a=n("uCRx"),s=n("QLaP"),c=n("IEa/");function l(e){switch(e[0]){case"S":return o.HandlerRole.SOURCE;case"T":return o.HandlerRole.TARGET;default:s(!1,"Cannot parse handler ID: "+e)}}function u(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(i.value[1]===t)return!0;r=o}while(!r);return!1}var d=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(o.HandlerRole.SOURCE,e,t);return this.store.dispatch(r.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(o.HandlerRole.TARGET,e,t);return this.store.dispatch(r.addTarget(n)),n},e.prototype.containsHandler=function(e){return u(this.dragSources,e)||u(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),s(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return s(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return s(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return l(e)===o.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return l(e)===o.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;s(this.getSource(e),"Expected an existing source."),this.store.dispatch(r.removeSource(e)),c((function(){t.dragSources.delete(e),t.types.delete(e)}))},e.prototype.removeTarget=function(e){s(this.getTarget(e),"Expected an existing target."),this.store.dispatch(r.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);s(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var r=function(e){var t=i.default().toString();switch(e){case o.HandlerRole.SOURCE:return"S"+t;case o.HandlerRole.TARGET:return"T"+t;default:throw new Error("Unknown Handler Role: "+e)}}(e);return this.types.set(r,t),e===o.HandlerRole.SOURCE?this.dragSources.set(r,n):e===o.HandlerRole.TARGET&&this.dropTargets.set(r,n),r},e}();t.default=d},"5ARb":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),i=(n("QWfI"),n("2S0S")),o=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],s=function(){function e(e,t,n){var r=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach((function(t){i(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),a.forEach((function(t){i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},"5RSi":function(e,t,n){var r=n("Iq8E"),i=n("gWRK");e.exports=function(e,t,n,o,a){var s=i(e.getSelection());if(!t||!o)return s;var c=r.decode(t),l=c.blockKey,u=e.getBlockTree(l),d=u&&u.getIn([c.decoratorKey,"leaves",c.leafKey]),p=r.decode(o),h=p.blockKey,f=e.getBlockTree(h),g=f&&f.getIn([p.decoratorKey,"leaves",p.leafKey]);if(!d||!g)return s;var m=d.get("start"),y=g.get("start"),_=d?m+n:null,v=g?y+a:null;if(s.getAnchorKey()===l&&s.getAnchorOffset()===_&&s.getFocusKey()===h&&s.getFocusOffset()===v)return s;var b=!1;if(l===h){var w=d.get("end"),E=g.get("end");b=y===m&&E===w?a<n:y<m}else{b=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===l||e===h})).first()===h}return s.merge({anchorKey:l,anchorOffset:_,focusKey:h,focusOffset:v,isBackward:b})}},"5WKM":function(e,t,n){var r=n("l/EB"),i=n("cPMF"),o=n("HGDa");var a=e=>{if(!Object(i.a)(e)&&!Object(r.a)(e))return-1;const t=new Date(e);if(Number.isNaN(t.getTime()))return-1;const n=t.toISOString().substr(0,10);return new Date(n).getTime()/o.e};t.a=e=>({first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.image_url,facebook_id:e.id,facebook_token:e.access_token||"",birthday:String(a(e.birthday||""))})},"5Wuq":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("kGJw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?new RegExp((0,o.default)(e)+"("+n+"|\\s){0,}","g"):new RegExp("(\\s|^)"+(0,o.default)(e)+n,"g");return function(e,t){!function(e,t,n){var r=t.getText();t.findEntityRanges((function(e){return!e.getEntity()}),(function(t,i){for(var o=r.slice(t,i),a=void 0,s=void 0,c=e.lastIndex;null!==(a=e.exec(o))&&e.lastIndex!==c;)c=e.lastIndex,s=t+a.index,n(s,s+a[0].length)}))}(r,e,t)}}},"62uD":function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("yjg8");function i(e){let t="";const n=r.i,i=Object(r.n)(e),o=r.c,a=r.e+o;let s=0,c=n*a+a-1;for(let r=n;r<i+1;r+=1)t+=`\n@media (min-width: ${s}px) and (max-width: ${c}px) {\n  .static:nth-child(-n+${r}) {\n    float: left;\n    position: static;\n    display: block;\n    visibility: visible;\n    margin: 0 ${o/2}px;\n  }\n  .gridCentered {\n    width: ${r*a}px;\n  }\n}\n`,s=c+1,c+=a;return t+="\n.static {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered {\n  margin: 0 auto;\n}\n.Grid__Container {\n    height: 100%;\n    margin: 0 auto;\n    position: relative;\n}\n\n.Grid__Item {\n    position: absolute;\n}\n",t}},"6AVr":function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("QHRY"),s=n("eOdZ"),c=n("n6mq"),l=n("yjg8"),u=n("AXgn");const d="related-pins-section",p={textAlign:"center",color:"#555555"},h={color:"#333",fontSize:"20px",fontWeight:"600",textAlign:"center"};function f({closeupPin:e,relatedPins:t,nextBookmark:n,hideMeta:r,isStoryPin:f,pinImageClickHandler:g,showSignupModal:m,includeHeader:y=!0}){const _=Object(u.b)(t.length);return i.a.createElement("section",{style:{backgroundColor:"#fff",paddingTop:"35px"},id:d},y&&i.a.createElement(c.e,{marginTop:-3,marginStart:2},i.a.createElement("h2",{className:"gridCentered",style:f?h:p},Array.isArray(t)&&t.length?o.a._("People also love these ideas","Heading for Related Pins beneath pin closeup","Heading for Related Pins beneath pin closeup"):"")),i.a.createElement(a.a,{bookmarks:n?[n]:[],carouselTagColor:"#ffffff",hideMeta:r,isRelatedPin:!0,items:[..._,...t],loadPins:(v=e.id,(e,t,n)=>{s.a.create("RelatedPinFeedResource",{add_vase:!0,bookmarks:[t],field_set_key:"unauth_react",offset:e.length,page_size:0,pin:v,pins_only:!0}).callGet().then(e=>{var t,r;const i=(null==e||null===(t=e.resource_response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.map(e=>e.data?e.data:e))||[];n(i,e.bookmarks)})}),openInCurrentTab:!0,pinImageClickHandler:g,pinImageWidthMax:l.e,pinWrapperBackgroundColor:"#efefef",showRelatedPinsHeader:!0,showSignupModal:m,viewParameter:3063,viewType:3}));var v}},"6Xrj":function(e,t,n){function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n("S5bm"),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},"6d7w":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("yweb"),a=n("n6mq");t.a=()=>{const e=Object(o.b)();return i.a.createElement(a.V,{align:"center",overflow:"normal"},e._("You're almost there! Log in to access all of Pinterest","loginModal.limitedLogin.subheader","Subheader text on personalized login modal/flyout to remind users to log in"))}},"6lKZ":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},o=e=>{if(e.isHidden){const{reason:t}=e;i.onPauseListeners.forEach(e=>e(t))}else i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0),t.a=i},"6tyx":function(e,t,n){(function(t){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n("rAV9"),u=n("0TRD"),d=n("jl1W"),p=n("Idtq"),h=n("ISR0"),f=n("1Jbx"),g=n("ubb0"),m=n("Hdlu"),y=n("m75S"),_=n("3sOJ"),v=n("q1tI"),b=n("prOm"),w=n("6Xrj"),E=n("CYTE"),S=n("YVIB"),C=n("rJY1"),x=n("AyB5"),O=n("DeIs"),k=n("cwFY"),T=n("2NuI"),I=n("OLzA"),D=n("gWRK"),P=E.isBrowser("IE"),j=!P,M={edit:f,composite:d,drag:h,cut:null,render:null},A=!1,L=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(v.Component),R=function(e){function n(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var o=w.getScrollParent(i),a=e||O(o),s=a.x,c=a.y;I(i)||T(!1),i.focus(),o===window?window.scrollTo(s,c):b.setTop(o,c),r||n.update(_.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(I(e)||T(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},M.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var c=o({},M,{edit:s});n._handler=c[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||C(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(g?g((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:D(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,e)}return null},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,c=e.editorState,l=e.preventScroll,d=e.readOnly,h=e.textAlignment,f=e.textDirectionality,g=S({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),m=this.props.role||"textbox",y="combobox"===m?!!this.props.ariaExpanded:null,_={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},u,s),customStyleFn:a,editorKey:this._editorKey,editorState:c,preventScroll:l,textDirectionality:f};return v.createElement("div",{className:g},this._renderPlaceholder(),v.createElement("div",{className:S("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":d?null:this.props.ariaActiveDescendantID,"aria-autocomplete":d?null:this.props.ariaAutoComplete,"aria-controls":d?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":d?null:y,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":d?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:S({notranslate:!d,"public/DraftEditor/content":!0}),contentEditable:!d,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:d?null:m,spellCheck:j&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(L,{editor:this,editorState:c}),v.createElement(p,i({},_,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!A&&k("draft_ods_enabled")&&(A=!0,y.initODS()),this.setMode("edit"),P&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(v.Component);s(R,"defaultProps",{blockRenderMap:l,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:x,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=R}).call(this,n("yLpj"))},"6uti":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case m:case g:case o:return t}}}function _(e){return y(e)===p}t.typeOf=y,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return _(e)||y(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===g},t.isPortal=function(e){return y(e)===o},t.isProfiler=function(e){return y(e)===c},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===f}},"7/2Y":function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},"75Er":function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("+NLT"),a=n("m2Wt"),s=n("h4v/");function c(e,t){Object(r.useEffect)(()=>{if(e){const t=a.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(o.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),s.a.getInstance().addEvent(t)}},[t])}function l(e,t){return function(n){function r(r){return c(e(r),t?t(r):void 0),i.a.createElement(n,r)}return r.displayName=`withViewLog(${n.displayName||n.name||""})`,r}}function u(e){const{children:t,log:n}=e;return c(n),t||null}},"7GHV":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("7l+q"),a=n("/MKj"),s=n("Ye/N"),c=n("qD10"),l=n("s+7V"),u=n("d90F"),d=n("U4JR"),p=n("n6mq");const h=Object(l.a)(e=>{const{sourceUrl:t,linkText:n,displayUrl:r,image:o,pageId:a,canonicalUrl:l,pinId:h,storyPinDataId:f,onTouch:g,onClickThrough:m,isLoading:y}=e,_={story_pin_page_id:a,story_pin_data_id:f,src_url:t,canonical_url:l},v=()=>{m&&m(!1,_)},b=()=>{Object(d.b)(101,{objectId:h,view:3,viewParameter:157,component:228,element:11157,..._})},w=i.a.createElement(p.e,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm"},i.a.createElement(p.e,{minWidth:80,width:80,height:80,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",color:y||o&&o.url?void 0:"lightGray",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}}},y?i.a.createElement(p.O,{accessibilityLabel:s.a._("Loading website","a11y for loading spinner","a11y for loading spinner"),show:!0}):(e=>o&&o.url?i.a.createElement(p.v,{fit:"cover",src:o.url,alt:e,naturalHeight:o.height,naturalWidth:o.width}):i.a.createElement(p.t,{dangerouslySetSvgPath:{__path:"M21.001,7.241 L16.948,11.293 L15.888,10.233 L16.56,9.561 C17.146,8.976 17.146,8.026 16.56,7.44 C15.974,6.855 15.024,6.855 14.439,7.44 L13.768,8.112 L12.707,7.052 L16.759,3 L21.001,7.241 Z M11.293,16.949 L7.241,21.001 L2.999,16.76 L7.052,12.707 L8.111,13.767 L7.44,14.439 C6.855,15.025 6.855,15.974 7.44,16.56 C8.025,17.146 8.976,17.145 9.561,16.56 L10.232,15.888 L11.293,16.949 Z M14.639,0.879 L10.586,4.931 C9.415,6.102 9.415,8.001 10.586,9.173 L11.647,10.233 L10.232,11.647 L9.172,10.586 C8.001,9.415 6.102,9.415 4.931,10.586 L0.879,14.638 C-0.293,15.81 -0.293,17.709 0.879,18.88 L5.12,23.122 C6.291,24.293 8.19,24.293 9.361,23.122 L13.414,19.07 C14.585,17.898 14.585,15.999 13.414,14.828 L12.354,13.767 L13.768,12.354 L14.828,13.414 C15.999,14.585 17.898,14.585 19.069,13.414 L23.121,9.362 C24.293,8.191 24.293,6.292 23.121,5.12 L18.88,0.879 C17.709,-0.293 15.81,-0.293 14.639,0.879 Z"},accessibilityLabel:s.a._("Default link block icon","Icon for default link blocks without an image","Icon for default link blocks without an image"),color:"gray",size:35}))(n)),i.a.createElement(p.e,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}}},i.a.createElement(p.V,{truncate:!0,weight:"bold"},n),i.a.createElement(p.V,{size:"md",color:"blue"},r)));return g?i.a.createElement(p.U,{onTap:g,rounding:2},w):i.a.createElement(u.a,{name:"web_story_pin_link_block_click_through_logging"},({anyEnabled:e})=>{const n=e?v:b;return i.a.createElement(c.a,{to:t,noFollow:!0,onClick:n,target:!0,pinId:h},w)})});var f=Object(a.connect)(({pins:e},{pinId:t})=>({storyPinDataId:t&&e&&e[t]&&e[t].story_pin_data_id}))(h),g=n("OSge");var m=({block:e,pageId:t,pinId:n,onClickThrough:r})=>{switch(e.type){case g.a.LINK:const{canonical_url:a,image:s,normalized_url:c,src_url:l,text:u=""}=e,h=s.images["345x"],m=e=>{e&&Object(d.b)(120,{view:3,viewParameter:157,component:228,element:11157,story_pin_page_id:t,objectId:n,srcUrl:l,canonicalUrl:a})};return s&&l&&c&&a?i.a.createElement(p.e,{marginTop:5},i.a.createElement(f,{canonicalUrl:a,displayUrl:c,image:h,linkText:u,onClickThrough:r,onVisibilityChanged:m,pageId:t,pinId:n,sourceUrl:l})):null;case g.a.HEADING:{const{text:t=""}=e;return i.a.createElement(p.e,{marginBottom:4,paddingX:2},i.a.createElement(p.s,{size:"md",overflow:"normal",accessibilityLevel:2},t))}case g.a.PARAGRAPH:{const{text:t=""}=e;return i.a.createElement(p.e,{paddingX:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}}},i.a.createElement(p.V,null,i.a.createElement(o.a,null," ",t," ")))}default:return null}};t.a=e=>{const{blocks:t,pageId:n,pinId:r,onClickThrough:o}=e;return i.a.createElement("div",{className:"StoryPinText"},t.filter(e=>e).map((e,t)=>i.a.createElement(m,{block:e,key:t,pageId:n,pinId:r,onClickThrough:o})))}},"7IEp":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),o=s(i),a=s(n("N1c7"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseUp=function(){n.mouseDown&&(n.props.onMentionSelect(n.props.mention),n.mouseDown=!1)},n.onMouseDown=function(e){e.preventDefault(),n.mouseDown=!0},n.onMouseEnter=function(){n.props.onMentionFocus(n.props.index)},n.mouseDown=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(){this.mouseDown=!1}},{key:"render",value:function(){var e=this.props,t=e.theme,n=void 0===t?{}:t,r=e.mention,i=e.searchValue,a=e.isFocused,s=e.id,c=a?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry,l=this.props.entryComponent;return o.default.createElement(l,{className:c,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,role:"option",id:s,"aria-selected":a?"true":null,theme:n,mention:r,isFocused:a,searchValue:i})}}]),t}(i.Component);c.propTypes={entryComponent:a.default.any.isRequired,searchValue:a.default.string,onMentionSelect:a.default.func},t.default=c},"7M1j":function(e,t,n){function r(e){return e.replace(/([A-Z])/g,e=>"_"+e.toLowerCase())}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var i=n("28DW"),o=n("gC5q");const a=300,s=e=>t=>Object(i.a)(e+t),c=e=>Object(o.a)(r)(e)},"7Pus":function(e,t,n){},"7UXn":function(e,t,n){n.d(t,"a",(function(){return k}));var r=n("q1tI"),i=n.n(r),o=n("YsiA"),a=n("PzSa"),s=n("xBZo"),c=n("TgLd"),l=n("e3X+"),u=n("yweb"),d=n("n6mq");function p(e){const t=Object(u.b)()._("Reset password","Request a password reset email","Request a password reset email");return i.a.createElement(d.f,{accessibilityLabel:t,color:e.color||"red",inline:e.inline,onClick:()=>{Object(l.a)({usernameOrEmail:e.email,callBack:e.callBack})},text:e.overrideText||t})}var h=n("qpbZ");function f({email:e,onClose:t,onPasswordResetSent:n,socialButtons:r}){const o=Object(u.b)();return i.a.createElement(c.b,{accessibilityModalLabel:o._("Login with Facebook or Google?","Modal accessibility label for when a user has failed login three times","Modal accessibility label for when a user has failed login three times"),heading:o._("Looks like you’re having trouble logging in","Modal heading for user who have attempted to login three times","Modal heading for user who have attempted to login three times"),onDismiss:t,role:"alertdialog",size:"md"},i.a.createElement(d.e,{paddingX:6,marginBottom:4},i.a.createElement(d.e,null,i.a.createElement(d.V,null,Object(h.b)(o._("We sent an email to {{ email }} to help you get back in.","",""),{email:i.a.createElement(d.V,{inline:!0,key:"emailAddress",weight:"bold"},e)})),i.a.createElement(d.e,{paddingY:3},i.a.createElement(p,{inline:!0,color:"gray",email:e,callBack:n,overrideText:o._("Resend email","Button to allow the user to request a password reset email","Button to allow the user to request a password reset email")}))),i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,null,o._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login","Upsell to use Facebook or Google for login"))),r,i.a.createElement(d.e,{marginTop:4},i.a.createElement(s.a,{onClick:t}))))}function g({email:e,onClose:t,onPasswordResetSent:n,socialButtons:r}){const o=Object(u.b)();return i.a.createElement(c.b,{accessibilityModalLabel:o._("Login limit reached","Modal accessibility label for users who have been login rate limited","Modal accessibility label for users who have been login rate limited"),heading:o._("Oops! Too fast","Modal heading for user who have been login rate limited","Modal heading for user who have been login rate limited"),onDismiss:t,role:"alertdialog",size:"md"},i.a.createElement(d.e,{paddingX:6,marginBottom:4},i.a.createElement(d.e,{marginBottom:4,width:"100%",overflow:"hidden"},i.a.createElement(d.V,{inline:!0},o._("It looks like you’re logging in a lot. Log in with Facebook or Google if you’re connected, or reset your password. Or you can wait 30 minutes and try again.","Statement that the users is login limited","Statement that the users is login limited"))),i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,null,o._("Or log in with Facebook or Google.","Upsell to use Facebook or Google for login","Upsell to use Facebook or Google for login"))),i.a.createElement(p,{email:e,callBack:n}),r,i.a.createElement(d.e,{marginTop:4},i.a.createElement(s.a,{onClick:t,overrideText:o._("I’ll wait","Button text acknowledging login rate limiting","Button text acknowledging login rate limiting")}))))}function m({email:e,loginWith:t,onClose:n,onPasswordResetSent:r}){const o=Object(u.b)();return i.a.createElement(c.b,{accessibilityModalLabel:o._("No matching account","Modal accessibility label for account recovery","Modal accessibility label for account recovery"),heading:o._("Oops! Something went wrong","Modal heading","Modal heading"),onDismiss:n,role:"alertdialog",size:"md"},i.a.createElement(d.e,{paddingX:6,marginBottom:4},i.a.createElement(d.e,{marginBottom:6},"facebook"===t?i.a.createElement(d.V,null,o._("We couldn’t match your Facebook account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login","Notice that no Pinterest account exists for the Facebook account used to attempt login")):i.a.createElement(d.V,null,o._("We couldn’t match your Google account to any Pinterest account. Try resetting your password instead.","Notice that no Pinterest account exists for the Facebook account used to attempt login","Notice that no Pinterest account exists for the Facebook account used to attempt login"))),i.a.createElement(p,{email:e,callBack:r}),i.a.createElement(d.e,{marginTop:2},i.a.createElement(s.a,{onClick:n}))))}var y=n("kmwA");function _({email:e,onClose:t,onPasswordResetSent:n}){const r=Object(u.b)(),o=r._("Password reset email sent","Modal label for confirmation of password reset send","Modal label for confirmation of password reset send");return i.a.createElement(c.b,{accessibilityModalLabel:o,heading:o,onDismiss:t,role:"alertdialog",size:"md"},i.a.createElement(d.e,{paddingX:6,marginBottom:4},i.a.createElement(d.V,{overflow:"normal"},Object(h.b)(r._("We sent instructions to pick a new password to {{ email }}.","Statement that a password reset email has been sent to the user","Statement that a password reset email has been sent to the user"),{email:i.a.createElement(d.V,{inline:!0,key:"emailAddress",overflow:"normal",weight:"bold"},e)})),i.a.createElement(d.e,{paddingY:4},i.a.createElement(p,{inline:!0,color:"gray",email:e,callBack:n,overrideText:r._("Resend email","Button to allow the user to request a password reset email","Button to allow the user to request a password reset email")})),i.a.createElement(d.e,null,i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,null,Object(h.b)(r._("Didn’t get the email? Try these {{ tips }}","Direction to help center if the password reset email failed","Direction to help center if the password reset email failed"),{tips:i.a.createElement(d.V,{inline:!0,key:"helpCenter",weight:"bold"},i.a.createElement(d.z,{inline:!0,key:"helpCenterLink",target:"blank",href:y.a.settings.HELP_PASSWORD_RESET_URL+"?source=account_recovery"},r._("tips from our Help Center","Link text to go to help center","Link text to go to help center")))}))),i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,null,Object(h.b)(r._("Not your email address? {{ tryAgain }}","Link to password reset flow for users who make an incorrect password reset request","Link to password reset flow for users who make an incorrect password reset request"),{tryAgain:i.a.createElement(d.V,{inline:!0,key:"tryAgain",weight:"bold"},i.a.createElement(d.z,{inline:!0,key:"passwordResetLink",href:y.a.settings.PASSWORD_RESET_URL},r._("Try another","Link text to enter the password reset flow for a different email address/username","Link text to enter the password reset flow for a different email address/username")))})))),i.a.createElement(d.e,null,i.a.createElement(s.a,{color:"red",onClick:t}))))}function v({email:e,onClose:t,onPasswordResetSent:n,socialButtons:r}){const o=Object(u.b)();return i.a.createElement(c.b,{accessibilityModalLabel:o._("Recover your account","Modal accessibility label for account recovery","Modal accessibility label for account recovery"),heading:o._("We protected your account","Modal heading for user who need to recover their accounts","Modal heading for user who need to recover their accounts"),onDismiss:t,role:"alertdialog",size:"md"},i.a.createElement(d.e,{paddingX:6,marginBottom:4},i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,{inline:!0},o._("We noticed some strange activity on your Pinterest account so we reset your password and logged everyone out (including you).","Statement that we detected suspicious activity","Statement that we detected suspicious activity"))),i.a.createElement(d.e,{marginBottom:4},i.a.createElement(d.V,null,o._("Reset your password or log in with Facebook or Google to get back into your account","Prompt to take action to reset password or upsell login with Facebook/Google","Prompt to take action to reset password or upsell login with Facebook/Google"))),i.a.createElement(p,{email:e,callBack:n}),r,i.a.createElement(d.e,{marginTop:4},i.a.createElement(s.a,{onClick:t}))))}var b=n("pfX0"),w=n("M1Uz"),E=n("zRck"),S=n("AXUD"),C=n("J8m7"),x=n("sv3x");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={[C.e]:x.a.RATE_LIMITED,[C.d]:x.a.RATE_LIMITED,[C.A]:x.a.SOFT_BANNED,[C.v]:x.a.SUSPENDED,[C.o]:x.a.LOGIN_ASSISTANCE,[C.q]:x.a.SOFT_BANNED,[S.b]:x.a.RATE_LIMITED};class T extends i.a.Component{constructor(...e){super(...e),O(this,"state",{showToast:!1}),O(this,"dismissModal",()=>{this.props.updateAccountRecoveryModal(null)}),O(this,"showPasswordResetSent",()=>this.props.updateAccountRecoveryModal(x.a.PASSWORD_RESET_SENT)),O(this,"showLoginWithFailed",e=>{"facebook"===e?this.props.updateAccountRecoveryModal(x.a.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.props.updateAccountRecoveryModal(x.a.PREVENT_GOOGLE_REGISTER)}),O(this,"toggleToast",()=>this.setState(e=>({showToast:!e.showToast}))),O(this,"renderSocialButtons",()=>{const{i18n:e}=this.props;return i.a.createElement(d.e,null,i.a.createElement(o.a,{buttonText:e._("Continue with Facebook","Facebook login button text","Facebook login button text"),container:E.a,disablePostSignupNextUrl:!0,onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.props.onLoginWithSuspended,showFallback:!0,preventRegister:this.showLoginWithFailed}),i.a.createElement(d.e,{marginTop:1},i.a.createElement(a.a,{container:E.a,disablePostSignupNextUrl:!0,onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.props.onLoginWithSuspended,preventRegister:this.showLoginWithFailed,onLoginWithVoluntarilyDeactivated:e=>{this.dismissModal(),this.props.onLoginWithVoluntarilyDeactivated&&this.props.onLoginWithVoluntarilyDeactivated(e)}})))})}render(){const{email:e,modalType:t,i18n:n}=this.props,r={email:e,onClose:this.dismissModal,onPasswordResetSent:this.showPasswordResetSent},o={...r,socialButtons:this.renderSocialButtons()};switch(t){case x.a.SUSPENDED:return i.a.createElement(b.a,{onClose:this.dismissModal});case x.a.LOGIN_ASSISTANCE:return i.a.createElement(f,o);case x.a.RATE_LIMITED:return i.a.createElement(g,o);case x.a.SOFT_BANNED:return i.a.createElement(v,o);case x.a.PREVENT_FACEBOOK_REGISTER:return i.a.createElement(m,Object.assign({},r,{loginWith:"facebook"}));case x.a.PREVENT_GOOGLE_REGISTER:return i.a.createElement(m,Object.assign({},r,{loginWith:"google"}));case x.a.PASSWORD_RESET_SENT:return i.a.createElement(i.a.Fragment,null,i.a.createElement(_,Object.assign({},r,{onPasswordResetSent:this.toggleToast})),this.state.showToast&&i.a.createElement(d.e,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed"},i.a.createElement(w.a,{onHide:this.toggleToast,text:n._("Email sent!"),duration:3500})));default:return null}}}t.b=e=>{const t=Object(u.b)();return i.a.createElement(T,Object.assign({},e,{i18n:t}))}},"7asU":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1];return function(){for(var e=r.apply(void 0,arguments),n=t.length-2;n>=0;n-=1){var i=t[n];e=i(e)}return e}}},"7jH2":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return w.a})),n.d(t,"q",(function(){return E})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return T})),n.d(t,"v",(function(){return I})),n.d(t,"w",(function(){return D})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return M})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return R}));var r=({closeupPaneWidth:e,imgSrc:t,isGif:n,pin:r})=>{const i=v(Object(w.a)({pin:r})),{image564x:o={}}=g(i)||{},{imageOrig:a={}}=y(i)||{},s=0===Object.keys(o).length?a:o,c=s.height,l=s.width,{image236x:u={}}=f(v(Object(w.a)({pin:r})))||{},d=u.url,p=Math.max(Math.min(l,e),60),h=p/l*c;return{alt:r.description,src:n?t:d,naturalHeight:h,naturalWidth:p}},i=n("Nle8");function o(e){return!e.is_promoted}var a=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function s(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var c=n("pOug");var l=Object(c.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:r,description:i,authors:o,date_published:s}=n||{};return r?{...e,article:{name:r,description:i,authors:a(o),datePublished:s&&new Date(s)||void 0}}:null});var u=Object(c.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:r,author_name:i,title:o,provider_name:a,cc_url:s,embed:c}=t||{};return a&&r?{...e,attribution:{providerUrl:r,providerName:a,title:o,authorUrl:n,authorName:i,ccUrl:s,embed:c}}:null});var d=Object(c.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var p=Object(c.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const h=e=>t=>{const{images:n}=t,r=n[e],{url:i,width:o,height:a}=r||{};return i&&o&&a?{url:i,width:o,height:a}:null},f=Object(c.a)(e=>{const t=h("236x")(e);return t&&{...e,image236x:t}}),g=Object(c.a)(e=>{const t=h("564x")(e);return t&&{...e,image564x:t}}),m=Object(c.a)(e=>{const t=h("736x")(e);return t&&{...e,image736x:t}});var y=Object(c.a)(e=>{const{images:t}=e,n=t.orig,{url:r,width:i,height:o}=n||{};return r&&i&&o?{...e,imageOrig:{url:r,width:i,height:o}}:null});var _=Object(c.a)(e=>{const{embed:t}=e.pin,{type:n,src:r,subtype:i}=t||{},{attribution:o={}}=u(e)||{},{embed:a={}}=o,{src:s}=a,c=r||s;return c?{...e,embed:{type:n,src:c,subtype:i}}:null});var v=Object(c.a)(e=>{const{pin:t}=e,{images:n}=t,r=Object.keys(n||{}).reduce((e,t)=>{const r=n[t],{url:i,width:o,height:a}=r;return e&&i&&o&&a?{...e,[t]:{url:i,width:o,height:a}}:null},{});return r&&Object.keys(r).length>0?{...e,images:r}:null});var b=Object(c.a)(e=>{const{products:t=null}=O(e)&&E(O(e))||{},{pin:n}=e,{tracked_link:r,link:i,method:o}=n,a=r||i,s=a&&("catalog_bulk_create"===o||!!t)?decodeURIComponent(a):a;return s?{...e,link:s}:null}),w=n("O1y+");Object(c.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:r}=n||{};return r?{...e,pinTags:r}:null});var E=Object(c.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:r}=t,{products:i}=n,o=Array.isArray(i)?i.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:i,min_price:o,max_price:a,price:s}=n||{};let c=null;return void 0!==o&&void 0!==a?c=`${o} - ${a}`:void 0!==s&&(c=""+s),t?{name:t,outOfStock:!1===r||!1===i,priceText:c}:null}).filter(e=>null!==e):[];return o.length>0?{...e,products:{first:o[0],rest:o.slice(1)}}:null}),S=n("PsyL");const C=e=>{const{h:t,m:n}=e||{},r={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:r,isoDuration:Object(S.a)(r)}:null};var x=Object(c.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:r,categorized_ingredients:i,diets:o,from_aggregated_data:a,cook_times:s,servings_summary:c}=n||{},{total:l,cook:u,prep:d}=s||{},{summary:p}=c||{},h=C(d),f=C(u),g=C(l);return r?{...e,recipe:{name:r,categorizedIngredients:i,diets:o,fromAggregatedData:a,prepTime:h,cookTime:f,totalTime:g,servingSummary:p}}:null});var O=Object(c.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var k=Object(c.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var T=Object(c.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var I=Object(c.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:r,title:i,closeup_unified_title:o}=t;let a=n?o:i;if(r){const{carousel_slots:e=[],index:t}=r;e[t]&&e[t].title&&(a=e[t].title)}return a?{...e,title:a}:null});var D=Object(c.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:r,description:i,from_aggregated_data:o}=n||{};return n&&r?{...e,tutorial:{name:r,description:i,fromAggregatedData:o}}:null});const P=e=>{const{thumbnail:t,url:n,width:r,height:i,duration:o}=e||{};return t&&n&&r&&i&&{thumbnail:t,url:n,width:r,height:i,duration:o}||void 0};var j=Object(c.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:r={}}=t||{},{V_720P:i,V_HLSV4:o,V_HLSV3_MOBILE:a}=r,s=P(o),c=P(a),l=P(i),u=l||s||c;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:l||void 0,hls:s||void 0,hlsv3:c||void 0}}:null});var M=Object(c.a)(e=>{const{video:t}=j(Object(w.a)(e))||{},{embed:n}=_(Object(w.a)(e))||{},r=!(!t||!(e=>{const{hlsv3:t,hls:n}=e,r=t||n;return!!r&&r.width>r.height})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:r}});function A({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var L=n("Zygf"),R=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(L.a)(e))},"7l+q":function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),o=n("+80P"),a=n.n(o),s=n("qD10"),c=n("johb"),l=n("zwad");const u=new a.a;u.tlds(c),u.add("#",{validate(e,t,n){const r=e.slice(t);return n.re.hashtag||(n.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+n.re.src_ZPCc+")")),n.re.hashtag.test(r)?!(t>=2&&"#"===r[t-2])&&r.match(n.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=hashtag_pinrep`}});class d extends r.PureComponent{parseString(e){if(""===e)return e;const t=(n=e,u.match(n));var n;if(!t)return e;const r=[];let o=0;return t.forEach((t,n)=>{t.index>o&&r.push(e.substring(o,t.index));let a=t.url;const c=l.a.isTrustedOrigin(t.url)&&!t.url.match(/help.pinterest/g);if(c){const e=l.a.parse(t.url);a=a.replace(e.origin,"")}const u=((e,t,n,r)=>i.a.createElement(s.a,{to:e,stopPropagation:!0,target:!r,key:n},t))(a,t.text,n,c);r.push(u),o=t.lastIndex}),e.length>o&&r.push(e.substring(o)),1===r.length?r[0]:r}parse(e,t=0){return"string"==typeof e?this.parseString(e):i.a.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?i.a.cloneElement(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map((e,t)=>this.parse(e,t)):e}render(){return i.a.createElement("span",null,this.parse(this.props.children))}}},"7nh8":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},"7wDu":function(e,t,n){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},"7zMe":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("n6mq");function s({bold:e=!0,color:t="darkGray",iconSize:n=16,textSize:s="md",timeString:c}){return i.a.createElement(r.Fragment,null,i.a.createElement(a.e,{marginEnd:1},i.a.createElement(a.t,{accessibilityLabel:o.a._("clock","accessible label for clock icon on recipe rich pin","accessible label for clock icon on recipe rich pin"),color:t,icon:"clock",size:n})),i.a.createElement(a.V,{color:t,size:s,weight:e?"bold":"normal"},c))}},"81KI":function(e,t,n){var r=n("zVay"),i=n("Zf/v"),o=n("2NuI"),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),d=c.get(l),p=d.getText(),h=d.merge({text:p.slice(0,u)+n+p.slice(u,d.getLength()),characterList:i(d.getCharacterList(),a(r,s).toList(),u)}),f=u+s;return e.merge({blockMap:c.set(l,h),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},"83KV":function(e,t,n){var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},"83bQ":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){return r.EditorState.createWithContent(r.ContentState.createFromText(e))}},"84lc":function(e,t,n){var r=n("zVay").List,i=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},"8Wa5":function(e,t,n){n.d(t,"a",(function(){return S}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("eBDd"),s=n("vvax"),c=n("n6mq");const l=({minutes:e})=>{const t=e%60,n=Math.floor(e/60),r=Object(s.b)(o.a.ngettext("{{ mins }} minute","{{ mins }} minutes",t,"closeup.storyPin.basicsLayout.cookTimeUnit","Minutes label indicating the cooking time of this Story Pin"),{mins:t}).join(""),a=Object(s.b)(o.a.ngettext("{{ hours }} hour","{{ hours }} hours",n,"closeup.storyPin.basicsLayout.cookTimeUnit","Hours label indicating the cooking time of this Story Pin"),{hours:n}).join(""),l=i.a.createElement(c.V,{weight:"bold",inline:!0,size:"md"},o.a._("Cook time:","closeup.storyPin.basicsLayout.cookTimeLabel","Label indicating the cooking time of this Story Pin"));return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.V,{inline:!0,size:"md"},Object(s.b)(o.a._("{{ label }} {{ hoursText }} {{ minsText }}","closeup.storyPin.basicsLayout.cookTime",'Combined label for story pin cooktime (ex: "Cook time: 1 hour 13 minutes")'),{label:l,hoursText:a,minsText:r})))},u=({servingSize:e})=>{const t=Object(a.a)(o.a.ngettext("{{servingSize}} serving","{{servingSize}} servings",e,"number of servings for a recipe","number of servings for a recipe"),{servingSize:e}),n=i.a.createElement(c.V,{weight:"bold",inline:!0,size:"md"},o.a._("Servings:","closeup.storyPin.basicsLayout.servingsLabel","Label indicating the servings count of this Story Pin"));return i.a.createElement(c.V,{inline:!0,size:"md"},Object(s.b)(o.a._("{{ label }} {{ servingText }}","closeup.storyPin.basicsLayout.servings",'Combined label for story pin servings (ex: "Servings: 10 servings")'),{label:n,servingText:t}))},d=({difficulty:e})=>{const t={1:o.a._("Easy","closeup.storyPin.basicsLayout.difficulty","Easy difficulty level"),2:o.a._("Intermediate","closeup.storyPin.basicsLayout.difficulty","Intermediate difficulty level"),3:o.a._("Expert","closeup.storyPin.basicsLayout.difficulty","Expert difficulty level")}[e];if(!t)return null;const n=i.a.createElement(c.V,{weight:"bold",inline:!0,size:"md"},o.a._("Difficulty:","closeup.storyPin.basicsLayout.difficultyLevelLabel","Label indicating the difficulty level of this Story Pin"));return i.a.createElement(c.V,{inline:!0,size:"md"},Object(s.b)(o.a._("{{ label }} {{ difficultyLevel }}","closeup.storyPin.basicsLayout.difficulty",'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:n,difficultyLevel:t}))};function p({keyValueBlocks:e,listBlocks:t}){const n=e.map(e=>((e,t)=>{switch(e){case 0:{const e=parseInt(t,10);return e?i.a.createElement(l,{minutes:e}):null}case 1:{const e=parseInt(t,10);return i.a.createElement(u,{servingSize:e})}case 2:return i.a.createElement(d,{difficulty:t});default:return null}})(e.category_type,e.value)).filter(e=>null!=e);return i.a.createElement(i.a.Fragment,null,n.length>0&&i.a.createElement(c.e,{marginTop:4},n.map((e,t)=>i.a.createElement(c.e,{display:"flex",key:`$keyValue-${t}-information`},e))),t.map((e,t)=>i.a.createElement(c.e,{key:`${e.heading||"empty"}-${t}-listHeading`},i.a.createElement(c.e,{paddingY:2,marginTop:2},i.a.createElement(c.V,{size:"md",weight:"bold"},e.heading)),e.blocks.map((t,n)=>i.a.createElement(c.e,{key:`item-${n}-${e.heading||"empty"}`,display:"flex"},i.a.createElement(c.e,{marginEnd:3,flex:"none"},i.a.createElement(c.V,{size:"md"},"•")),i.a.createElement(c.e,{overflow:"hidden",flex:"grow"},i.a.createElement(c.V,{size:"md"},t.text)))))))}var h=n("bZS0"),f=n("7zMe"),g=n("Pezf"),m=n("OSge");const y=e=>e.type===m.a.INGREDIENT;var _=({block:e})=>{if(e.type!==m.a.INGREDIENT)return null;const{amt:t,name:n,unit:r}=e;return i.a.createElement("li",{style:{display:"table-row"}},i.a.createElement("div",{style:{display:"table-cell",paddingRight:12}},!!t&&i.a.createElement(c.V,{size:"md",align:"right"},t," ",r)),i.a.createElement("div",{style:{display:"table-cell"}},i.a.createElement(c.V,{size:"md"},n)))};var v=({blocks:e,recipeData:t})=>{const{serving_size:n,cooking_time:s,prep_time:l}=t,u=s+l,d=n?Object(a.a)(o.a.ngettext("{{servingSize}} serving","{{servingSize}} servings",n,"number of servings for a recipe","number of servings for a recipe"),{servingSize:n}):null;return i.a.createElement(r.Fragment,null,i.a.createElement(c.e,{marginBottom:4,marginTop:5},i.a.createElement(c.s,{overflow:"normal",size:"md"},o.a._("Ingredients","Heading for list of ingredients","Heading for list of ingredients")),i.a.createElement(c.e,{marginTop:2,display:"flex",alignItems:"center"},!!u&&i.a.createElement(f.a,{bold:!1,color:"gray",iconSize:14,textSize:"md",timeString:Object(h.a)(Object(g.a)({m:u}))||""}),!!u&&d&&i.a.createElement(c.e,{paddingX:1},i.a.createElement(c.V,{color:"gray",size:"md"},"•")),d&&i.a.createElement(c.V,{color:"gray",size:"md"},d))),i.a.createElement("ul",null,e&&e.filter(y).map((e,t)=>i.a.createElement(_,{block:e,key:e.name||t}))))};const b=e=>e.type===m.a.SUPPLY;var w=({block:e})=>{if(e.type!==m.a.SUPPLY)return null;const{name:t,amt:n}=e;return i.a.createElement("li",{style:{display:"table-row"}},i.a.createElement("div",{style:{display:"table-cell",paddingRight:12}},!!n&&i.a.createElement(c.V,{size:"md",align:"right"},n)),i.a.createElement("div",{style:{display:"table-cell"}},i.a.createElement(c.V,{size:"md"},t)))};var E=({blocks:e,diyData:t})=>{const{difficulty:n}=t,a={1:o.a._("Easy","difficulty level of easy DIY tutorial","difficulty level of easy DIY tutorial"),2:o.a._("Intermediate","difficulty level of medium DIY tutorial","difficulty level of medium DIY tutorial"),3:o.a._("Expert","difficulty level of hard DIY tutorial","difficulty level of hard DIY tutorial")};return i.a.createElement(r.Fragment,null,i.a.createElement(c.e,{marginBottom:4,marginTop:5},i.a.createElement(c.s,{overflow:"normal",size:"md"},o.a._("Supplies","Heading for list of supplies","Heading for list of supplies")),!!n&&i.a.createElement(c.e,{marginTop:2,display:"flex",alignItems:"center"},i.a.createElement(c.V,{color:"gray",size:"md"},Object(s.b)(o.a._("Difficulty: {{difficultyLevel}}","Label indicating the difficulty level of a tutorial","Label indicating the difficulty level of a tutorial"),{difficultyLevel:a[n]})))),i.a.createElement("ul",null,e&&e.filter(b).map((e,t)=>i.a.createElement(w,{block:e,key:e.name||t}))))};function S({detailsPage:e,metadata:t}){if(!t)return null;if(t.basics&&Object.keys(t.basics).length>0)return i.a.createElement(p,{keyValueBlocks:t.basics.key_value_blocks||[],listBlocks:t.basics.list_blocks||[]});switch(t.template_type){case 1:return!!t.recipe_data&&i.a.createElement(v,{blocks:null==e?void 0:e.blocks,recipeData:t.recipe_data});case 2:return!!t.diy_data&&i.a.createElement(E,{blocks:null==e?void 0:e.blocks,diyData:t.diy_data});default:return null}}},"8d//":function(e,t,n){var r=n("fyOY"),i=n("cwFY")("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),s=o,c=o.getAnchorKey(),l=o.getFocusKey(),u=a.getBlockForKey(c);if(i&&"forward"===n&&c!==l)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var d=a.getBlockForKey(u.nextSibling);if(!d||0===d.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===o)return a}return r.removeRange(a,s,n)}},"8nxc":function(e,t,n){var r=n("RNo4");const i={asset_picker:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_asset_picker",groups:/^(enabled|employees)/,scenarios:["default"]},asset_picker_dropbox:{experiment:"web_pin_builder_dropbox",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!0},carousel:{authOnly:!0,partnerOnly:!0},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,experiment:"web_pin_builder_multiselect_pinner",groups:/^(employees|enabled)/,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(employees|enabled)/,scenarios:["external_pin_creation"]},multi_select:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"],experiment:"web_pin_builder_multiselect",groups:/^(employees|enabled)/},multi_select_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"],experiment:"web_pin_builder_multiselect_pinner",groups:/^(employees|enabled)/},externalPinCreation:{scenarios:["external_pin_creation"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},offsiteRecommendedBoards:{authOnly:!0,experiment:"web_cong_new_auth_pinbookmarklet_page",groups:/^(employees|enabled_v2)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinExpressive:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_creator",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},storyPinLimitedEdits:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_limit_edits",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},storyPinMetadataLists:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},storyPinMetadataListsExpanded:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists_expanded",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},storyPinMultiSelect:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_multi_select",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},suppressFirstAdCreate:{scenarios:["first_pin_page"]},video:{customEnabledCheck:({user:e})=>!!(null==e?void 0:e.video_upload_allowed),authOnly:!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},videoCollectionsTagging:{authOnly:!0,partnerOnly:!0,experiment:"video_hero_collections",groups:/^(employees|enabled)/},pinQualityExp:{experiment:"web_pin_builder_quality_notification",groups:/^(employees|enabled)/}};t.a={_experiments:null,_viewer:null,_advertiser:null,_scenario:null,_language:null,_context:null,initialize(e){const{requestContext:t,viewer:n,location:i,advertiser:o,scenario:a}=e;this._context=e,this._experiments=t.experiments,this._language=t.language,this._viewer=n,this._advertiser=o;const{adCreate:s}=Object(r.k)(i.search);this._scenario=a||(s?"ad_creation":"default")},enabled(e){if(!this._viewer||!this._experiments)return!1;const{advertisers:t,authOnly:n,experiment:r,groups:o=/.*/,languages:a,partnerOnly:s,scenarios:c,customEnabledCheck:l}=i[e];return l?l(this._context):!(!t||!this._advertiser||null===this._advertiser.billing_type)||!(n&&!this._viewer.isAuth)&&(!(s&&!this._viewer.isPartner)&&(!(c&&!c.includes(this._scenario))&&(!(a&&!a.includes(this._language))&&(!r||o.test(this._experiments.v2ActivateExperiment(r)||"")))))}}},"8uQm":function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("zVay"),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,d=c(),p=l({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),h=function(e){var t,n;function o(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e}(t))||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){i(this.getCharacterList(),f,e,t)},s.findEntityRanges=function(e,t){i(this.getCharacterList(),g,e,t)},o}(p);function f(e,t){return e.getStyle()===t.getStyle()}function g(e,t){return e.getEntity()===t.getEntity()}e.exports=h},"94Z+":function(e,t,n){e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},"9EBm":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),i=n("slCJ"),o=n("4vzw"),a=n("5ARb"),s=n("nrB0"),c=n("nwWm"),l=n("E3gc"),u=n("QWfI"),d=n("2S0S");t.default=function(e,t,n,p){void 0===p&&(p={}),r.default("DragSource","type, spec, collect[, options]",e,t,n,p);var h=e;"function"!=typeof e&&(d(l.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),h=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var f=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),d(u.isPlainObject(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return i.default({containerDisplayName:"DragSource",createHandler:f,registerHandler:o.default,createConnector:function(e){return new c.default(e)},createMonitor:function(e){return new s.default(e)},DecoratedComponent:e,getType:h,collect:n,options:p})}}},"9UZy":function(e,t,n){n.d(t,"a",(function(){return m}));var r=n("q1tI"),i=n.n(r),o=n("UPpV"),a=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"],s=n("0/lC"),c=n("n0ft"),l=n("qpbZ"),u=n("28DW"),d=n("yweb"),p=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={captcha:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"},signupButton:{width:"100%",borderRadius:"20px"},wrapperVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"flex",opacity:1,alignItems:"center",justifyContent:"space-between",height:"100%"},wrapperHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0}};class g extends i.a.Component{constructor(...e){super(...e),h(this,"state",{domainError:"",newEmail:"",showAgeInput:this.props.showAgeInput}),h(this,"emailDomainRef",i.a.createRef()),h(this,"updateEmail",()=>{const{onEmailChange:e,onTypoSuggestionClick:t}=this.props;this.state.newEmail&&(e({target:{value:this.state.newEmail}}),t(),Object(u.a)("unauth.email_domain_typo_suggestion.clicked"))}),h(this,"handleEmailChange",e=>{const{onEmailChange:t}=this.props;t&&t(e)}),h(this,"handleEmailBlur",()=>{const{checkEmailExistsWithCompletion:e,email:t,handleExistingEmail:n,isSignupForm:r,onEmailBlur:i}=this.props,{showAgeInput:o}=this.state;i&&i(),t&&t.length>0&&e&&e(t,()=>{r&&Object(u.a)("web.unauth.signup.email_entered"),r&&o&&this.setState({showAgeInput:!1}),n&&n(!0)},()=>{r&&!o&&this.setState({showAgeInput:!0}),n&&n(!1)});const c=t&&-1!==t.indexOf("@")?t.split("@"):[];if(t&&t!==this.state.newEmail||this.setState({domainError:""}),t&&c&&t.length<60){if(2===c.length){const e=c[1],t=e&&-1!==e.indexOf(".")?e.split("."):[];if(t.length>=2&&"gmail"===t[0])if("com"!==t.slice(1).join(".")){const e=c[0]+"@gmail.com";this.setEmailTypoSuggestion(e)}else this.setState({domainError:""})}const e=c[1]&&a.includes(c[1])?null:c[1]&&a.map(e=>{const t=Object(s.a)(e,c[1]);return 2===t||1===t?e:null}).filter(e=>"string"==typeof e);if(e&&e.length){const t=e[0]?`${c[0]}@${e[0]}`:"";this.setEmailTypoSuggestion(t)}}}),h(this,"handleSignUp",()=>{this.state.showAgeInput?Object(u.e)("press_signup_continue"):Object(u.e)("press_login_continue")}),h(this,"renderLoginButtons",()=>{const{disableEmailLogin:e,buttonText:t,buttonTextLabel:n}=this.props;return i.a.createElement("div",{"data-test-id":"registerFormSubmitButton"},i.a.createElement(o.b,{accessibilityLabel:n,className:"red SignupButton",disabled:e||!1,onClick:this.handleSignUp,styleOverrides:f.signupButton,type:"submit"},i.a.createElement("div",null,t)))}),h(this,"handleFocusPassword",()=>{Object(u.e)("focus_password")}),h(this,"handleEmailKeyDown",({event:e})=>{switch(e.keyCode){case 38:e.preventDefault(),this.emailDomainRef.current&&this.emailDomainRef.current.handleUp();break;case 40:e.preventDefault(),this.emailDomainRef.current&&this.emailDomainRef.current.handleDown();break;case 13:e.preventDefault(),this.emailDomainRef.current&&this.emailDomainRef.current.handleEnter()}})}static getDerivedStateFromProps(e,t){return e.email===t.newEmail?{domainError:"",newEmail:""}:null}setEmailTypoSuggestion(e){const{i18n:t}=this.props,n=Object(l.b)(t._("Did you mean {{ newEmail }}?"),{newEmail:i.a.createElement(p.V,{key:"err_text",color:"red",inline:!0,size:"md",weight:"bold"},e)});this.setState({domainError:n,newEmail:e}),this.props.email===e?this.setState({domainError:""}):Object(u.a)("unauth.email_domain_typo_suggestion.shown")}render(){const{age:e,ageValidationError:t,disableEmailLogin:n,email:r,emailFieldHasError:o,emailLabel:a,emailText:s,emailValidationError:l,hideEmailField:u,hideFacebookButton:d,hideGoogleButton:h,hidePasswordField:g,inputStyleOverrides:m,onAgeBlur:y,onAgeChange:_,onButtonClick:v,onPasswordChange:b,password:w,passwordFieldVisible:E,passwordText:S,passwordValidationError:C,renderPasswordResetLink:x,suppressFocus:O,i18n:k,isRTL:T}=this.props;let I=f.wrapperVisible;!1===E&&(I=f.wrapperHidden);let D=l;return D||!g&&!n||(d||h?!d&&h?D=k._("Your account is connected to Facebook - use the Facebook button to log in","Customized desktop login for users with Facebook","Customized desktop login for users with Facebook"):d&&!h&&(D=k._("Your account is connected to Google - use the Google button to log in","Customized desktop login for users with Google","Customized desktop login for users with Google")):D=k._("Your account is connected to Facebook and Google - use the buttons to log in","Customized desktop login for users with FB and Google","Customized desktop login for users with FB and Google")),i.a.createElement("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),v(e)}},!u&&i.a.createElement(p.e,{"data-test-id":"emailInputField"},i.a.createElement(c.b,{accessibilityLabel:a,autoComplete:"username",domainError:this.state.domainError,fieldsetStyleOverrides:{marginBottom:"7px"},focused:!O,hasError:!!l||!!o,id:"email",inputStyleOverrides:m,name:"id",onBlur:this.handleEmailBlur,onChange:this.handleEmailChange,placeholder:s,tooltip:D,type:"email",updateEmail:this.state.domainError?this.updateEmail:null,useGestalt:!0,value:r,onKeyDown:this.handleEmailKeyDown,isRTL:T})),!g&&i.a.createElement(i.a.Fragment,null,i.a.createElement(p.e,{"data-test-id":"passwordInputField"},i.a.createElement(c.b,{autoComplete:"new-password",disabled:!!n,hasError:!!C,id:"password",inputStyleOverrides:{...m,...I},name:"password",onChange:b,onFocus:this.handleFocusPassword,placeholder:S,tooltip:C,type:"password",useGestalt:!0,value:w,isRTL:T})),i.a.createElement(p.e,{"data-test-id":"password-reset-button"},x?x():null)),!g&&this.state.showAgeInput?i.a.createElement(p.e,{"data-test-id":"ageInputField"},i.a.createElement(c.b,{accessibilityLabel:"age",autoComplete:"off",fieldsetStyleOverrides:{marginTop:"4px"},hasError:!!t,id:"age",inputStyleOverrides:{...m},name:"age",onBlur:y,onChange:_,placeholder:k._("Age"),tooltip:t,type:"text",useGestalt:!0,value:e,isRTL:T})):null,window.recaptchaCount>0?i.a.createElement("div",{className:"g-recaptcha",id:"recaptcha_placeholder_"+window.recaptchaCount,style:f.captcha}):null,!g&&this.renderLoginButtons())}}function m(e){const t=Object(d.b)();return i.a.createElement(g,Object.assign({},e,{i18n:t}))}},"9b+k":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}},"9pre":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));const r=5,i="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},"9qGe":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=e.toLowerCase(),r=t.filter((function(e){return!n||e.name.toLowerCase().indexOf(n)>-1})),i=r.length<5?r.length:5;return r.slice(0,i)}},A0Lk:function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function r(){var e=o;i(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),i(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var i=this,a=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var f=new Promise((function(e,t){!function n(){(new Date).getTime()-p>=u?t(Error(u+"ms timeout exceeded")):document.fonts.load(h(i,'"'+i.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),g=new Promise((function(e,t){l=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([g,f]).then((function(){clearTimeout(l),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=m&&-1!=y||-1!=m&&-1!=_||-1!=y&&-1!=_)&&((t=m!=y&&m!=_&&y!=_)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==v&&y==v&&_==v||m==b&&y==b&&_==b||m==w&&y==w&&_==w)),t=!t),t&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(l),e(i))}var d=new n(a),f=new n(a),g=new n(a),m=-1,y=-1,_=-1,v=-1,b=-1,w=-1,E=document.createElement("div");E.dir="ltr",r(d,h(i,"sans-serif")),r(f,h(i,"serif")),r(g,h(i,"monospace")),E.appendChild(d.a),E.appendChild(f.a),E.appendChild(g.a),document.body.appendChild(E),v=d.a.offsetWidth,b=f.a.offsetWidth,w=g.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)E.parentNode&&E.parentNode.removeChild(E),t(Error(u+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(m=d.a.offsetWidth,y=f.a.offsetWidth,_=g.a.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,(function(e){m=e,c()})),r(d,h(i,'"'+i.family+'",sans-serif')),o(f,(function(e){y=e,c()})),r(f,h(i,'"'+i.family+'",serif')),o(g,(function(e){_=e,c()})),r(g,h(i,'"'+i.family+'",monospace'))}))}))},e.exports=a}()},A9EP:function(e,t,n){n.r(t),n.d(t,"getPinResourceOptions",(function(){return fe})),n.d(t,"default",(function(){return ge}));var r=n("q1tI"),i=n.n(r),o=n("1lYS"),a=n("lnDX"),s=n("WX9e"),c=n("EG5v"),l=n("ovLG"),u=n("o0wi"),d=n("Jr++"),p=n("ihsa"),h=n("Lfjc"),f=n("htxO");const g=(e,t)=>({"@type":"Person",name:t.full_name,url:e+"/"+t.username}),m=e=>e.images&&e.images.orig?e.images.orig.url:void 0,y=e=>e.description?Object(f.b)(e.description):e.pinjoin?e.pinjoin.visual_descriptions?Object(f.b)(e.pinjoin.visual_descriptions[0]):Object(f.b)(e.pinjoin.seo_description):void 0,_=e=>{let t=e.created_at;return e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published&&(t=e.rich_metadata.article.date_published),new Date(Date.parse(t)).toISOString()},v=e=>{const{rich_metadata:t}=e,{url:n,title:r}=t||{};return n&&r?{sharedContent:{"@type":"WebPage",headline:r,url:n}}:void 0};var b=n("7jH2");const w=e=>{if(!e)return;const t=e=>{const t=e.h||0,n=e.m||0;let r="PT";return t>0&&(r+=t.toString()+"H"),n>0&&(r+=n.toString()+"M"),r},n={};return e.total&&(n.totalTime=t(e.total)),e.cook&&(n.cookTime=t(e.cook)),e.prep&&(n.prepTime=t(e.prep)),n},E=e=>{if(!e.categorized_ingredients)return;const t=[];return e.categorized_ingredients.forEach(e=>{e.ingredients.forEach(e=>{let n="";e.amt&&(n+=e.amt,n+=" "),e.name&&(n+=e.name,t.push(n))})}),t.length>0?{recipeIngredient:t}:void 0},S=e=>{if(e.rich_metadata&&e.rich_metadata.recipe&&e.rich_metadata.recipe.aggregate_rating&&e.rich_metadata.recipe.aggregate_rating.rating_value&&e.rich_metadata.recipe.aggregate_rating.review_count){return{aggregateRating:{"@type":"AggregateRating",ratingValue:e.rich_metadata.recipe.aggregate_rating.rating_value,reviewCount:e.rich_metadata.recipe.aggregate_rating.review_count,bestRating:e.rich_metadata.recipe.aggregate_rating.best_rating||5,worstRating:e.rich_metadata.recipe.aggregate_rating.worst_rating||1}}}},C=e=>{const t=e.rich_metadata,n=t.recipe,r=t.description,i=n.servings_summary&&n.servings_summary.summary,o=e.pinner?e.pinner.username:void 0,{video:a}=Object(b.x)(Object(b.p)({pin:e}))||{},s={...i?{recipeYield:i}:{},...r?{description:r}:{},...w(n.cook_times),...E(n),...S(e)};return{"@type":"Recipe",name:n.name,author:o,video:a?(a.mp4||a.hls||{}).url:void 0,image:m(e),...s}};var x=n("wzxk");const O=e=>{const t=e.pages[0];return!!t.image_adjusted&&t.image_adjusted.images.originals.url||!!t.image&&t.image.images.originals.url},k=e=>({supply:e.pages[1].blocks.map(e=>{const t=[];return e.amt&&t.push(e.amt),e.name&&t.push(e.name),{"@type":"HowToSupply",name:t.join(" ")}})}),T=e=>({step:e.pages.slice(2).map(e=>{const t=e.blocks,n=[];for(const l of t)0===l.block_type&&n.push(l.text);const r={"@type":"HowToStep",text:n.join(" ")},i=e.image||{},{images:o={}}=i,a=o.originals,{video_list:s={}}=e.video||{},c=s.V_HLSV3_MOBILE||s.V_720P;return c?r.video={"@type":"VideoObject",caption:n.join(" "),thumbnailUrl:c.thumbnail,contentUrl:c.url,duration:`PT${(c.duration||0)/1e3}S`}:a&&(r.image=a.url),r})}),I=e=>{const t=e.story_pin_data;return t.pages=e.story_pin_data.pages.filter(e=>2!==e.layout),{"@type":"HowTo",name:Object(x.d)(e),image:O(t),...k(t),...T(t)}};var D=n("Ye/N"),P=n("eBDd");const j=e=>{const t=e.pages[0];return!!t.image_adjusted&&t.image_adjusted.images.originals.url||!!t.image&&t.image.images.originals.url},M=e=>{const{serving_size:t}=e.metadata.recipe_data||{},n=D.a.ngettext("{{ count }} serving","{{ count }} servings",t,"number of servings","number of servings");return Object(P.a)(n,{count:t.toString()})},A=e=>{const t=e.created_at;return new Date(Date.parse(t)).toISOString()},L=e=>e.pages[1].blocks.map(e=>{const t=[];return e.amt&&t.push(e.amt),e.unit&&t.push(e.unit),e.name&&t.push(e.name),t.join(" ")}),R=e=>{const{cooking_time:t,prep_time:n}=e.metadata.recipe_data||{};return{cookTime:`PT${t}M`,prepTime:`PT${n}M`}},F=e=>({recipeInstructions:e.pages.slice(2).map(e=>{const t=e.blocks,n=[];for(const l of t)0===l.block_type&&n.push(l.text);const r={"@type":"HowToStep",text:n.join(" ")},i=e.image||{},{images:o={}}=i,a=o.originals,{video_list:s={}}=e.video||{},c=s.V_HLSV3_MOBILE||s.V_720P;return c?r.video={"@type":"VideoObject",caption:n.join(" "),thumbnailUrl:c.thumbnail,contentUrl:c.url,duration:`PT${(c.duration||0)/1e3}S`}:a&&(r.image=a.url),r})}),B=e=>{const t=e.story_pin_data;return t.pages=e.story_pin_data.pages.filter(e=>2!==e.layout),{"@type":"Recipe",image:j(t),name:Object(x.d)(e),author:(n=e.native_creator,{"@type":"Person",name:n.full_name||n.username}),...R(t),datePublished:A(e),recipeYield:M(t),recipeIngredient:L(t),...F(t)};var n};var z=n("QCxT"),N=n("pLLR"),U=n("szi8");var V=function(e){const{pin:t}=e,{isAuthenticated:n,origin:r,experiments:o}=Object(N.d)(),{currentUrl:a}=Object(U.b)()||{};if(n)return null;let s;s=!function(e){const t=e.v2ActivateExperiment("seo_disable_recipe_markup");return!(!t||!t.startsWith("enabled"))}(o)&&Object(z.a)(t)?C(t):function(e){const t=!(!e||!e.story_pin_data),n=t&&e.story_pin_data.pages?e.story_pin_data.pages.filter(e=>2!==e.layout):[],r=!!Object(x.d)(e),i=!!(t&&e.story_pin_data.metadata&&e.story_pin_data.metadata.recipe_data),o=!!(t&&n&&n.length>1&&5===n[1].layout&&n[1].blocks&&n[1].blocks.length>0),a=!!(t&&n&&n.length>2),s=!!e.native_creator;return r&&i&&o&&a&&s}(t)?B(t):function(e){const t=!(!e||!e.story_pin_data),n=t&&e.story_pin_data.pages?e.story_pin_data.pages.filter(e=>2!==e.layout):[],r=!!Object(x.d)(e),i=!!(t&&e.story_pin_data.metadata&&e.story_pin_data.metadata.diy_data),o=!!(t&&n&&n.length>1&&6===n[1].layout&&n[1].blocks&&n[1].blocks.length>0),a=!!(t&&n&&n.length>2);return r&&i&&o&&a}(t)?I(t):((e,t)=>({"@type":"SocialMediaPosting",author:t.pinner?g(e,t.pinner):void 0,headline:y(t),image:m(t),datePublished:_(t),articleBody:y(t),...v(t)}))(r,t);const c={"@context":"http://schema.org/",...s,mainEntityOfPage:{"@type":"WebPage","@id":a}};return i.a.createElement(h.a,{type:"application/ld+json",value:c})},W=n("0XI0"),q=n("3gMK"),K=n("lEeg"),H=n("62uD"),G=n("tAJF"),Y=n("GfrH"),J=n("DzJC"),$=n.n(J),X=n("2MPc"),Q=n("2qKt"),Z=n("n6mq"),ee=n("Vzit"),te=n("zRck"),ne=n("U4JR"),re=n("XZ+i"),ie=n("28DW"),oe=n("yjg8");const ae=Object(Q.a)(1000150)((function({dispatch:e,pin:t}){var n;const{id:a,category:c}=t,l=Object(N.d)(),{pinImageClickHandler:h,pinLinkClickHandler:f,showSignupModal:g,showSignupLoginModal:m,modalOpened:y}=Object(re.c)(),_=s.a.PIN,{isBot:v,locale:b,country:w,seoUnauthExperiments:E}=l,S=!!t.story_pin_data,C=(null===(n=t.pin_join)||void 0===n?void 0:n.seo_breadcrumbs)||[],x=v?oe.a:oe.j;Object(r.useEffect)(()=>{const n=Object(o.a)(w,v);Object(ie.a)(`unauth.pin_page.pin_category.${c}.${n}`),Object(ie.e)("view_pin_page"),X.a.logUrlAndFirstPinImageSig(t.image_signature||""),X.a.logUnauthPins([t]),Object(ie.a)("unauth.desktop.open_pin_page.viewed"),(e=>{const t=""!==document.referrer?document.referrer:void 0;let n;if(t)try{n=new URL(t).origin}catch(r){}Object(ne.b)(6938,{view:3,viewParameter:3105,pin_id:e,first_pin_id:e,objectId:e,referrer:n})})(a);const r=Object(d.a)();r.d&&r.mt?m(r.mt,"t"===r.d):r.showsignup?g("signup","defaultSource"):r.l&&f&&f(),e(Object(ee.c)(1000150))},[]),(e=>{Object(r.useEffect)(()=>{const t=$()(()=>{Object(ne.b)(110,{view:3,viewParameter:3105,unauth_page_pin_id:e})},300);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[])})(a);const O=(({hideMeta:e,hideAllMeta:t,isBot:n,locale:r,numServerRenderedPins:i,pageType:o,pins:a,seoUnauthExperiments:s})=>{const c=i?Object(K.a)({hideMeta:e,hideAllMeta:t,isBot:n,locale:r,numServerRenderedPins:i,pageType:o,pins:a,seoUnauthExperiments:s}):Object(H.a)();return Object(W.a)()+c+Object(q.a)()+Object(Y.a)()})({hideMeta:!1,hideAllMeta:!1,isBot:v,locale:b,numServerRenderedPins:x,pageType:_,pins:[],seoUnauthExperiments:E});return i.a.createElement("main",{"data-test-id":"unauthPinPage"},i.a.createElement(p.a,{unsafeCSS:O}),i.a.createElement(Z.e,{id:"desktopWrapper"},i.a.createElement("div",null,i.a.createElement(Z.e,{height:450,width:"100%",dangerouslySetInlineStyle:{__style:{padding:"64px 0 0"}}},!!C.length&&i.a.createElement(Z.e,{alignSelf:"start",marginTop:0,marginStart:5,marginBottom:-5,paddingY:6,"data-test-id":"UnauthPinPageBreadCrumbsContainer"},i.a.createElement(u.a,{breadcrumbs:C})),i.a.createElement(G.a,{closeupPin:t,hybridClickthroughHandler:f,pinImageClickHandler:h,showSignupModal:e=>{e&&e.preventDefault(),g("signup","saveButton",te.e)},modalOpened:y,isStoryPin:S}))),i.a.createElement(V,{pin:t})))}));var se=i.a.memo(ae),ce=n("mG99"),le=n("w70y"),ue=n("x83E"),de=n("QAzJ"),pe=n("EC67"),he=n("75Er");const fe=e=>({id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:"seo"});function ge(e){const t=Object(pe.i)(),n=Object(le.a)({name:"PinResource",options:fe(t.id||"")}),{country:r,isBot:u}=Object(N.d)(),d=t.id;Object(he.b)({view_type:3,object_id_str:d,view_data:{pin_id:d}}),Object(de.a)("seo_full_funnel_aa_react_v3");const p=n.data;if(n.error)return i.a.createElement(c.a,{error:n.error});if(!n.isLoaded||!p){const e=window&&window.innerWidth||1366,t=window&&window.innerHeight||768;return i.a.createElement(ce.a,{windowWidth:e,windowHeight:t})}return i.a.createElement(a.a,{surface:"pin_closeup",constraints:[ue.a]},i.a.createElement(l.a,{hybridTier:Object(o.a)(r,u),pageType:s.a.PIN,isStoryPin:!!p.story_pin_data},i.a.createElement(se,{pin:p})))}},AKPT:function(e,t,n){e.exports=function(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat([[o,a.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},AXgn:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("yaUg"),i=(n("La7j"),n("pLLR"));const o={title:Object(r.a)("Share how you feel. <br> Help slow the spread of COVID-19",{}),link:"https://get.howwefeel.org/share",description:"Help scientists and doctors track and fight the virus.",buttonText:"Get the app",image:{url:"https://i.pinimg.com/564x/8c/7d/e5/8c7de50bb7480b942c2f5c76e04d8336.jpg",width:472,height:630},openInNewTab:!0,type:"holidayCard"},a=(e,t,n)=>e>=2&&"US"===t&&(n.v2ActivateExperiment("covid_19_upsell")||"").startsWith("enabled"),s=(e,t,n)=>[...a(e,t,n)?[o]:[]],c=e=>{const{country:t,seoUnauthExperiments:n}=Object(i.d)();return s(e,t,n)}},AlZN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.split("-"),n=r(t,3),i=n[0],o=n[1],a=n[2];return{blockKey:i,decoratorKey:parseInt(o,10),leafKey:parseInt(a,10)}}},AnoD:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("zFhk"),s=n("a8hX"),c=n("JKZO"),l=n("Ye/N"),u=n("4cpq"),d=n("aUfZ"),p=n("xmd6"),h=n("ANjH"),f=n("hM3f"),g=n("U4JR"),m=n("eIuQ"),y=n("i9se"),_=n("n6mq");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1};class w extends r.Component{constructor(...e){super(...e),v(this,"state",{...b,tags:this.props.tags||[],textValue:this.props.text||""}),v(this,"countTags",()=>this._textAreaRef&&this._textAreaRef.innerHTML?this._textAreaRef.querySelectorAll(".communityEditorMention").length:0),v(this,"setRef",e=>this._textAreaRef=e),v(this,"handleFocus",()=>{this.props.onEnter()}),v(this,"handleChange",({text:e,mentions:t})=>{t.length<this.state.tags.length&&Object(g.b)(8906,{tag_type:1}),this.setState({isTextChanged:!0,textValue:e,tags:t,userMentionOverLimitError:t.length>f.b})}),v(this,"handleOnClickEdit",()=>{const{onEditItem:e}=this.props;let t={};const{textValue:n,tags:r}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(r)},e&&e(t),this.setState({submissionInProgress:!1})}),v(this,"handleOnClickPost",()=>{this.state.userMentionOverLimitError||(this.setState({submissionInProgress:!0}),this.handleOnClickPostFinal())}),v(this,"handleOnClickPostFinal",()=>{const{onAddItem:e}=this.props;let t={};const{textValue:n,tags:r}=this.state;t={contentMarkdown:n,imageSignatures:"",objectIds:[],tags:JSON.stringify(r)},e&&e(t),this.setState(b)}),v(this,"handleOnFinalDiscardItem",()=>{const{onCancelItem:e}=this.props;this.setState(b),e()}),v(this,"handleTextChange",e=>{this.setState({isTextChanged:!(!this._textAreaRef||!this._textAreaRef.textContent.trim())&&e,userMentionOverLimitError:this.countTags()>f.b})}),v(this,"isSubmitEditDisabled",()=>{const{isTextChanged:e}=this.state;return!e}),v(this,"toggleShowConfirmDiscardModal",()=>{const{showConfirmDiscardModal:e}=this.state;this.setState({showConfirmDiscardModal:!e})}),v(this,"renderConfirmDiscardModal",()=>{const{statusType:e}=this.props;let t,n;return"textInFlightEdit"===e?(t=l.a._("Your changes will be discarded","Confirmation dialog before discarding changes","Confirmation dialog before discarding changes"),n=l.a._("Discard changes","Clear edits","Clear edits")):(t=l.a._("Once you delete a draft, you can’t undo it","Confirmation before discarding changes","Confirmation before discarding changes"),n=l.a._("Delete","delete draft of a post or comment","delete draft of a post or comment")),i.a.createElement(s.a,{accessibilityModalLabel:l.a._("Confirm discard composer","Confirm discarding a post or comment","Confirm discarding a post or comment"),heading:l.a._("Are you sure?","Confirm discarding a post or comment","Confirm discarding a post or comment"),cancelButtonText:l.a._("Cancel","Cancel discarding a post or comment","Cancel discarding a post or comment"),confirmButtonText:n,detail:t,onConfirm:this.handleOnFinalDiscardItem,onDismiss:this.toggleShowConfirmDiscardModal})}),v(this,"getReplyToEntity",e=>[e?`@${e.user.username} `:"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]])}componentDidUpdate(e){const{statusType:t,objectType:n,parentObjectId:r}=this.props;"textInflightCreation"!==e.statusType&&"textInflightCreation"===t&&Object(g.b)(101,{element:this.composeContextLogElementMap[n],component:this.composeContextLogComponentMap[n],objectId:r})}get isPost(){const{objectType:e}=this.props;return e===y.a.BOARD_ACTIVITY}get isBoardActivityComment(){return this.props.objectType===y.a.BOARD_ACTIVITY_COMMENT}get isAggregatedComment(){const{objectType:e}=this.props;return e===p.a.pin||e===p.a.didIt||e===p.a.aggregatedComment}get composeContextLogComponentMap(){return{[y.a.BOARD_ACTIVITY_COMMENT]:13191,[y.a.BOARD_ACTIVITY]:13190}}get composeContextLogElementMap(){return{[y.a.BOARD_ACTIVITY_COMMENT]:10624,[y.a.BOARD_ACTIVITY]:10624}}render(){const{avatarSize:e,replyToObject:t,privatePin:n,statusType:r,viewingUser:o}=this.props,{isTextChanged:s,showConfirmDiscardModal:d,submissionInProgress:p,tags:h,textValue:f,userMentionOverLimitError:y}=this.state,v={background:"transparent",border:"0",display:s?"inline-block":"block",minHeight:"textStaticDisplay"===r?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},[b,w]=this.getReplyToEntity(t),E=i.a.createElement(_.e,null,i.a.createElement(_.V,{color:"red",size:"sm",align:"right"},Object(m.d)(!1)));let S,C;S=this.isPost?l.a._("Start a discussion","Writing a post","Writing a post"):this.isAggregatedComment&&n?l.a._("Add a public comment","Add a comment","Add a comment"):this.isAggregatedComment?l.a._("Add a comment","Prompt to add a comment","Prompt to add a comment"):this.isBoardActivityComment?l.a._("Add comment","Prompt to add a comment","Prompt to add a comment"):l.a._("Reply","Adding text to a community comment","Adding text to a community comment"),C=this.isPost?l.a._("Post","Create a post","Create a post"):this.isAggregatedComment?l.a._("Done","Post a top level comment on a pin or tried it","Post a top level comment on a pin or tried it"):l.a._("Reply","Posting a reply to a post or comment","Posting a reply to a post or comment");const x=s;return"textInflightCreation"===r?i.a.createElement(_.e,{column:12,display:"flex",justifyContent:"center"},i.a.createElement(_.e,{width:"100%"},i.a.createElement(_.e,{display:"flex"},i.a.createElement(_.e,{marginEnd:2},i.a.createElement(a.a,{user:o,size:e})),i.a.createElement(_.e,{flex:"grow",padding:4,rounding:4,borderSize:"sm"},i.a.createElement(c.a,{focusOnMount:!0,initialMentions:w,initialText:b,onAddMention:()=>{Object(g.b)(8905,{tag_type:1})},onChange:this.handleChange,onSearchMentionCancel:()=>{Object(g.b)(8908,{tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(g.b)(8907,{tag_type:1})},placeholder:S}))),y&&E,i.a.createElement(_.e,{display:"flex",justifyContent:"end",marginTop:4},i.a.createElement(_.f,{color:"gray",inline:!0,onClick:x?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:l.a._("Cancel","Cancel making post or comment","Cancel making post or comment")}),i.a.createElement(_.e,{marginStart:2},i.a.createElement(u.a,{id:"activity-item-create-submit"},i.a.createElement(_.f,{color:"red",disabled:!s||p,inline:!0,onClick:this.handleOnClickPost,text:C}))))),d&&this.renderConfirmDiscardModal()):"textInFlightEdit"===r?i.a.createElement(_.e,{column:12,display:"flex",justifyContent:"center"},i.a.createElement(_.e,{width:"100%"},i.a.createElement(_.e,{display:"flex"},i.a.createElement(_.e,{width:"100%",padding:4,rounding:4,borderSize:"sm"},i.a.createElement(c.a,{focusOnMount:!0,initialMentions:h,initialText:f,onAddMention:()=>{Object(g.b)(8905,{tag_type:1})},onChange:this.handleChange,onSearchMentionCancel:()=>{Object(g.b)(8908,{tag_type:1})},onSuggestionsPopoverOpen:()=>{Object(g.b)(8907,{tag_type:1})},placeholder:S}))),y&&E,i.a.createElement(_.e,{display:"flex",justifyContent:"end",marginTop:4},i.a.createElement(_.f,{color:"gray",inline:!0,onClick:x?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:l.a._("Cancel","Cancel making post or comment","Cancel making post or comment")}),i.a.createElement(_.e,{marginStart:2},i.a.createElement(_.f,{color:"red",disabled:this.isSubmitEditDisabled()||p,inline:!0,onClick:this.handleOnClickEdit,text:l.a._("Edit","Edit a post","Edit a post")})))),d&&this.renderConfirmDiscardModal()):i.a.createElement(_.e,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2},i.a.createElement("div",{onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"}},i.a.createElement(_.e,{column:12,display:"flex"},i.a.createElement(_.e,{width:48},i.a.createElement(a.a,{user:o,size:e})),i.a.createElement(_.e,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderStyle:"sm"},i.a.createElement("textarea",{maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:S,ref:e=>{this._textAreaRef=e},rows:1,style:v})))))}}v(w,"defaultProps",{imageSignature:"",onEnter:()=>{},showWelcomeEducation:!1,text:"",widthAuto:!1});t.a=Object(h.compose)(Object(o.connect)(e=>{const{viewer:t}=e;return{viewingUser:{image_medium_url:t.imageMediumUrl,type:"user",username:t.username,full_name:t.fullName,first_name:"",id:""}}},()=>({})),d.a)(w)},AsgO:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},i=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")}},"Aw+Z":function(e,t,n){var r=n("QLqj");t.a=e=>{r.b.localStorage.setItem("uoiou",!!e)}},AyB5:function(e,t,n){var r=n("s8ra"),i=n("7wDu"),o=n("CYTE"),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),c=r.hasCommandModifier,l=r.isCtrlKeyCommand;function u(e){return a&&e.altKey||l(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return l(e)?"delete":null;case 72:return l(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&l(e)?"secondary-cut":null;case 77:case 79:return l(e)?"split-block":null;case 84:return a&&l(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&l(e)?"backspace-word":null;case 89:return l(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!a&&e.shiftKey?null:u(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":u(e)?"backspace-word":"backspace"}(e);case i.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},"B/xd":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("2S0S");function o(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return i("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?r.cloneElement(e,{ref:function(e){o(t,e),n&&o(n,e)}}):r.cloneElement(e,{ref:t})}},B0ab:function(e,t,n){var r=n("JL7T"),i=n("rJY1"),o=n("zVay"),a=n("2NuI"),s=n("Mh8y"),c=o.List,l=o.Map,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),d=o.get(n),p=d.getText();if(!p){var h=d.getType();if("unordered-list-item"===h||"ordered-list-item"===h)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var f=t.getAnchorOffset(),g=d.getCharacterList(),m=i(),y=d instanceof r,_=d.merge({text:p.slice(0,f),characterList:g.slice(0,f)}),v=_.merge({key:m,text:p.slice(f),characterList:g.slice(f),data:l()}),b=o.toSeq().takeUntil((function(e){return e===d})),w=o.toSeq().skipUntil((function(e){return e===d})).rest(),E=b.concat([[n,_],[m,v]],w).toOrderedMap();return y&&(d.getChildKeys().isEmpty()||a(!1),E=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();u(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:c(o)})})),u(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),u(r,e,(function(e){return e.merge({nextSibling:i})})),u(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(E,_,v)),e.merge({blockMap:E,selectionBefore:t,selectionAfter:t.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})}},"B2N+":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.a.Component{constructor(...e){super(...e),a(this,"state",{anchorHeight:0,anchorWidth:0,horizontalOffset:0,verticalOffset:0}),a(this,"subjectRef",i.a.createRef()),a(this,"calculateAndSetOffsets",({anchorHeight:e,anchorWidth:t,subjectHeight:n,subjectWidth:r})=>{const i=-(r/2-t/2),o=-(n/2-e/2);this.setState({anchorHeight:e,anchorWidth:t,horizontalOffset:i,verticalOffset:o})}),a(this,"positionSubject",()=>{const e=this.subjectRef.current,{anchor:t}=this.props;if(t&&e){const{height:n,width:r}=t.getBoundingClientRect(),{height:i,width:o}=e.getBoundingClientRect();this.calculateAndSetOffsets({anchorHeight:n,anchorWidth:r,subjectHeight:i,subjectWidth:o})}})}componentDidMount(){this.positionSubject()}componentDidUpdate(e,t){const{anchor:n}=this.props,{height:r,width:i}=n.getBoundingClientRect();(r!==t.anchorHeight||i!==t.anchorWidth)&&this.positionSubject()}render(){const{children:e,zIndex:t}=this.props,{horizontalOffset:n,verticalOffset:r}=this.state,a=t?new o.p(t):void 0;return i.a.createElement(o.e,{ref:this.subjectRef,position:"absolute",dangerouslySetInlineStyle:{__style:{left:n,top:r}},zIndex:a},e)}}t.a=function(e){const{anchor:t,onTouch:n,paused:r,size:a,zIndex:c}=e;return t?i.a.createElement(s,{anchor:t,zIndex:c},i.a.createElement(o.U,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle"},i.a.createElement(o.G,{paused:r,size:a}))):null}},BEAQ:function(e,t,n){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var r=n("q1tI"),i=n.n(r),o=n("PioT"),a=n("U4JR"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5}),u=1e3;class d extends r.Component{constructor(...e){super(...e),c(this,"state",{canPlay:!1}),c(this,"componentDidMount",()=>{this.props.playing&&(this.videoVisibleTime=new Date)}),c(this,"componentDidUpdate",e=>{!1===e.playing&&this.props.playing&&(this.videoVisibleTime=new Date,this.state.canPlay&&this.setStartupReadyTime())}),c(this,"setStartupReadyTime",()=>{!this.playbackPerformance.startupReadyTimeMs&&this.videoVisibleTime&&(this.playbackPerformance.startupReadyTimeMs=new Date-this.videoVisibleTime)}),c(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t(e),this.videoPlayerRef=e,this.videoRefSetTime=new Date,this.videoPlayerRef.video&&this.videoRefSetTime)){const e=this.videoPlayerRef.video,t=this.videoRefSetTime;e.addEventListener("error",()=>{this.playbackPerformance.fatalErrorMsg="Video failed loading"}),e.addEventListener("loadeddata",()=>{this.playbackPerformance.startupLoadTimeMs||(this.playbackPerformance.startupLoadTimeMs=new Date-t)}),e.addEventListener("pause",()=>{this.playbackState=l.PAUSED}),e.addEventListener("waiting",()=>{null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null),this.playbackState!==l.STALLING&&(this.playbackPerformance.numStalls+=1,this.stallTimestamp=new Date),this.playbackState=l.STALLING}),e.readyState>=3&&this.setState({canPlay:!0})}}),c(this,"startVideoPlaybackTimings",()=>{const e=()=>{null!=this.stallTimestamp&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.stallTimestamp,this.stallTimestamp=null)};window.clearInterval(this.videoPlaybackIntervalId),this.videoPlaybackIntervalId=window.setInterval(()=>{if(!this.videoPlayerRef||!this.videoPlayerRef.video)return;const t=this.videoPlayerRef.video.currentTime,n=t*u;if(-1===this.currentVideoTime)return void(this.currentVideoTime=t);const r=n-(this.currentVideoTime*u+250);Math.abs(r)>200?(Math.abs(n-this.currentVideoTime*u)<200&&this.playbackState!==l.PAUSED?this.stallTimestamp||(this.playbackPerformance.numStalls+=1,this.stallTimestamp=new Date):this.stallTimestamp&&e(),null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null)):(this.playbackState=l.PLAYING,null==this.startPlayTime&&(this.startPlayTime=this.currentVideoTime),this.stallTimestamp&&e()),this.currentVideoTime=t},250)}),c(this,"currentVideoTime",-1),c(this,"playbackState",l.LOADING),c(this,"stallTimestamp",null),c(this,"startPlayTime",null),c(this,"videoRefSetTime",null),c(this,"videoVisibleTime",null),c(this,"playbackPerformance",{fatalErrorMsg:null,numStalls:0,startupLoadTimeMs:null,startupReadyTimeMs:null,totalPlayDuration:0,totalStallDurationMs:0}),c(this,"handleCanPlay",e=>{const{onReady:t,playing:n,videoStartTime:r}=this.props,{canPlay:i}=this.state;i||(n&&this.setStartupReadyTime(),null!=r&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=r),this.startVideoPlaybackTimings(),this.setState({canPlay:!0})),t&&t(e)}),c(this,"handleSeek",e=>{const{onSeek:t}=this.props;this.playbackState=l.SEEKING,t&&t(e)})}componentWillUnmount(){const{contextLogData:e,src:t}=this.props,n=this.videoPlayerRef&&this.videoPlayerRef.video,r=this.videoRefSetTime;if(n&&r){const r="string"==typeof t?t:t[0].src;null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null),null!=this.stallTimestamp&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.stallTimestamp,this.stallTimestamp=null),Object(a.b)(3606,{...e,eventData:{videoPerformanceData:{isCellular:!1,fatalError:this.playbackPerformance.fatalErrorMsg||void 0,nativeVideoDurationMs:n.duration*u,numberOfStalls:this.playbackPerformance.numStalls,overallWatchedDurationMs:this.playbackPerformance.totalPlayDuration*u,rebufferRate:this.playbackPerformance.totalStallDurationMs/(this.playbackPerformance.totalPlayDuration*u),startupLatencyMs:this.playbackPerformance.startupReadyTimeMs||-1,startupPlayerHeight:n.clientHeight,startupPlayerWidth:n.clientWidth,startupTimeMs:this.playbackPerformance.startupLoadTimeMs||-1,videoUrl:r}}})}window.clearInterval(this.videoPlaybackIntervalId)}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:c,captions:l,controls:u,loop:d,objectFit:p,onDurationChange:h,onEnded:f,onFullscreenChange:g,onLoadedChange:m,onPause:y,onPlay:_,onPlayheadDown:v,onPlayheadUp:b,onTimeChange:w,onVolumeChange:E,playbackRate:S,playing:C,playsInline:x,poster:O,preload:k,src:T,volume:I}=this.props,{canPlay:D}=this.state;return i.a.createElement(s.bb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:c,captions:l,controls:u,loop:d,objectFit:p,onDurationChange:h,onEnded:f,onFullscreenChange:g,onLoadedChange:m,onPause:y,onPlay:_,onPlayheadDown:v,onPlayheadUp:b,onReady:this.handleCanPlay,onSeek:this.handleSeek,onTimeChange:w,onVolumeChange:E,playbackRate:S,playing:D&&C,playsInline:x,poster:O,preload:k,ref:this.setVideoPlayerRef,src:T,volume:I})}}var p=n("aFfM");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class g extends i.a.PureComponent{constructor(e){super(e),h(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&(null===(n=this.videoPlayerRef)||void 0===n?void 0:n.video)&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),h(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),h(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:r}=this.props;r&&(r({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=f(e.src);this.state={useHlsVideo:!o.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:c,contextLogData:l,controls:u,hlsConfig:h,loop:g,objectFit:m,onDurationChange:y,onEnded:_,onFullscreenChange:v,onLoadedChange:b,onPause:w,onPlay:E,onPlayheadDown:S,onPlayheadUp:C,onReady:x,onSeek:O,onTimeChange:k,onVolumeChange:T,playbackRate:I,playing:D,playsInline:P,poster:j,preload:M,src:A,videoStartTime:L,volume:R}=this.props,{useHlsVideo:F}=this.state,B=f(A),z={...h,startPosition:L||-1},N=!_&&g;return F&&B?i.a.createElement(p.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:c,contextLogData:l,controls:u,hlsConfig:z,loop:N,onDurationChange:y,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:b,onPause:w,onPlay:E,onPlayheadDown:S,onPlayheadUp:C,onReady:x,onSeek:O,onTimeChange:k,onVolumeChange:T,playbackRate:I,playing:D,playsInline:P,poster:j,preload:M,setVideoRef:this.setVideoPlayerRef,src:B,volume:R}):i.a.createElement(d,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:c,contextLogData:l,controls:u,loop:N,objectFit:m,onDurationChange:y,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:b,onPause:w,onPlay:E,onPlayheadDown:S,onPlayheadUp:C,onReady:x,onSeek:O,onTimeChange:k,onVolumeChange:T,playbackRate:I,playing:D,playsInline:P,poster:j,preload:M,setVideoRef:this.setVideoPlayerRef,src:B||A,videoStartTime:L,volume:R})}}},BEzM:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("7nh8"),o=n("LTlA"),a=n("QLaP");t.default=function(e){return function(t){void 0===t&&(t={});var n=e.getMonitor(),s=e.getRegistry();!function(e){a(e.isDragging(),"Cannot call drop while not dragging."),a(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n),function(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n).forEach((function(c,l){var u=function(e,t,n,r){var i=n.getTarget(e),s=i?i.drop(r,e):void 0;(function(e){a(void 0===e||o.isObject(e),"Drop result must either be an object or undefined.")})(s),void 0===s&&(s=0===t?{}:r.getDropResult());return s}(c,l,s,n),d={type:i.DROP,payload:{dropResult:r({},t,u)}};e.dispatch(d)}))}}},BJm1:function(e,t,n){n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n("uVIr"),i=n("MhBu"),o=n("eOdZ");var a={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"},s=n("KFEb");n("Wer7");function c(e){return{type:a.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function l(e,t){return{type:a.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:i,pin_id:c,publishFacebook:u,username:d,updateParentDidItCount:p}){const h={aggregatedPinDataId:e,details:t,image_signatures:i,pin_id:c,publish_facebook:u};return t=>o.a.create("DidItActivityResource",h).callCreate().then(i=>{const o=i.resource_response.data;if(t({type:"PIN_DID_IT",payload:{id:c,value:!0}}),t({type:a.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:o}}),t(Object(r.a)({feedId:e,feedType:n?s.a.UNIFIED_COMMENTS:s.a.USER_DID_IT_DATA,itemIds:[o.id],itemType:o.type})),t(Object(r.a)({feedId:d,feedType:s.a.USER_DID_IT_DATA,itemIds:[o.id],itemType:o.type})),u){let e="I tried this Pinterest idea";o.details&&(e+=": "+o.details),window.FB.ui({method:"share",href:`https://www.pinterest.com/pin/${c}/activity/tried/?featured_did_it_ids=${o.id}`,quote:e})}p&&t(l(e,1))},e=>{})}function d({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:r,pinId:a,username:u,updateParentDidItCount:d}){return p=>{o.a.create("DidItActivityResource",{user_did_it_data_id:n,pinId:a}).callDelete().then(o=>{r&&p(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(a)),p(c(n)),p(Object(i.a)({feedId:e,feedType:t||s.a.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),p(Object(i.a)({feedId:u,feedType:s.a.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),p(Object(i.a)({feedId:u,feedType:s.a.UNIFIED_COMMENTS,itemIds:[e],itemType:"userdiditdata"})),d&&p(l(n,-1))},e=>{})}}function p({id:e,details:t,image_signatures:n,pinId:r}){const i={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:r};return e=>{o.a.create("DidItActivityResource",i).callUpdate().then(t=>{const n=t.resource_response.data;e(function(e){return{type:a.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}(n))},e=>{})}}function h(e,t,n,r,a){const l={reason:r,detailed_reasons:t,user_did_it_data_id:n};return t=>{o.a.create("DidItActivityFlagResource",l).callCreate().then(()=>{t(c(n)),t(Object(i.a)({feedId:e,feedType:s.a.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),t(Object(i.a)({feedId:a,feedType:s.a.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"}))},e=>{})}}},"BWi/":function(e,t,n){var r=n("G3O9");function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},Bfq7:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n("QSJg"),o=n("9b+k");t.nativeTypesConfig=((r={})[i.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},r[i.URL]={exposeProperties:{urls:function(e,t){return o.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},r[i.TEXT]={exposeProperties:{text:function(e,t){return o.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},r)},C8qk:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("y0lr"),l=n("Iq8E"),u=n("q1tI"),d=n("prOm"),p=n("6Xrj"),h=n("p1kU"),f=n("DeIs"),g=n("tKWh"),m=n("zVay"),y=n("2NuI"),_=n("OLzA"),v=(m.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),b=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},w=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},E=function(e,t,n,r,i,o){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:o},c=r(e);return c&&(s.className=c),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(o(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",u.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,o=!n.getChildKeys().isEmpty(),a=n!==e.block||i!==e.tree||r!==e.direction||v(e.selection,e.block.getKey())&&e.forceSelection;return o||a},m.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=p.getScrollParent(n),o=f(i);if(i===window){var a=h(n);(r=a.y+a.height-g().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{_(n)||y(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&d.setTop(i,d.getTop(i)+r+10)}}}},m.render=function(){var e=this,t=this.props,n=t.block,o=t.blockRenderMap,s=t.blockRendererFn,d=t.blockStyleFn,p=t.contentState,h=t.decorator,f=t.editorKey,g=t.editorState,m=t.customStyleFn,y=t.customStyleMap,_=t.direction,S=t.forceSelection,C=t.selection,x=t.tree,O=null;n.children.size&&(O=n.children.reduce((function(t,n){var i=l.encode(n,0,0),c=p.getBlockForKey(n),h=w(c,s),m=h.CustomComponent||r,y=b(c,o),_=y.Element,v=y.wrapperTemplate,S=E(c,f,i,d,h,null),C=a({},e.props,{tree:g.getBlockTree(n),blockProps:h.customProps,offsetKey:i,block:c});return t.push(u.createElement(_,S,u.createElement(m,C))),!v||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(c,p)||function(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,c=n.reverse()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value;if(d.type!==t)break;r.push(d)}}catch(f){o=!0,a=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var p=r.reverse(),h=p[0].key;n.push(u.cloneElement(e,{key:"".concat(h,"-wrap"),"data-offset-key":l.encode(h,0,0)},p))}(v,_,t),t}),[]));var k=n.getKey(),T=l.encode(k,0,0),I=w(n,s),D=I.CustomComponent,P=null!=D?u.createElement(D,i({},this.props,{tree:g.getBlockTree(k),blockProps:I.customProps,offsetKey:T,block:n})):u.createElement(c,{block:n,children:O,contentState:p,customStyleFn:m,customStyleMap:y,decorator:h,direction:_,forceSelection:S,hasSelection:v(C,k),selection:C,tree:x});if(n.getParentKey())return P;var j=b(n,o).Element,M=E(n,f,T,d,I,this.wrapperRef);return u.createElement(j,M,P)},r}(u.Component);e.exports=S},C9ER:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("s8ra"),a=n("7wDu"),s=n("Wkzk"),c=n("CYTE"),l=n("T401"),u=n("HEBY"),d=n("vcNX"),p=n("YUem"),h=n("MPKC"),f=n("0RQb"),g=n("ujuU"),m=n("3Br+"),y=n("tuJh"),_=n("ocgx"),v=n("SYhp"),b=o.isOptionKeyCommand,w=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,o)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:w&&b(t)&&t.preventDefault()}var E=e.props.keyBindingFn(t);if(null!=E&&""!==E)if("undo"!==E){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(E,o,t.timeStamp))){var S=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return y(t);case"delete-word":return p(t);case"backspace":return m(t);case"backspace-word":return d(t);case"backspace-to-start-of-line":return u(t,n);case"split-block":return h(t);case"transpose-characters":return _(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(E,o,t);S!==o&&e.update(S)}}else v(t,o,e.update);else if(n===a.SPACE&&w&&b(t)){var C=r.replaceText(o.getCurrentContent(),o.getSelection()," ");e.update(i.push(o,C,"insert-characters"))}}},CEq6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e.substr(0,t),i=0===n.length?0:r.lastIndexOf(n),o=0===n.length?r:r.slice(i+n.length);return{begin:i,end:r.length,matchingString:o}}},CJXx:function(e,t,n){var r=n("MgzW");function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("WLG0"),s=n("q1tI"),c=n("2NuI"),l=n("aB02"),u=n("O4zn").setDraftEditorSelection,d=function(e){var t,n;function d(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=d.prototype;return p._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),a=r+i.length;if(e.hasEdgeWithin(o,r,a)){var s=this.leaf;s||c(!1);var d,p=s.firstChild;p||c(!1),p.nodeType===Node.TEXT_NODE?d=p:l(p)?d=s:(d=p.firstChild)||c(!1),u(e,d,o,r,a)}}},p.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},p.componentDidUpdate=function(){this._setSelection()},p.componentDidMount=function(){this._setSelection()},p.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,c=i.customStyleFn,l=i.offsetKey,u=i.styleSet,d=u.reduce((function(e,t){var n={},i=o[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(c){var p=c(u,t);d=r(d,p)}return s.createElement("span",{"data-offset-key":l,ref:function(t){return e.leaf=t},style:d},s.createElement(a,null,n))},d}(s.Component);e.exports=d},CONZ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n("eOdZ");function i(e){return async t=>{const{resource_response:n}=await r.a.create("MentionsResource",{pinId:e}).callDelete(),{data:i}=n;return t(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,user_mention_tags:t}}}(i.id,i.user_mention_tags)),n}}function o(e){return async t=>{const{resource_response:n}=await r.a.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:i}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(i.id,i.tagged_users)),n}}},CYTE:function(e,t,n){var r=n("KL9H"),i=n("QfTi"),o=n("bd9B"),a=n("rWXM");function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var l={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(l,a)},Cs8u:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),i=n.n(r),o=n("kmwA"),a=n("yweb"),s=n("qpbZ");const c={tosContainer:{marginTop:"16px"},tosCommon:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear"},tosLarge:{color:"#333",fontSize:"12px",lineHeight:"12px"},tosDark:{color:"#767676",width:"224px"},tosLight:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"}};function l({dark:e,large:t,noContainer:n,dynamicTopMargin:r,disableWordBreak:l,country:u}){const d=Object(a.b)(),p=o.a.settings.EU_COUNTRIES;let h={...c.tosCommon,...c.tosDark};e||(h={...c.tosCommon,...c.tosLight});let f,g=n?{}:c.tosContainer;return r&&(g={...g,marginTop:"3%"}),l&&(g={...g,hyphens:"none"}),t&&(h={...h,...c.tosLarge}),f=p.indexOf(u)>-1?Object(s.b)(d._("By continuing, you agree to Pinterest's {{ tos }}, {{ privacyPolicy }} and {{ cookieUse }}.","Agreement to legal texts for new EU users","Agreement to legal texts for new EU users"),{tos:i.a.createElement("a",{rel:"noopener noreferrer",target:"_blank","data-test-id":"tos",key:"tos",href:o.a.settings.ABOUT_TERMS_PLAIN_URL},d._("Terms of Service","Link to TOS","Link to TOS")),privacyPolicy:i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-test-id":"privacy",key:"privacy",href:o.a.settings.ABOUT_PRIVACY_PLAIN_URL},d._("Privacy policy","Link to privacy policy","Link to privacy policy")),cookieUse:i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-test-id":"cookies",key:"cookies",href:o.a.settings.ABOUT_COOKIE_URL},d._("Cookie use","link to cookie use policy","link to cookie use policy"))}):Object(s.b)(d._("By continuing, you agree to Pinterest's {{ tos }}, {{ privacyPolicy }}.","Agreement to legal texts for new users","Agreement to legal texts for new users"),{tos:i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-test-id":"tos",key:"tos",href:o.a.settings.ABOUT_TERMS_PLAIN_URL},d._("Terms of Service","Link to TOS","Link to TOS")),privacyPolicy:i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-test-id":"privacy",key:"privacy",href:o.a.settings.ABOUT_PRIVACY_PLAIN_URL},d._("Privacy policy","Link to privacy policy","Link to privacy policy"))}),i.a.createElement("div",{style:g},i.a.createElement("span",{className:e?"":"TermsOfService__light",style:h},i.a.createElement("span",null," ",f," ")))}},CsLl:function(e,t,n){e.exports=n("BWi/")()},CxY0:function(e,t,n){var r=n("GYWy"),i=n("Nehr");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=v(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n("s4NR");function v(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(s);if(v=v.trim(),!n&&1===e.split("#").length){var b=c.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(v);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||w&&m[w]||(v=v.substr(2),this.slashes=!0)}if(!m[w]&&(S||w&&!y[w])){for(var C,x,O=-1,k=0;k<p.length;k++){-1!==(T=v.indexOf(p[k]))&&(-1===O||T<O)&&(O=T)}-1!==(x=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(C=v.slice(0,x),v=v.slice(x+1),this.auth=decodeURIComponent(C)),O=-1;for(k=0;k<d.length;k++){var T;-1!==(T=v.indexOf(d[k]))&&(-1===O||T<O)&&(O=T)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var D=this.hostname.split(/\./),P=(k=0,D.length);k<P;k++){var j=D[k];if(j&&!j.match(h)){for(var M="",A=0,L=j.length;A<L;A++)j.charCodeAt(A)>127?M+="x":M+=j[A];if(!M.match(h)){var R=D.slice(0,k),F=D.slice(k+1),B=j.match(f);B&&(R.push(B[1]),F.unshift(B[2])),F.length&&(v="/"+F.join(".")+v),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+z,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[E])for(k=0,P=u.length;k<P;k++){var U=u[k];if(-1!==v.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),v=v.split(U).join(V)}}var W=v.indexOf("#");-1!==W&&(this.hash=v.substr(W),v=v.slice(0,W));var q=v.indexOf("?");if(-1!==q?(this.search=v.substr(q),this.query=v.substr(q+1),t&&(this.query=_.parse(this.query)),v=v.slice(0,q)):t&&(this.search="",this.query={}),v&&(this.pathname=v),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var K=this.search||"";this.path=z+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",_=n.search||"";n.path=g+_}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||v||n.host&&e.pathname,E=w,S=n.pathname&&n.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=S.slice(-1)[0],O=(n.host||e.host||S.length>1)&&("."===x||".."===x)||""===x,k=0,T=S.length;T>=0;T--)"."===(x=S[T])?S.splice(T,1):".."===x?(S.splice(T,1),k++):k&&(S.splice(T,1),k--);if(!w&&!E)for(;k--;k)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var I,D=""===S[0]||S[0]&&"/"===S[0].charAt(0);C&&(n.hostname=n.host=D?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(w=w||n.host&&S.length)&&!D&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},DEWG:function(e,t,n){n("2mcs");e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),s=i;return t>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},DR2l:function(e,t,n){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}));var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("Ye/N"),s=n("DzJC"),c=n.n(s),l=n("/MAO"),u=n("v/Q4"),d=n("n6mq"),p=n("w70y"),h=n("N84b");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),f(this,"setRef",e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))}),f(this,"fetchMore",()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())}),f(this,"handleScroll",c()(()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=Object(h.a)(this.list);Object(h.c)(this.list)-Object(h.d)(this.list)-50<t&&this.fetchMore()},10))}componentWillUnmount(){this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isLoaded:t},users:n,viewer:r}=this.props;if(!t)return i.a.createElement("div",{className:"loadingSpinner"},i.a.createElement(d.O,{accessibilityLabel:a.a._("Loading spinner for like list","Accessibility label for loading spinner for like list","Accessibility label for loading spinner for like list"),show:!0}));const o=e&&e.map(e=>e.id?{...e,...n[e.id]}:e);return i.a.createElement("div",{style:{maxHeight:"400px"},ref:this.setRef,"data-test-id":"liked-by-list"},o&&o.map(e=>i.a.createElement(l.a,{isSelf:Boolean(r.isAuth&&r.id&&e.id===r.id),className:"p2 communityItem",key:e.id,showFollow:!0,showName:!0,size:"medium",user:e,viewType:"thumb"})))}}function m(e){const t=Object(u.a)(),n=Object(o.useSelector)(({users:e})=>e),r=Object(p.a)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},allowStale:!1});return i.a.createElement(g,Object.assign({},e,{feedResource:r,users:n,viewer:t}))}function y(e){const t=Object(u.a)(),n=Object(o.useSelector)(({users:e})=>e),r=Object(p.a)({name:"DidItLikedByResource",options:{didItDataId:e.id},allowStale:!1});return i.a.createElement(g,Object.assign({},e,{feedResource:r,users:n,viewer:t}))}},DUo6:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("yweb"),a=n("n6mq");const s=()=>{const e=Object(o.b)();return i.a.createElement(a.z,{inline:!0,href:"https://help.pinterest.com/login-request?what_do_you_need_help_with=Getting+into+my+account&tell_more_account_access=Appeal+account+suspension"},e._("Contact us","link text shown to redirect to help.pinterest.com for appealing a suspension","link text shown to redirect to help.pinterest.com for appealing a suspension"))}},DYKh:function(e,t,n){var r=n("V8dp"),i=n("bu5B");e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=i(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(n),d=l.indexOf(a)+1;return r(c.slice(u,d).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===a?e.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:i.slice(o)}):t===a?e.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):e})))}},DeIs:function(e,t,n){var r=n("83KV"),i=n("MxAa");e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},DfJT:function(e,t,n){n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return k})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return I}));var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("AnoD"),s=n("hwQX"),c=n("Ye/N"),l=n("0LLM"),u=n("vvax"),d=n("prCw"),p=n("U4JR"),h=n("BJm1"),f=n("gI5O"),g=n("xmd6"),m=n("WgbR"),y=n("OI9p"),_=n("ANjH"),v=n("n6mq"),b=n("KFEb"),w=n("w70y");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=2,C=2;class x extends r.Component{constructor(...e){var t;super(...e),t=this,E(this,"state",{inCreationMode:!1,isLoadingNewCreatedComment:!1}),E(this,"handleAddComment",(async function(e){const{createComment:n,objectId:r,objectType:i,pinId:o,updateCommentCount:a}=t.props;t.toggleCreationMode(),t.setState({isLoadingNewCreatedComment:!0}),a(o||r,1),i===g.a.pin&&Object(p.b)(7,{objectId:o,num_user_mention_tags:(e.tags?JSON.parse(e.tags):[]).length}),await n({objectType:i,objectId:r,pinId:o,tags:e.tags,text:e.contentMarkdown}),t.setState({isLoadingNewCreatedComment:!1})})),E(this,"toggleCreationMode",()=>this.setState({inCreationMode:!this.state.inCreationMode})),E(this,"renderComments",()=>{const{creatorId:e,didItOwnerId:t,depth:n=0,feedItems:r,feedResource:{isLoaded:o},isManagedView:a,objectId:l,objectType:u,onUpdate:d,pinDomainOwnerId:p,pinId:h,variant:f,viewer:g}=this.props,{isLoadingNewCreatedComment:m}=this.state;return i.a.createElement(v.e,null,r&&r.length>0&&i.a.createElement(v.e,null,r.map(r=>i.a.createElement(v.e,{key:r.id,marginBottom:2},i.a.createElement(s.a,{aggregatedCommentId:r.id,creatorId:e,depth:n+1,didItOwnerId:t,isManagedView:a,objectType:u,onUpdate:d,parentObjectId:h||l,pinDomainOwnerId:p,variant:f,viewerId:g.isAuth?g.id:""})))),i.a.createElement(v.O,{accessibilityLabel:c.a._("Comments loading"),show:!o||m}))}),E(this,"renderLeaveAComment",()=>{const{objectType:e,parentObjectId:t,privatePin:n}=this.props,{inCreationMode:r}=this.state;return i.a.createElement(v.e,{display:"flex",marginTop:6},i.a.createElement(v.e,{"data-test-id":"add-comment",flex:"grow"},i.a.createElement(a.a,{hideAddObjects:!0,objectType:e,onAddItem:this.handleAddComment,onCancelItem:this.toggleCreationMode,onEnter:this.toggleCreationMode,parentObjectId:t||"",privatePin:n,replyToObject:null,statusType:r?"textInflightCreation":"textStaticDisplay"})))})}componentDidUpdate(e){const{feedResource:t,onUpdate:n}=this.props;t.isLoaded&&!e.feedResource.isLoaded&&n&&n()}render(){const{commentCount:e,feedItems:t,feedResource:{isLoaded:n,isAtEnd:r,fetchMore:o},isManagedView:a,objectType:s,variant:d}=this.props,{isLoadingNewCreatedComment:p}=this.state,h=!!t&&n&&e>t.length&&!r,f=t?e-t.length:0,m=Object(u.b)(c.a.ngettext("{{commentCount}} comment","{{commentCount}} comments",f,"Show comments link with count","Show comments link with count"),{commentCount:String(f)}).join(""),y=s===g.a.aggregatedComment,_=s===g.a.pin&&(t&&0===t.length||0===e)&&n&&!p,b="default"===d;return i.a.createElement(v.e,{"data-test-id":"aggregated-comment-list",marginTop:y&&!b?2:0,paddingY:y||b?0:2},this.renderComments(),h&&i.a.createElement(v.e,{marginTop:3},i.a.createElement(l.a,{handleClick:o,text:m})),_&&i.a.createElement(v.e,{paddingY:b?0:2},i.a.createElement(v.V,{size:b?"sm":"md"},c.a._("Share feedback, ask a question or give a high five"))),s!==g.a.aggregatedComment&&!a&&this.renderLeaveAComment())}}E(x,"defaultProps",{reverseOrder:!1});const O=(e,t)=>{const{objectType:n}=t;let r=()=>null;return n===g.a.pin?r=Object(_.bindActionCreators)(d.a,e):n===g.a.didIt&&(r=Object(_.bindActionCreators)(h.e,e)),{createComment:Object(_.bindActionCreators)(m.a,e),updateComment:Object(_.bindActionCreators)(y.c,e),updateCommentCount:r}};const k=Object(_.compose)(Object(o.connect)((e,t)=>{const{feeds:{[b.a.AGGREGATED_COMMENTS]:n={}},viewer:r}=e;var i,o;return{feedItems:(i=n[t.objectId],o="id",i?i.filter((e,t,n)=>n.map(e=>e[o]).indexOf(e[o])===t):i)||[],viewer:r}},O),f.b,Object(w.b)({name:"AggregatedCommentFeedResource",key:"feedResource",options:e=>({objectId:e.objectId,page_size:e.initialLoadCount||S,redux_normalize_feed:!0,featured_ids:e.featuredCommentId?[e.featuredCommentId]:null})}))(x),T=Object(_.compose)(Object(o.connect)((e,t)=>{const{feeds:{[b.a.AGGREGATED_COMMENTS]:n={}},viewer:r}=e;return{feedItems:n[t.objectId]||[],viewer:r}},O),Object(w.b)({name:"AggregatedCommentReplyFeedResource",key:"feedResource",options:e=>({objectId:e.objectId,page_size:e.initialLoadCount||S,redux_normalize_feed:!0})}))(x),I=Object(_.compose)(Object(o.connect)((e,t)=>{const{feeds:{[b.a.AGGREGATED_COMMENTS]:n={}},viewer:r}=e;return{feedItems:n[t.objectId]||[],viewer:r}},O),Object(w.b)({name:"DidItCommentsResource",key:"feedResource",options:e=>({objectId:e.objectId,page_size:e.initialLoadCount||S,redux_normalize_feed:!0})}))(x)},DthY:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("CJXx"),c=n("Iq8E"),l=n("q1tI"),u=n("prOm"),d=n("6Xrj"),p=n("fZAc"),h=n("mjHj"),f=n("YVIB"),g=n("p1kU"),m=n("DeIs"),y=n("tKWh"),_=n("2NuI"),v=n("OLzA"),b=n("gWRK"),w=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var E=r.prototype;return E.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||w(e.selection,e.block.getKey())&&e.forceSelection},E.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=d.getScrollParent(n),o=m(i);if(i===window){var a=g(n);(r=a.y+a.height-y().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{v(n)||_(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&u.setTop(i,u.getTop(i)+r+10)}}}}},E._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,a=w(this.props.selection,n);return this.props.tree.map((function(u,d){var f=u.get("leaves");if(0===f.size)return null;var g=f.size-1,m=f.map((function(i,u){var p=c.encode(n,d,u),h=i.get("start"),f=i.get("end");return l.createElement(s,{key:p,offsetKey:p,block:t,start:h,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(h,f),styleSet:t.getInlineStyleAt(h),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===o&&u===g})})).toArray(),y=u.get("decoratorKey");if(null==y)return m;if(!e.props.decorator)return m;var _=b(e.props.decorator),v=_.getComponentForKey(y);if(!v)return m;var w=_.getPropsForKey(y),E=c.encode(n,d,0),S=f.first().get("start"),C=f.last().get("end"),x=r.slice(S,C),O=t.getEntityAt(u.get("start")),k=h.getHTMLDirIfDifferent(p.getDirection(x),e.props.direction),T={contentState:e.props.contentState,decoratedText:x,dir:k,start:S,end:C,blockKey:n,entityKey:O,offsetKey:E};return l.createElement(v,i({},w,T,{key:E}),m)})).toArray()},E.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=f({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return l.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(l.Component);e.exports=E},E3gc:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"==typeof t||!!n&&Array.isArray(t)&&t.every((function(t){return e(t,!1)}))}},EC51:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/QE7"),a=n("zwad"),s=n("n6mq");const c=Object(r.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:r,__dangerouslyDisableSpammyDomainCheck:c,externalData:l,hoverStyle:u,href:d,id:p,inline:h,onBlur:f,onClick:g,onFocus:m,onHistoryChange:y,target:_}=e,v=a.a.isOffsiteUrl(d);return i.a.createElement(o.a,{__dangerouslyDisableSpammyDomainCheck:v?c:void 0,href:d,isExternalLink:v,externalData:v?l:void 0,onClick:g,onHistoryChange:v?void 0:y,target:v?void 0:_},({handleClick:e})=>i.a.createElement(s.z,{accessibilityLabel:n,hoverStyle:u,href:d,id:p,inline:h,onBlur:f,onClick:e,onFocus:m,ref:t,rel:v?"nofollow":void 0},r))});c.displayName="Link",t.a=c},EG5v:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Vs9j"),a=n("9amy"),s=n("Ye/N"),c=n("ihsa"),l=n("ejSI"),u=n("LsLk"),d=n("Cwoa");var p=()=>"\n@keyframes scrollBgGridLinks {\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(-300px);\n  }\n}\n\n@keyframes easeInScrollBanner {\n  from {\n    opacity: 0;\n    transform: translateY(56px);\n  }\n  to {\n    opacity: 100%;\n    transform: translateY(0px);\n  }\n}\n\n.featuredScrollBannerAnimated {\n  -webkit-animation-delay: 250ms;\n  -webkit-animation-duration: 0.25s;\n  -webkit-animation-fill-mode: both;\n  -webkit-animation-name: easeInScrollBanner;\n  -webkit-animation-timing-function: ease-in-out;\n}\n",h=n("n6mq");t.a=e=>{return i.a.createElement(u.b,{page:"home"},i.a.createElement(h.e,{height:"100%",width:"100%",position:"absolute",top:!0,overflow:"scrollY","data-test-id":"errorPage"},i.a.createElement(o.default,null),i.a.createElement(h.e,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,.5)"}}}),i.a.createElement(c.a,{unsafeCSS:a.a+p()+Object(d.a)()}),i.a.createElement(h.e,{display:"flex",direction:"column",position:"absolute",bottom:!0,left:!0,right:!0,top:!0,overflow:"auto"},i.a.createElement("div",{style:{flex:1}},i.a.createElement(l.a,{loginSignupModalType:!0,onLoginClick:()=>{},container:"home_page",shouldRenderErrorToast:!0,errorMessage:(t=e.error,404===(t&&(t.http_status||t.statusCode||0))?s.a._("Sorry, we can't find that page.","Error message to indicate page not found","Error message to indicate page not found"):"")})))));var t}},ELUi:function(e,t,n){var r=n("q1tI"),i=n.n(r);t.a=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return i.a.createElement("div",t,e.children||null)}},EUPR:function(e,t,n){n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return g}));var r=n("7w6Q");const i="onloadRecaptchaJsCallback",o="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",s=(e,t)=>{try{r.a.increment("recaptcha_v3.request_token.attempt",.1,{action:t}),window.grecaptcha.enterprise.ready(()=>{window.grecaptcha.enterprise.execute(o,{action:t}).then(e)})}catch(n){r.a.increment("recaptcha_v3.request_token.error",.1,{action:t})}},c=(e,t)=>{if(window[i]=function(){return s(e,t)},document.getElementById(a))s(e,t);else{const e=document.createElement("script");e.id=a,e.src=`https://www.google.com/recaptcha/enterprise.js?onload=${i}&render=${o}`;const t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},l=105e3,u=8e3,d="mweb_auth",p="mweb_login",h="mweb_signup",f="web_auth",g="web_unauth"},EVO9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("0/lC");function i(e){const t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){const e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;const i=Object(r.a)(e,"gmail.com");if("g"===e.charAt(0)&&(1===i||2===i))return!0}return!1}function o(e,t){const n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;const i=n[1],o=i&&-1!==i.indexOf(".")?i.split("."):[],a=o[0];if(a===t&&o.length>3)return!0;if(o.length>=2){const e=Object(r.a)(a,t);return a.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==o.length||a!==t||2!==o[1].length&&"com"!==o[1])&&(o.length,!1)}},EXPn:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("LT60"),s=n("4cpq"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=({action:e,label:t,testId:n})=>i.a.createElement(s.a,{id:"flyout-item-"+n},i.a.createElement(c.f,{accessibilityLabel:t,color:"white",text:t,onClick:e}));class d extends i.a.PureComponent{constructor(...e){super(...e),l(this,"state",{isFlyoutOpen:!1}),l(this,"toggleFlyout",e=>{const t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),this.setState({isFlyoutOpen:!this.state.isFlyoutOpen})})}render(){const{handleClickReport:e,handleDelete:t,handleOnEdit:n,handleRemoveMention:r,iconColor:l,small:d}=this.props,{isFlyoutOpen:p}=this.state;return e||t||n||r?i.a.createElement(c.e,{display:"flex",direction:"column",alignItems:"end"},i.a.createElement(c.e,null,i.a.createElement(c.e,{ref:e=>{this.flyoutAnchor=e}},i.a.createElement(s.a,{id:"flyout-toggle"},i.a.createElement(c.u,{accessibilityExpanded:p,accessibilityHaspopup:!0,accessibilityLabel:o.a._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",iconColor:l||void 0,onClick:this.toggleFlyout,size:d?"sm":"md"}))),p&&i.a.createElement(c.x,null,i.a.createElement(a.a,null,i.a.createElement(s.a,{id:"flyout"},i.a.createElement(c.q,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"sm"},i.a.createElement(c.e,{width:"100%"},n&&i.a.createElement(u,{action:n,label:o.a._("Edit","Edit a community post or comment","Edit a community post or comment"),testId:"edit"}),t&&i.a.createElement(u,{action:t,label:o.a._("Delete","Delete a community post or comment","Delete a community post or comment"),testId:"delete"}),e&&i.a.createElement(u,{action:e,label:o.a._("Report this content","Report a community post or comment","Report a community post or comment"),testId:"report"}),r&&i.a.createElement(u,{action:()=>{r(),this.toggleFlyout()},label:o.a._("Remove @mention","closeup.activityItem.removeMention","Button that allows user to remove their @mention in a comment on a pin"),testId:"removeMention"})))))))):null}}l(d,"defaultProps",{handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null}),t.a=d},EwI3:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("q1tI"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.mention,n=e.theme,r=void 0===n?{}:n;return t.avatar?o.default.createElement("img",{src:t.avatar,className:r.mentionSuggestionsEntryAvatar,role:"presentation"}):null}},F09w:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},F2s1:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N");function a(){return i.a.createElement(i.a.Fragment,null,o.a._("400 million","[m10n] number of monthly active users on pinterest","[m10n] number of monthly active users on pinterest"))}},F4HH:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("CP5N"),a=n("1dBE"),s=n("xfna");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:c=!0})=>{const{Provider:l,useHook:u}=Object(a.b)("Stopwatch_"+e);return{Provider:function({children:t}){const a=Object(o.a)(e,n),u=Object(s.b)(),d=u?u.time:0,p=Object(r.useRef)(!1),h=e=>{p.current&&(p.current=!1,a&&a.abort(e))};return Object(r.useEffect)(()=>()=>{c&&h("unloadOrClientNavigation")},[d]),i.a.createElement(l,{value:{abort:h,addAnnotation:e=>{p.current&&a&&a.annotate(e)},addBinaryAnnotation:(e,t,n)=>{p.current&&a&&a.binaryAnnotate(e,t,n)},binaryAnnotationOperation:(e,t,n)=>{p.current&&a&&a.binaryAnnotateOperation(e,t,n)},addSubspan:(e,t,n,r,i)=>{p.current&&a&&a.addSubspan(e,t,n,r,i)},subspanStart:(e,t,n)=>{p.current&&a&&a.subspanStart(e,t,n)},subspanStop:(e,t,n)=>{p.current&&a&&a.subspanStop(e,t,n)},error:e=>{p.current&&(p.current=!1,a&&a.error(e))},start:()=>{a&&p.current&&a.abort("duplicated_init_stopwatch_action"),p.current=!0,null==a||a.start()},stop:e=>{p.current&&(p.current=!1,a&&a.stop(e))}}},t)},useHook:u}}},FMFh:function(e,t,n){n.r(t),n.d(t,"PinGridInner",(function(){return C}));var r=n("q1tI"),i=n.n(r),o=n("wbGN"),a=n("3wQ7"),s=n("28DW"),c=n("ANjH"),l=n("gdcG"),u=n("pLLR"),d=n("n6mq"),p=n("fgHc");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={brioContainer:{position:"relative",borderRadius:"8px",overflow:"hidden"},titleLarge:{fontSize:"25px",color:"white",marginTop:"10px",fontWeight:"normal"},title:{fontSize:"18px",fontWeight:"500",color:"white",letterSpacing:"0.5px"},btn:{color:"white"},dimOverlayDark:{cursor:"pointer",opacity:.35,bottom:"0px",left:"0px",right:"0px",top:"0px",backgroundColor:"#000",borderRadius:"6px 6px 0 0",position:"absolute",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear",pointerEvents:"none"}};class g extends r.Component{constructor(...e){super(...e),h(this,"handleClick",e=>{var t;e.preventDefault();const n=e.metaKey;Object(s.a)("unauth.holiday_upsell.click."+String(null===(t=this.props.pageContext)||void 0===t?void 0:t.pageType));const r=this.props.openInNewTab||n?"_blank":"_self";window.open(this.props.link,r).focus()}),h(this,"handleImageClick",()=>{})}render(){const{anchorTitle:e,imageDescription:t,hoverHandlers:n,image:r,imageWidthMax:s,title:c,buttonText:l,overlayText:u="",link:p}=this.props,h=r.height*s/r.width,g=i.a.createElement(i.a.Fragment,null,i.a.createElement(d.e,{direction:"column",display:"flex",height:h,width:s,position:"absolute"},i.a.createElement(d.e,{padding:4,flex:"grow"},i.a.createElement("span",{style:f.title,dangerouslySetInnerHTML:{__html:c}})),this.props.isHovering&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:f.dimOverlayDark}),i.a.createElement(a.a,{handleImageClick:this.handleImageClick,textOverride:u,disableHoverText:!0})),i.a.createElement(d.e,{padding:2,position:"relative"},i.a.createElement(d.f,{text:l}))),i.a.createElement(o.a,{alt:t,src:r.url,style:{height:h}}));return i.a.createElement("div",Object.assign({},n,{onClick:e=>{this.handleClick(e)},onContextMenu:e=>{e.stopPropagation()},role:"button",tabIndex:"0",style:f.brioContainer}),i.a.createElement("a",{href:p,target:"_self",title:e},g))}}var m=Object(c.compose)(l.a,u.e,p.c)(g),y=n("ihsa"),_=n("nhss");n("lEeg");var v=n("Ak65"),b=n("GfrH"),w=n("rXev"),E=n("yjg8");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends r.Component{constructor(...e){super(...e),S(this,"state",{clientJsActive:!1,secondaryFeed:this.props.secondaryFeed,expandedVase:{}}),S(this,"getPinImageSize",(e,t)=>this.props.pinImageSizeOverrides&&this.props.pinImageSizeOverrides[t]?this.props.pinImageSizeOverrides[t]:this.props.pinImageSize in e.images?this.props.pinImageSize:"236x"),S(this,"calculateContainerStyle",(e,t,n,r)=>{const i={};if(Number.isInteger(e)&&e>t){const t=e*(n+r);i.margin="auto",i.maxWidth=t,i.overflow="hidden"}return i}),S(this,"reflowGrid",()=>{this.gridRef&&this.gridRef.reflow()}),S(this,"vaseExpandHandler",e=>{const{id:t}=e||{};if(t){const{expandedVase:e}=this.state;e[t]=!e[t],this.setState({expandedVase:e})}}),S(this,"markResourcesFetchingTime",()=>{const e=[];this.props.items.forEach((t,n)=>{"pin"===t.type&&t.images&&e.push(t.images[this.getPinImageSize(t,n)].url)})}),S(this,"renderGridItem",({itemIdx:e,data:t})=>{const{pageContext:{logging:n}}=this.props,{isRelatedPin:r,viewType:o,viewParameter:a,showSeeMore:s,handlePinInGridClick:c,maxPinImageHeight:l,pinImageClickHandler:u,isPaidTraffic:d,carouselTagColor:p,hideAllMeta:h,srcSet:f,hideMeta:g,viewData:y,hideVaseTags:_,desktopUnauthRankingLoggingData:b,disableDeeplinks:w,pinImageWidthMax:E,openInCurrentTab:S,pinLinkClickHandler:C,requestContext:x}=this.props,{secondaryFeed:O,clientJsActive:k}=this.state,{image:T,openInNewTab:I,id:D,link:P,buttonText:j,anchorTitle:M,title:A,description:L,height:R,type:F}=t,B=x.experiments.v2ActivateExperiment("seo_disable_vase_links")||"",z=B.startsWith("enabled_disable_all")||e>5&&B.startsWith("enabled_disable_after_5");switch(F){case"pin":const x={clientJsActive:k,carouselTagColor:p,desktopUnauthRankingLoggingData:b,disableDeeplinks:w,maxPinImageHeight:l,handlePinInGridClick:c,isPaidTraffic:d,pin:t,pinImageClickHandler:u,pinImageSize:this.getPinImageSize(t,e),pinImageWidthMax:E,pinLinkClickHandler:C,pinNumber:e,hideMeta:g,hideAllMeta:h,hideVaseTags:_,showSeeMore:s,srcSet:f,openInCurrentTab:S,resizeHandler:this.vaseExpandHandler,secondaryFeed:O,fromRelatedPinSection:!0,disableVaseLinks:z};return i.a.createElement(v.a,Object.assign({impressionType:"Pin",isRelatedPin:r,loggingId:D,slotIndex:e,viewParameter:void 0!==a?a:(n||{}).viewParameter,viewType:o||(n||{}).viewType,viewData:y||(n||{}).viewData},x));case"placeholder":return i.a.createElement("div",{className:"PinGrid__placeholder",style:{height:R+"px",width:E+"px"}});case"holidayCard":return i.a.createElement(m,{anchorTitle:M,buttonText:j,image:T,imageWidthMax:E,imageDescription:L,link:P,title:A,openInNewTab:I});default:return i.a.createElement("div",{style:{height:1}})}}),S(this,"getItems",()=>{const{items:e}=this.props,{expandedVase:t}=this.state;return(e||[]).filter(e=>["pin","holidayCard","placeholder","module"].includes(e.type||"")).map(e=>void 0!==t[e.id]?{...e,expandedVASE:t[e.id]}:(e.expandedVASE=t[e.id],e))})}componentDidMount(){this.setState({clientJsActive:!0},this.markResourcesFetchingTime)}componentDidUpdate(e){const{items:t}=this.props;if(!(t&&t.length&&e&&e.items&&e.items.length))return;const n=t[0],r=e.items[0];"placeholder"===n.type&&"placeholder"===r.type&&r.height!==n.height&&this.gridRef&&this.gridRef.reflow()}renderServerRenderedGridItem(e,t){if("pin"!==e.type)return null;const{pageContext:{logging:n},numServerRenderedPins:r,showSeeMore:o,maxPinImageHeight:a,pinImageClickHandler:s,viewParameter:c,carouselTagColor:l,isPaidTraffic:u,hideAllMeta:p,srcSet:h,hideMeta:f,disableDeeplinks:g,hideVaseTags:m,desktopUnauthRankingLoggingData:y,pinWrapperBackgroundColor:v,pinImageWidthMax:b,openInCurrentTab:w,requestContext:E}=this.props,S=E.experiments.v2ActivateExperiment("seo_disable_vase_links")||"",C=S.startsWith("enabled_disable_all")||t>5&&S.startsWith("enabled_disable_after_5");return i.a.createElement(d.e,{key:t},i.a.createElement(_.b,{carouselTagColor:l,clientJsActive:this.state.clientJsActive,desktopUnauthRankingLoggingData:y,disableDeeplinks:g,key:t,maxPinImageHeight:a,pin:e,slotIndex:t,pinImageClickHandler:s,pinImageSize:this.getPinImageSize(e,t),pinImageWidthMax:b,pinWrapperBackgroundColor:v,pinNumber:t,hideMeta:!!f,hideAllMeta:!!p,hideVaseTags:m,disableVaseLinks:C,showSeeMore:o,srcSet:h,openInCurrentTab:!!w,numServerRenderedPins:r,resizeHandler:this.reflowGrid,viewParameter:void 0!==c?c:(n||{}).viewParameter,isPaidTraffic:!!u,isRelatedPin:!0}))}render(){const e=E.i,t=E.c,{scrollContainer:n,numServerRenderedPins:r,maxColumns:o,loadPins:a,virtualize:s=!1,showRelatedPinsHeader:c,responsive:l,pinImageWidthMax:u,pageContext:{pageType:d},requestContext:p}=this.props,{clientJsActive:h}=this.state,{isBot:f,locale:g,seoUnauthExperiments:m}=p,_=this.getItems(),v=Object(E.n)(_.length),S=_.slice(0,v),C=c?"16px":"-20px",x=()=>"undefined"!=typeof window&&window;if(!h&&r>0){const n={...this.calculateContainerStyle(o,e,u,t),marginTop:C};return l&&(n.width="100%"),i.a.createElement("section",{className:"gridCentered pinGrid","data-test-id":"pinGrid",style:{...n,position:"relative"}},S.map((e,t)=>this.renderServerRenderedGridItem(e,t)))}{let r="\n.PinGrid__placeholder {\n  display: inline-block;\n  padding-bottom: 36px;\n  visibility: hidden;\n}\n\n.PinGridInner__brioPin {\n  background: white;\n  border-radius: 6px;\n  display: inline-block;\n  font-size: 11px;\n  position: relative;\n  pointer-events: auto;\n}\n.PinGridInner__brioPin.relatedPin {\n  background-color: transparent;\n}\n"+Object(b.a)();return i.a.createElement("section",{className:"gridCentered","data-test-id":"pinGrid",style:{marginTop:C}},i.a.createElement(y.a,{unsafeCSS:r}),i.a.createElement(w.a,{columnWidth:u,comp:this.renderGridItem,gutterWidth:t,items:_,loadItems:a,minCols:l?1:e,ref:e=>{this.gridRef=e},scrollContainer:n||x,fetchBoundsOffset:300,virtualize:s}))}}}S(C,"defaultProps",{pinImageSize:"236x",numServerRenderedPins:0});t.default=Object(c.compose)(u.e,p.c)(C)},FcOR:function(e,t,n){e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},FeGr:function(e,t,n){(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s,c,l,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(s=1,c=new d(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){s=-s,l.data=s}):r=p(a),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n("yLpj"))},FwmB:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n("QLqj"),i=n("28DW"),o=n("J8m7"),a=n("vtuW"),s=n("AXUD"),c=n("AC0f");const l="OPEN_UNAUTH",u=e=>e&&!!e.key,d=Object.freeze({NOT_IN_EXPERIMENT:1,IN_DELAY:2,NO_LONGER_IN_DELAY:3,OTHER:4});function p(e){const t="susdd";r.b.sessionStorage.getItem(t)||r.b.sessionStorage.setItem(t,e),r.b.sessionStorage.setItem("susdst",(new Date).getTime())}function h(){return function(){if("undefined"==typeof window)return d.OTHER;const e=r.b.sessionStorage.getItem("susdst"),t=r.b.sessionStorage.getItem("susdd");return e&&t?(new Date).getTime()-e<=t?d.IN_DELAY:d.NO_LONGER_IN_DELAY:d.NOT_IN_EXPERIMENT}()===d.IN_DELAY}function f(e){return(Object(a.a)(c.b)||"").endsWith(e)}const g=(e,t,n="unknown_source",r=!1)=>{if(e){const a=e.http_status===s.b?s.b:e.api_error_code;let c=a;o.b.has(a)&&(c=o.b.get(a));const{container:l}=t;r?Object(i.a)(`unauth_web_client_cctld_login_api_error.${String(c)}.${l||"unknow_container"}.${n}`):Object(i.a)(`unauth_web_client_login_api_error.${String(c)}.${l||"unknow_container"}.${n}`)}}},FylZ:function(e,t,n){function r(){let e="";for(let t=0;t<16;t+=1){e+="0123456789abcdef"[Math.floor(16*Math.random())]}return e}n.d(t,"a",(function(){return r}))},G3O9:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},G3wy:function(e,t,n){function r(e){e&&e.focus()}n.d(t,"a",(function(){return r}))},G6B4:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("JQRy"),o=n("+jF9"),a=n("jaOL"),s=n("pWuj"),c=n("lihF"),l=n("LTlA");t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:s.default(e.dirtyHandlerIds,{type:t.type,payload:r({},t.payload,{prevTargetIds:l.get(e,"dragOperation.targetIds",[])})}),dragOffset:i.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:o.default(e.dragOperation,t),stateId:c.default(e.stateId)}}},GMIm:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},GYWy:function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,l=36,u=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function m(e){throw new RangeError(h[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function _(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(p,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=l)e=f(e/35);return f(r+36*e/(e+38))}function S(e){var t,n,r,i,o,a,s,u,d,p,h,g=[],y=e.length,_=0,v=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=_,a=1,s=l;i>=y&&m("invalid-input"),((u=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>f((c-_)/a))&&m("overflow"),_+=u*a,!(u<(d=s<=w?1:s>=w+26?26:s-w));s+=l)a>f(c/(p=l-d))&&m("overflow"),a*=p;w=E(_-o,t=g.length+1,0==o),f(_/t)>c-v&&m("overflow"),v+=f(_/t),_%=t,g.splice(_++,0,v)}return b(g)}function C(e){var t,n,r,i,o,a,s,u,d,p,h,y,_,b,S,C=[];for(y=(e=v(e)).length,t=128,n=0,o=72,a=0;a<y;++a)(h=e[a])<128&&C.push(g(h));for(r=i=C.length,i&&C.push("-");r<y;){for(s=c,a=0;a<y;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>f((c-n)/(_=r+1))&&m("overflow"),n+=(s-t)*_,t=s,a=0;a<y;++a)if((h=e[a])<t&&++n>c&&m("overflow"),h==t){for(u=n,d=l;!(u<(p=d<=o?1:d>=o+26?26:d-o));d+=l)S=u-p,b=l-p,C.push(g(w(p+S%b,0))),u=f(S/b);C.push(g(w(u,0))),o=E(n,_,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.4.1",ucs2:{decode:v,encode:b},decode:S,encode:C,toASCII:function(e){return _(e,(function(e){return d.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return _(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e),n("yLpj"))},GaY9:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("MhBu"),i=n("KFEb");function o(e){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:e}}}function a({aggregatedCommentId:e,parentId:t}){return n=>{n(o(e)),n(Object(r.a)({feedId:t,feedType:i.a.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"}))}}},GfrH:function(e,t,n){function r(){return"\n.PinLandingCloseup__similarPin__button {\n  background-color: transparent;\n  border: 0;\n  color: #767676;\n  font-size: 12px;\n  font-weight: bold;\n  height: 13px;\n  letter-spacing: -0.3px;\n  -moz-osx-font-smoothing: grayscale;\n  outline: none;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n"}n.d(t,"a",(function(){return r}))},Gn5D:function(e,t,n){e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},GsvW:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n("pWkb"),i=n("Ye/N");const o=656,a=464,s=60,c=170,l=e=>{const t=new Date(e),n=(new Date).getTime()-t.getTime();return Math.floor(n/1e3)<60?i.a._("now","timestamp for a comment or post that was created within the last minute","timestamp for a comment or post that was created within the last minute"):Object(r.a)(e,{isAbbreviated:!0})},u=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>s?t.substring(0,s).trim().concat("..."):t}},GyOf:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(i=n?n.call(r,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},Gz3U:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n.n(r);function o({size:e,noCircle:t}){return i.a.createElement("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e},t?null:i.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),i.a.createElement("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#e60023",fillRule:"evenodd"}))}},H3Jb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("4vzw"),o=n("/acK"),a=n("nrB0"),s=n("nwWm"),c=n("2S0S");t.useDragSourceMonitor=function(){var e=o.useDragDropManager();return[r.useMemo((function(){return new a.default(e)}),[e]),r.useMemo((function(){return new s.default(e.getBackend())}),[e])]},t.useDragHandler=function(e,t,n){var a=o.useDragDropManager(),s=r.useMemo((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return c(null==o||"object"==typeof o,"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);r.useEffect((function(){var r=i.default(e.current.item.type,s,a),o=r[0],c=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[])}},HCyo:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),i=n("QIuh"),o=n("YuQ1"),a=n("QLaP"),s=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var r=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId;return this.store.subscribe((function(){var t=n.store.getState(),a=t.stateId;try{a===i||a===i+1&&!o.areDirty(t.dirtyHandlerIds,r)||e()}finally{i=a}}))},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),i=this.getItemType();return r.default(n,i)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!r.default(i,o))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return i.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return i.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=s},HEBY:function(e,t,n){var r=n("3sOJ"),i=n("HezI"),o=n("ISee"),a=n("kWjT"),s=n("8d//");e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},HKS5:function(e,t,n){(function(t){var r=n("2NuI"),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in o))return void n("");if(""===e.type){var a="";return i.test(e.name)&&(a=e.name.replace(i,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n("yLpj"))},HNpt:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return r++}},"HRg/":function(e,t,n){var r=n("eOdZ"),i=n("Aw+Z"),o=n("QLqj"),a=n("kmwA"),s=n("VL22"),c=n("FwmB"),l=n("OX7c"),u=n("28DW"),d=n("i9Af");const p=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?s.a.FACEBOOK:e.google_open_id_token?s.a.GOOGLE_ONE_TAP:e.gplus_id_token?s.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?s.a.EMAIL:s.a.OTHER},h=function(e,t,n=!1){let r="referrer_unknown";try{const e=document.referrer;r=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(l){}const i=p(e),o=t===Object(t)?t.hybridTier:"tier_unknown",a=t===Object(t)?t.container:"container_unknown";Object(u.a)("login.referrer."+r+"."+i),Object(u.a)("login.container."+a+"."+i),Object(u.a)("login.type."+i);const s=p(e)||"method_unknown",c=t.page||"page_unknown";e.gplus_autologin?n?(Object(u.a)("mweb_autologin.google_success"),Object(u.h)("new_mweb_autologin_google",{page:c,referrer:r,container:a,hybridTier:o})):(Object(u.a)("web_autologin_google"),Object(u.h)("new_web_autologin_google",{page:c,referrer:r,container:a,hybridTier:o})):e.facebook_autologin?(Object(u.a)("web_autologin_facebook"),Object(u.h)("new_web_autologin_facebook",{page:c,referrer:r,container:a,hybridTier:o})):(Object(u.a)(`web_login.${s}.success.${c}.${a}.${r}.${o}`),Object(u.h)(`new_web_login.${s}.success`,{page:c,referrer:r,container:a,hybridTier:o}))},f=(e,t)=>{Object(u.a)(`web_cross_domain_login.${e}.${p(t)}`)};t.a=function(e,t,n={},s=!1,u,g,m=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==a.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(t.origin))return function(e,t,n,r){f("attempt",e);const{referrer:i,facebookToken:o,unauthId:a}=r;return Object(d.loginUser)(e,{recaptchaV3Token:t,referrer:i,facebookToken:o,unauthId:a}).then(t=>{if(t&&t.data){f("success_with_token",e);const r=t.data;return Object(d.exchangeTokenAndSetSession)(r).then(t=>(f("success_token_exchanged",e),h(e,n),Promise.resolve()),t=>{throw f("success_token_not_exchanged",e),t})}throw f("success_without_token",e),new Error},t=>{throw f("failure",e),Object(c.f)(t,n,p(e),!0),t})}(e,g,n,t)}const y=s?null:o.b.localStorage.getItem("visitedPagesBeforeLogin"),_={...e,get_user:e.get_user||e.switch_account&&s,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:y?JSON.stringify(y):null,recaptchaV2Token:u,recaptchaV3Token:g};return r.a.create("UserSessionResource",_).callCreate({showError:!1,async:!0}).then(t=>(h(e,n,m),Object(i.a)(!1),Object(l.a)("login").then(()=>t)),t=>(Object(c.f)(t,n,p(e)),Promise.reject(t)))}},HTqQ:function(e,t,n){var r=n("xjqW");t.a=({id:e,viewParameter:t,viewType:n})=>Object(r.b)({id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"aggregatedComment"})},Hdlu:function(e,t,n){var r=n("q1tI"),i=n("YVIB"),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},HezI:function(e,t,n){var r=n("jLRO"),i=n("F09w"),o=n("158f"),a=n("2NuI");function s(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<t&&o-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),l=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(l=e.startContainer,u=e.startOffset,l.parentNode||a(!1),e.setStartBefore(l),1!==l.nodeType||"inline"===getComputedStyle(l).display););for(var d=l,p=u-1;;){for(var h=d.nodeValue,f=p;f>=0;f--)if(!(null!=h&&f>0&&r.isSurrogatePair(h,f-1))){if(e.setStart(d,f),!s(o(e),n))break;l=d,u=f}if(-1===f||0===d.childNodes.length)break;p=c(d=d.childNodes[f])}return e.setStart(l,u),e}},Hpvj:function(e,t,n){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},Hrat:function(e,t,n){var r=n("yaUg"),i=n("Ye/N");t.a=e=>{const t=e.link_domain||{},n=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,o=e.rich_metadata,a=e.domain,s=e.closeup_attribution||e.native_creator||t.official_user||e.pinner||e.origin_pinner,c=!(!(o&&o.recipe&&o.recipe.name&&o.recipe.categorized_ingredients)||o.recipe.from_aggregated_data);let l,u;o&&o.products&&o.products[0]&&(l=!!(o&&o.name&&o.offer_summary));const d=e.buyable_product,p=l||d,h=!(!o||!o.article),f=!(!o||!o.tutorial),g=!(!s||!s.username);let m=i.a._("Saved from ","Closeup pin annotation","Closeup pin annotation"),y=g?i.a._("Saved by"):i.a._("Saved from"),_=i.a._("Visit");o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offer_summary&&(m=i.a._("Product sold by ","pin annotation","pin annotation"),u=o.products[0].offer_summary),p?(y=i.a._("Sold by"),_=i.a._("Visit")):f?(m=i.a._("Saved from ","pin annotation","pin annotation"),y=g?i.a._("Saved by"):i.a._("Saved from"),_=i.a._("Visit")):c?(m=i.a._("Recipe from ","pin annotation","pin annotation"),y=g?i.a._("Recipe by"):i.a._("Recipe from"),_=i.a._("Make it")):h&&(m=i.a._("Article from ","pin annotation","pin annotation"),y=g?i.a._("Article by"):i.a._("Article from"),_=i.a._("Read it"));const v=e.rich_summary;if(!u&&v){let e;v&&v.products&&v.products[0]&&(e=!!(v&&v.products[0].name&&v.products[0].offer_summary),e&&(m=i.a._("Product sold by ","pin annotation","pin annotation")))}let b,w;g?(b="/"+s.username+"/",w=s.full_name):(b="/source/"+a,w=o&&o.site_name||a);return{actionButtonText:_,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:b,pinLink:n,pin:e,pinCreditPrefix:m,prefixText:y,subtitle:w,title:Object(r.a)(i.a._("More from {{ subtitle }}"),{subtitle:w}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},HriT:function(e,t,n){var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},I1Lu:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("Ye/N");const i=()=>r.a._("Sign up to get your ideas","unauth.homepage.signup_upsell","Invite users to signup after seeing education about Pinterest on homepage."),o=["BR","CO","AR","MX"],a=["US","CA","GB","IE","AU","NZ"],s=e=>"IN"===e?{chai:r.a._("chai time snacks idea","unauth.homepage.title","An example of what india users could find on Pinterest."),homeDecor:r.a._("home decor idea","unauth.homepage.title","An example of what india users could find on Pinterest."),fashion:r.a._("outfit idea","unauth.homepage.title","An example of what india users could find on Pinterest."),DIY:r.a._("DIY idea","unauth.homepage.title","An example of what india users could find on Pinterest.")}:o.includes(e)?{fashion:r.a._("summer outfit idea","unauth.homepage.title","An example of what LATAM users could find on Pinterest."),parenting:r.a._("activity for kids","unauth.homepage.title","An example of what LATAM users could find on Pinterest."),food:r.a._("idea for special dinner","unauth.homepage.title","An example of what LATAM users could find on Pinterest."),DIY:r.a._("DIY project","unauth.homepage.title","An example of what LATAM users could find on Pinterest.")}:a.includes(e)?{halloween:r.a._("Halloween idea","unauth.homepage.title","An example of what users could find on Pinterest."),food:r.a._("weeknight dinner idea","unauth.homepage.title","An example of what users could find on Pinterest."),homeDecor:r.a._("home decor idea","unauth.homepage.title","An example of what users could find on Pinterest."),fashion:r.a._("new look outfit","unauth.homepage.title","An example of what users could find on Pinterest.")}:{food:r.a._("weeknight dinner idea","unauth.homepage.title","An example of what users could find on Pinterest."),homeDecor:r.a._("home decor idea","unauth.homepage.title","An example of what users could find on Pinterest."),gardening:r.a._("green thumb idea","unauth.homepage.title","An example of what users could find on Pinterest."),fashion:r.a._("new look outfit","unauth.homepage.title","An example of what users could find on Pinterest.")}},I2Ug:function(e,t,n){var r=n("JL7T"),i=n("VTBg"),o=n("zVay"),a=n("2NuI"),s=o.OrderedMap,c=o.List,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),u=t.getParentKey(),d=t.getNextSiblingKey(),p=t.getPrevSiblingKey(),h=n.getParentKey(),f=o?n.getNextSiblingKey():s,g=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){l(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),l(p,e,(function(e){return e.merge({nextSibling:d})})),l(d,e,(function(e){return e.merge({prevSibling:p})})),l(f,e,(function(e){return e.merge({prevSibling:a})})),l(g,e,(function(e){return e.merge({nextSibling:a})})),l(h,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:c(i)})})),l(a,e,(function(e){return e.merge({nextSibling:f,prevSibling:g,parent:h})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),l=t.getKey();l===c&&a(!1);var d=e.getBlockMap(),p=t instanceof r,h=[t],f=d.delete(l);p&&(h=[],f=d.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===l})).takeWhile((function(e){var t=e.getKey(),i=t===l,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){h.push(t),e.delete(t.getKey())}))})));var g=f.toSeq().takeUntil((function(e){return e===n})),m=f.toSeq().skipUntil((function(e){return e===n})).skip(1),y=h.map((function(e){return[e.getKey(),e]})),_=s();if("before"===o){var v=e.getBlockBefore(c);v&&v.getKey()===t.getKey()&&a(!1),_=g.concat([].concat(y,[[c,n]]),m).toOrderedMap()}else if("after"===o){var b=e.getBlockAfter(c);b&&b.getKey()===l&&a(!1),_=g.concat([[c,n]].concat(y),m).toOrderedMap()}return e.merge({blockMap:u(_,t,n,o,p),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})}},I8OZ:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("fZAc"),o=n("mjHj"),a=n("2NuI"),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||a(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},IDoE:function(e,t,n){var r=n("xGpI");t.a=()=>Object.keys(Object(r.a)()).length},"IEa/":function(e,t,n){var r=n("FeGr"),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=i.length?i.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},"IG/j":function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("n6mq"),a=n("4cTg");function s(){return i.a.createElement(a.b.Consumer,null,({showCloseupContentRight:e,viewportSize:t})=>e&&"lg"===t?i.a.createElement(o.e,{width:16}):null)}},IIK6:function(e,t,n){n.d(t,"Y",(function(){return r})),n.d(t,"Q",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"P",(function(){return a})),n.d(t,"L",(function(){return s})),n.d(t,"M",(function(){return c})),n.d(t,"N",(function(){return l})),n.d(t,"U",(function(){return u})),n.d(t,"T",(function(){return d})),n.d(t,"R",(function(){return p})),n.d(t,"S",(function(){return h})),n.d(t,"W",(function(){return f})),n.d(t,"V",(function(){return g})),n.d(t,"X",(function(){return m})),n.d(t,"C",(function(){return y})),n.d(t,"Z",(function(){return _})),n.d(t,"y",(function(){return v})),n.d(t,"B",(function(){return b})),n.d(t,"F",(function(){return w})),n.d(t,"z",(function(){return E})),n.d(t,"A",(function(){return S})),n.d(t,"E",(function(){return C})),n.d(t,"x",(function(){return x})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return k})),n.d(t,"hb",(function(){return T})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return D})),n.d(t,"ib",(function(){return P})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return M})),n.d(t,"jb",(function(){return A})),n.d(t,"b",(function(){return L})),n.d(t,"v",(function(){return R})),n.d(t,"eb",(function(){return F})),n.d(t,"fb",(function(){return B})),n.d(t,"gb",(function(){return z})),n.d(t,"w",(function(){return N})),n.d(t,"G",(function(){return U})),n.d(t,"ab",(function(){return V})),n.d(t,"bb",(function(){return W})),n.d(t,"K",(function(){return q})),n.d(t,"kb",(function(){return K})),n.d(t,"u",(function(){return H})),n.d(t,"i",(function(){return G})),n.d(t,"l",(function(){return Y})),n.d(t,"k",(function(){return J})),n.d(t,"m",(function(){return $})),n.d(t,"n",(function(){return X})),n.d(t,"o",(function(){return Q})),n.d(t,"p",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"r",(function(){return re})),n.d(t,"mb",(function(){return ie})),n.d(t,"lb",(function(){return oe})),n.d(t,"pb",(function(){return ae})),n.d(t,"rb",(function(){return se})),n.d(t,"sb",(function(){return ce})),n.d(t,"tb",(function(){return le})),n.d(t,"ob",(function(){return ue})),n.d(t,"qb",(function(){return de})),n.d(t,"nb",(function(){return pe})),n.d(t,"db",(function(){return he})),n.d(t,"O",(function(){return fe})),n.d(t,"j",(function(){return ge})),n.d(t,"D",(function(){return me})),n.d(t,"cb",(function(){return ye})),n.d(t,"H",(function(){return _e})),n.d(t,"I",(function(){return ve})),n.d(t,"J",(function(){return be}));const r=880,i=340,o=380,a=510,s=40,c=20,l=4,u=474,d=186,p=40,h=10,f=88,g=183,m=130,y=24,_=400,v=50,b=8,w=8,E=5,S=20,C=13,x=5,O=20,k=O**2,T=100,I=500,D=500,P=40,j=100,M=5,A=["attempted","publishing","succeeded","uploading"],L={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}]},R=["tl","tc","tr","bl","bc","br"],F=["left","center"],B=["top","center","bottom"],z=["none","uppercase"],N=["sm","md","lg"],U=[1,.75],V=198,W=132,q=(Math.floor(16*W/9),1),K=56,H=240,G="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Y=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],J=["bmp","gif","jpg","jpeg","png","tiff","webp"],$=89478485,X=20971520,Q=100,Z=100,ee=1e3,te=1500,ne=2,re=3,ie=["video/mp4","video/x-m4v","video/quicktime"],oe=["mp4","m4v","mov"],ae=2147483648,se=4,ce=Q,le=Z,ue=900,de=.5,pe=1.91,he=2,fe=["processing","publishing","saving"],ge=2500,me=3,ye=5e3,_e="pin-builder-default-education-id",ve="pin-builder-default-tour-id",be="pin-builder-editing-tour-id"},IRZy:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),i=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dropTarget:function(e,n){t.dropTargetOptions=n,i.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!o(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},ISR0:function(e,t,n){var r=n("QvxS"),i=n("fyOY"),o=n("3sOJ"),a=n("kc9Y"),s=n("F09w"),c=n("HKS5"),l=n("5RSi"),u=n("WaGC"),d=n("T401"),p=n("gWRK");var h={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),u=e._latestEditorState,h=function(e,t){var n=null,r=null,i=s(e.currentTarget);if("function"==typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=p(n),r=p(r);var c=p(a(n));return l(t,c,r,c,r)}(t.nativeEvent,u);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=h){var m=n.getFiles();if(m.length>0){if(e.props.handleDroppedFiles&&d(e.props.handleDroppedFiles(h,m)))return;c(m,(function(t){t&&e.update(g(u,h,t))}))}else{var y=e._internalDrag?"internal":"external";e.props.handleDrop&&d(e.props.handleDrop(h,n,y))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(u,h)):e.update(g(u,h,n.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:u(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function g(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=h},ISee:function(e,t,n){var r=n("kc9Y"),i=n("zORg"),o=n("5RSi"),a=n("2NuI"),s=n("GyOf"),c=n("gWRK");function l(e,t,n){var o=t,l=r(o);(null!=l||e&&(e===o||e.firstChild===o)||a(!1),e===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var d=null;if(null!=l)d=l;else{var p=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(o);d=c(i(p))}return{key:d,offset:0}}var h=o.childNodes[n-1],f=null,g=null;if(i(h)){var m=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(h);f=c(i(m)),g=u(m)}else f=c(l),g=u(h);return{key:f,offset:g}}function u(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,a,s){var u=n.nodeType===Node.TEXT_NODE,d=a.nodeType===Node.TEXT_NODE;if(u&&d)return{selectionState:o(e,c(r(n)),i,c(r(a)),s),needsRecovery:!1};var p=null,h=null,f=!0;return u?(p={key:c(r(n)),offset:i},h=l(t,a,s)):d?(h={key:c(r(a)),offset:s},p=l(t,n,i)):(p=l(t,n,i),h=l(t,a,s),n===a&&i===s&&(f=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,p.key,p.offset,h.key,h.offset),needsRecovery:f}}},Idtq:function(e,t,n){var r=n("cwFY")("draft_tree_data_support");e.exports=n(r?"YrFj":"Y3PQ")},Iq8E:function(e,t,n){var r="-",i={encode:function(e,t,n){return e+r+t+r+n},decode:function(e){var t=e.split(r).reverse(),n=t[0],i=t[1];return{blockKey:t.slice(2).reverse().join(r),decoratorKey:parseInt(i,10),leafKey:parseInt(n,10)}}};e.exports=i},JA34:function(e,t,n){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n("q1tI"),i=n.n(r),o=n("gLeT"),a=n("Ye/N"),s=n("EC51"),c=n("TgLd"),l=n("kmwA"),u=n("vvax"),d=n("n6mq"),p=n("7jH2");const h={closed:0,open:1,completed:2},{CANONICAL_HELP_CENTER_URL:f}=l.a.settings,g=f+"/article/suspicious-links";function m({altLinks:e,handleModalCompleteAltClickthrough:t,handleModalCompleteOriginalClickthrough:n,handleModalDismiss:r,pin:l}){const h=Object(p.p)({pin:l}),{link:f}=Object(p.o)(h)||{},m=a.a._("This link is suspicious.","Label for a modal warning the user that the clickthough link may be suspicious, and suggesting available alternatives","Label for a modal warning the user that the clickthough link may be suspicious, and suggesting available alternatives"),y=a.a._("Heads up: This link may not work","Header for modal warning user about 404 clickthrough link","Header for modal warning user about 404 clickthrough link"),_=i.a.createElement(d.V,{inline:!0,key:"suspicious links hc",weight:"bold"},i.a.createElement(s.a,{inline:!0,href:g,target:"blank"},a.a._("Learn more","Text link for learning more about suspicous links","Text link for learning more about suspicous links"))),v=i.a.createElement(d.V,null,Object(u.b)(a.a._("This link may be broken or outdated. {{ learnMore }}","Subheader for modal warning user about 404 clickthrough link","Subheader for modal warning user about 404 clickthrough link"),{learnMore:_})),b=i.a.createElement(d.e,{display:"flex"},i.a.createElement(d.e,{alignItems:"center",display:"flex",marginEnd:2},i.a.createElement(d.t,{accessibilityLabel:a.a._("Warning: suspicious link","Icon for suspicious clickthrough link","Icon for suspicious clickthrough link"),icon:"report",color:"red",inline:!0})),i.a.createElement(d.V,{weight:"bold"},l.domain)),w=i.a.createElement(o.a,{target:"blank",onClick:n,externalData:{pinId:l.id},href:f,size:"md",text:a.a._("Visit anyway","Disregard bad clickthrough warning","Disregard bad clickthrough warning"),accessibilityLabel:a.a._("Visit link anyway","Accessible label for bad link modal button to complete clickthrough","Accessible label for bad link modal button to complete clickthrough")}),E=i.a.createElement(d.f,{color:"red",size:"md",text:a.a._("Cancel","Cancel clickthrough and go back to the closeup","Cancel clickthrough and go back to the closeup"),accessibilityLabel:a.a._("Cancel and return to closeup","Accessible label for bad link modal cancel button","Accessible label for bad link modal cancel button"),onClick:r}),S=i.a.createElement(c.b,{accessibilityModalLabel:m,heading:y,onDismiss:r,size:"sm"},i.a.createElement(d.e,{paddingX:9,paddingY:5},v,i.a.createElement(d.e,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:4},b),i.a.createElement(d.e,{marginTop:7},w),i.a.createElement(d.e,{marginTop:4,marginBottom:5},E))),C=e&&i.a.createElement(d.V,null,a.a.ngettext("Maybe try this one?","Maybe try one of these?",e.length,"Alternate clickthrough links if the link is suspicious","Alternate clickthrough links if the link is suspicious")),x=e.map(e=>e&&i.a.createElement(d.e,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:2,key:e.url},i.a.createElement(d.e,{display:"flex"},i.a.createElement(d.e,{alignItems:"center",display:"flex",marginEnd:2},i.a.createElement(d.t,{accessibilityLabel:a.a._("Alternative link","Icon for alternative clickthrough link","Icon for alternative clickthrough link"),icon:"arrow-up-right",color:"gray",inline:!0})),i.a.createElement(d.V,{weight:"bold"},e.domain)),i.a.createElement(o.a,{externalData:{pinId:l.id},onClick:t,target:"blank",href:e.url,size:"md",text:a.a._("Visit","Visit alternative clickthrough link","Visit alternative clickthrough link"),accessibilityLabel:a.a._("Visit alternative link","Accessible label for bad link modal button to clickthrough alternative link","Accessible label for bad link modal button to clickthrough alternative link"),inline:!0}))),O=i.a.createElement(c.b,{accessibilityModalLabel:m,heading:y,onDismiss:r,size:"sm"},i.a.createElement(d.e,{padding:8},v,i.a.createElement(d.e,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:8,marginBottom:8},b,w),i.a.createElement(d.e,{marginBottom:2},C),i.a.createElement(d.e,{marginBottom:2},x),i.a.createElement(d.e,{padding:4},E)));return 0===e.length?S:O}},"JI+E":function(e,t,n){var r=n("3sOJ"),i=n("TWoB"),o=n("jl2H");e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,u))}}},JK01:function(e,t,n){t.a=(e,t,n,r=!1,i="")=>`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: ${r?"50%":i||"8px"};\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${t}px ${n}px;\n  width: ${t}px;\n  height: ${n}px;\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${t}px 0;\n  }\n  100% {\n      background-position: ${t}px 0;\n  }\n}\n`},JKZO:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("nokP"),a=n.n(o),s=n("yeYm"),c=n.n(s),l=n("clxp"),u=n("FDmi"),d=n("Ye/N"),p=n("n6mq");var h=e=>{const{id:t,isFocused:n,onMouseDown:r,onMouseEnter:o,onMouseUp:a,mention:s,role:c,searchValue:l}=e;return i.a.createElement("div",{id:t,onMouseDown:r,onMouseEnter:o,onMouseUp:a,searchvalue:l,role:c},i.a.createElement(p.e,{display:"flex",alignItems:"center",color:n?"lightGray":"transparent",rounding:4,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},i.a.createElement(p.e,{padding:1},i.a.createElement(u.a,{accessibilityLabel:"",name:s.full_name,size:"sm",src:s.image_medium_url,verified:s.verified_identity&&s.verified_identity.verified})),i.a.createElement(p.e,{marginStart:2,marginEnd:2,overflow:"hidden"},i.a.createElement(p.V,{truncate:!0,weight:"bold",color:"darkGray"},s.full_name),i.a.createElement(p.e,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}}},i.a.createElement(p.V,{size:"sm",color:"darkGray"},s.username,s.explicitly_followed_by_me&&" • "+d.a._("Following","mentions.mentionsFlyout.following","Label to tell the user that they are viewing a user they follow"))))))},f=n("eOdZ"),g=n("vxan"),m=n("hM3f"),y=n("v83y");const _=e=>i.a.createElement(p.V,{inline:!0,color:"blue",weight:"bold"},e.children);t.a=Object(g.a)(({focusOnMount:e,initialMentions:t=[],initialText:n="",instanceId:o,maxSuggestions:s=m.a,makeCancelablePromise:u,onAddMention:d,onBlur:g,onChange:v,onFocus:b,onSearchMentionCancel:w,onSuggestionsPopoverClose:E,onSuggestionsPopoverOpen:S,placeholder:C,readOnly:x,spellCheck:O})=>{const k=Object(r.useRef)(null),[T,I]=Object(r.useState)(!1),[D,P]=Object(r.useState)(!1),[j,M]=Object(r.useState)([]),[{plugins:A,MentionSuggestions:L}]=Object(r.useState)(()=>(()=>{const e=a()({entityMutability:"IMMUTABLE",mentionComponent:_,mentionPrefix:"@",mentionTrigger:"@",positionSuggestions:m.f,supportWhitespace:!1}),{MentionSuggestions:t}=e;return{plugins:[e],MentionSuggestions:t}})()),[R,F]=Object(r.useState)();Object(r.useEffect)(()=>{F(y.EditorState.createWithContent(Object(m.c)({text:n,mentions:t})))},[o]),Object(r.useEffect)(()=>{I(!0)},[]),Object(r.useEffect)(()=>{e&&k.current&&setTimeout(k.current.focus,50)},[T]);const B=Object(r.useCallback)(e=>{M([]),d&&d(e)},[]),z=Object(r.useCallback)(e=>{g&&g(e)},[]),N=Object(r.useCallback)(e=>{const t=e.getCurrentContent(),n=t.getPlainText(""),r=Object(m.e)(t);F(e),v({text:n,mentions:r})},[]),U=Object(r.useCallback)(e=>{b&&b(e)},[]),V=Object(r.useCallback)(()=>{P(!1),E&&E()},[]),W=Object(r.useCallback)(()=>{P(!0),S&&S()},[]),q=Object(r.useCallback)((e,t)=>{if(w&&" "===e&&D&&w(),j.length>0)return"not-handled";const n=t.getCurrentContent(),r=t.getSelection();return N(y.EditorState.push(t,y.Modifier.replaceText(n,r,e),"adjust-depth")),"handled"},[j]),K=Object(r.useCallback)(({value:e})=>{u(f.a.create("UserMentionTypeaheadResource",{query:e,num_people:s}).callGet(),"userMentionTypeahead").then(e=>{const t=Object(m.d)({suggestions:e.resource_response.data});M(t)}).catch(()=>{})},[]);return i.a.createElement(l.a,{name:"EditorWithMentions"},T&&i.a.createElement(p.e,{"data-test-id":"editor-with-mentions",width:"100%"},i.a.createElement(c.a,{editorState:R,onBlur:z,onChange:N,onFocus:U,handleBeforeInput:q,placeholder:C,plugins:A,readOnly:x,ref:k,spellCheck:O,stripPastedStyles:!0}),i.a.createElement(L,{onAddMention:B,onClose:V,onOpen:W,onSearchChange:K,suggestions:j,entryComponent:h})))})},JL7T:function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("zVay"),a=o.List,s=o.Map,c=o.OrderedSet,l=o.Record,u=o.Repeat,d=c(),p={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},g=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(u(r.EMPTY,n.length))),e},m=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e.call(this,g(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},o.findEntityRanges=function(e,t){i(this.getCharacterList(),f,e,t)},r}(l(p));e.exports=m},JPfG:function(e,t,n){var r=n("gxu6"),i=n("mwIZ"),o=n.n(i),a=n("E+oP"),s=n.n(a),c=n("eOdZ"),l=n("QLqj"),u=n("28DW"),d=n("VL22"),p=n("RNo4"),h=n("OX7c"),f=n("J8m7"),g=n("i9Af");let m=0;const y=(e,t)=>{const n={...e},{onCorsHandshakeHost:i,registerUserContext:a,sendActiveUserPing:_,successWithoutTokenErrorMessage:v}=t,b=l.b.localStorage.getItem("visitedPages"),w=o()(window,["location","search"],null),E=Object(p.k)(w).utm_campaign;b&&(n.visited_pages=JSON.stringify(b)),E&&(n.utm_campaign=E);const S=l.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(S){const e=[];for(const t of S)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(n.visited_pages=JSON.stringify(e.concat(b||[])))}n.user_behavior_data=(()=>{const e={};return["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach(t=>{const n=l.b.localStorage.getItem(t);n&&(e[t]=n)}),JSON.stringify(e)})();const C=e=>(Object(h.a)("signup"),r.c("galae"),r.c("fbalae"),_(),r.b("ujr","1"),((e,{logContextEventType:t,trackRegisterSuccess:n})=>{let r;switch(e.container){case"home_page":r=1750,Object(u.a)("signup_home_page");break;case"mweb_homepage":r=1750,Object(u.a)("signup_mweb_home_page");break;case"plain_signup_modal":r=1751,Object(u.a)("signup_plain_modal");break;case"closeup_signup_modal":r=1752,Object(u.a)("signup_closeup_modal");break;case"widescreen_signup_modal":r=1753,Object(u.a)("signup_widescreen_modal");break;case"pinit_button_landing":r=1755,Object(u.a)("signup_pinit_button_landing");break;case"inspired_banner":Object(u.a)("signup_inspired_banner");break;case"category_jump_banner":Object(u.a)("signup_category_jump_banner");break;case"send_pin_banner":r=1756,Object(u.a)("send_pin_banner");break;default:r=1754,Object(u.a)("signup_unknown_placement")}const i=e.container||"container_unknown";Object(u.a)("signup.container."+i);const o=e.signupSource||"signupSource_unknown";Object(u.a)("signup.source."+o),r&&t(r);const a=document.referrer;let s;s=a?a.indexOf("/t.co/")>-1?"twitter":a.indexOf("google.")>-1?"google":a.indexOf("bing.")>-1?"bing":a.indexOf("facebook.")>-1?"facebook":"other":"direct",Object(u.a)("signup_referrer."+s),n(),Object(u.a)(`web_signup.${Object(d.b)(e)}.success.${e.page||"page_unknown"}.${i}.${s}.${e.hybridTier||"tier_unknown"}`)})(n,t),e),x=e=>{e.api_error_code===f.c&&(Object(u.a)("multi_step_set_age_restrict_cookie"),r.b("r_r","1",87600),r.b("_pinterest_pfob","disabled"));if((s()(e.api_error_code)||[f.g,f.f].includes(e.api_error_code))&&m<3)return Object(u.a)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(n.container)}`),m+=1,y(n,t);throw e};if(!n.facebook_id&&!n.gplus_code&&!n.gplus_id_token&&!n.google_open_id_token&&Boolean(n.email)&&i){Object(u.a)("unauth_cross_domain_register_debugging_counter");const e=e=>{Object(u.a)(`web_cross_domain_register.${e}.${Object(d.b)(n)}`)};return e("attempt"),Object(g.registerUser)(n,a).then(t=>{C(t);const n=t.data||"";if(n)return e("success_with_token"),Object(g.exchangeTokenAndSetSession)(n,!0).then(t=>{e("success_token_exchanged")},t=>{throw e("success_token_not_exchanged"),t});throw e("success_without_token"),new Error(v)},t=>{e("failure"),x(t)})}return c.a.create("UserRegisterResource",n).callCreate().then(e=>C(e),e=>x(e))};t.a=y},JQRy:function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("pYMm"),o=n("N4T/"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case i.INIT_COORDS:case i.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case i.HOVER:return o.areCoordsEqual(e.clientOffset,n.clientOffset)?e:r({},e,{clientOffset:n.clientOffset});case i.END_DRAG:case i.DROP:return a;default:return e}}},Jld5:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("ANjH"),i=n("G6B4"),o=n("pYMm"),a=n("HCyo"),s=n("54t5");var c=function(){function e(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=o.store.getState().refCount>0;e&&!o.isSetUp?(o.backend.setup(),o.isSetUp=!0):!e&&o.isSetUp&&(o.backend.teardown(),o.isSetUp=!1)};var c=function(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return r.createStore(i.default,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=c,this.monitor=new a.default(c,new s.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch;var n=o.default(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=o.apply(e,n);void 0!==i&&t(i)}),r}),{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=c},KL9H:function(e,t,n){var r=n("K4CH"),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),l={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:c.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};e.exports=l},Klk4:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("zFhk"),a=n("qD10"),s=n("n6mq"),c=n("GsvW");function l({createdAt:e,user:t}){const n=i.a.createElement(s.V,{color:"gray",size:"md"},Object(c.f)(e));return i.a.createElement(s.e,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1},i.a.createElement(s.e,{paddingX:1},i.a.createElement(a.a,{to:`/${t.username}/`},i.a.createElement(s.V,{size:"md",weight:"bold"},Object(c.e)(t)))),i.a.createElement(s.e,{paddingX:1},n))}var u=n("ESls"),d=n("xNI5"),p=n("VbOu"),h=n("4cpq"),f=n("dwea"),g=n("3eT9"),m=n("gI5O"),y=n("AnoD");function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.a.PureComponent{constructor(...e){super(...e),_(this,"state",{isFeaturedHighlighting:this.props.commentId===this.props.featuredCommentId}),_(this,"renderEditMode",()=>{const{contentImage:e,contentImageSignature:t,contentText:n,handleOnEdited:r,handleOnEditCancel:o,hideAddObjects:a,parentObject:s,pins:c,tags:l,taggedUsers:u,type:d}=this.props;return i.a.createElement(y.a,{addedObjects:c,addedImage:e,hideAddObjects:a,imageSignature:t,objectType:d,onAddItem:()=>{},onCancelItem:o,onEditItem:r,onEnter:()=>{},parentObjectId:s.id,statusType:"textInFlightEdit",tags:l,taggedUsers:u,text:n,widthAuto:!0})})}componentDidMount(){this.props.commentId===this.props.featuredCommentId&&f.a.setTimeout(()=>{this.setState({isFeaturedHighlighting:!1})},1500)}render(){const{allowLink:e,avatarSize:t,createdAt:n,commentCount:a,commentAuthor:c,contentText:f,flyout:m,handleHelpfulClick:y,handleLikeClick:_,handleReplyClick:v,handleReplyCountClick:b,helpfulCount:w,hideReplyCount:E,inEditMode:S,isLikedByMe:C,isMarkedHelpfulByMe:x,isPlainComment:O,reactionCounts:k,tags:T,taggedUsers:I,handleLikeCountClick:D,truncateText:P}=this.props,{isFeaturedHighlighting:j}=this.state;return i.a.createElement(h.a,{id:"canonical-comment"},i.a.createElement(s.e,{display:"flex",marginBottom:O?4:0},i.a.createElement(s.e,{marginEnd:2},i.a.createElement(o.a,{user:c,size:t})),i.a.createElement(s.e,{flex:"grow",marginStart:2},i.a.createElement(s.e,{dangerouslySetInlineStyle:{__style:{borderColor:S?"transparent":void 0,transition:"1000ms",backgroundColor:j?"lightGray":null}},borderStyle:"sm",padding:S?0:3,rounding:4},S?this.renderEditMode():i.a.createElement(r.Fragment,null,i.a.createElement(l,{createdAt:n,user:c}),P?i.a.createElement(g.a,{allowLink:e,allowReveal:!0,size:"sm",taggedUsers:I,tags:T,text:f}):i.a.createElement(p.a,{allowLink:e,size:"sm",tags:T,taggedUsers:I,text:f}))),!S&&!O&&i.a.createElement(s.e,{padding:1},i.a.createElement(u.a,{name:"web_comment_mark_as_helpful_v2",activate:!1},({group:e})=>i.a.createElement(d.default,{commentCount:a,flyout:S?null:m,hideReplyCount:E,isLikedByMe:C,onLikeClick:_,onLikeCountClick:D,onReplyClick:v,onReplyCountClick:b,reactionCounts:k,helpfulExperimentGroup:e,isMarkedHelpfulByMe:x,onHelpfulClick:y,helpfulCount:w,small:!0}))))))}}_(v,"defaultProps",{allowLink:!1,avatarSize:"sm"});t.a=Object(m.b)(v)},L0q3:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("Taje"),o=n("UevE"),a=n("zVay"),s=a.List,c=a.Repeat,l=a.Record,u=function(){return!0},d=l({start:null,end:null}),p=l({start:null,end:null,decoratorKey:null,leaves:null}),h={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new p({start:0,end:0,decoratorKey:null,leaves:s.of(new d({start:0,end:0}))}));var o=[],a=n?n.getDecorations(t,e):s(c(null,r)),l=t.getCharacterList();return i(a,g,u,(function(e,t){o.push(new p({start:e,end:t,decoratorKey:a.get(e),leaves:f(l.slice(e,t).toList(),e)}))})),s(o)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["leaves"]);return new p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:o(t)).map((function(e){return d(e)})):null}))}};function f(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return i(r,g,u,(function(e,r){n.push(new d({start:e+t,end:r+t}))})),s(n)}function g(e,t){return e===t}e.exports=h},L2EA:function(e,t,n){var r=n("YeVe"),i=n("JL7T"),o=n("zVay"),a=n("Zf/v"),s=n("2NuI"),c=n("V8dp"),l=o.List,u=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),l=c.getText(),u=c.getCharacterList(),d=i,p=o+r.getText().length,h=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":h=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":h=r.getData()}var f=c.getType();l&&"unstyled"===f&&(f=r.getType());var g=c.merge({text:l.slice(0,o)+r.getText()+l.slice(o),characterList:a(u,r.getCharacterList(),o),type:f,data:h});return e.merge({blockMap:n.set(i,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:d,anchorOffset:p,focusKey:d,focusOffset:p,isBackward:!1})})},d=function(e,t,n,o,a,s){var c=n.first()instanceof i,u=[],d=o.size,p=n.get(a),h=o.first(),f=o.last(),g=f.getLength(),m=f.getKey(),y=c&&(!p.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(y?u.push(e):u.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(y?0:1,d-1).forEach((function(e){return u.push(e)})),u.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),s=i.slice(t,o),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,o))):u.push(e)}));var _=r.createFromArray(u);return c&&(_=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),u=c[c.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([u,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],u),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var d=e.get(s).getChildKeys(),p=d.indexOf(i)+1,h=d.toArray();h.splice.apply(h,[p,0].concat(c)),t.setIn([s,"children"],l(h))}}))}(_,0,p,h)),e.merge({blockMap:_,selectionBefore:t,selectionAfter:t.merge({anchorKey:m,anchorOffset:g,focusKey:m,focusOffset:g,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),a=c(n),l=t.getStartKey(),p=t.getStartOffset(),h=o.get(l);return h instanceof i&&(h.getChildKeys().isEmpty()||s(!1)),1===a.size?u(e,t,o,a.first(),l,p,r):d(e,t,o,a,l,p)}},L2Gz:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("QLqj");function i(e,t){return e.some(e=>e.id===t.id)}function o(e){const t=[];if(e){const n=72e5,r=Date.now()-n;for(const i of e)i.ts>=r&&("string"==typeof i.image_signature&&t.push(i.image_signature),"string"==typeof i.first_pin_image_signature&&t.push(i.first_pin_image_signature))}return t}function a(){return{plpImages:o(r.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")||[]),blpImages:o(r.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin")||[])}}function s(e){return e.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function c(e){const t=e.log_data;if(!t)return"";return JSON.parse(t).source||""}function l(e,t=5e-4){const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},r=(e,t,r)=>"#"+n(e)+n(t)+n(r),i=(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]})(e);if(!i)return e;const[o,a,s]=i;if(o/255**2.2*.2126+a/255**2.2*.7151+s/255**2.2*.0721<=t)return r(o,a,s);const c=(t/(o/255**2.2*.2126+a/255**2.2*.7151+s/255**2.2*.0721))**(1/2.2);return r(Math.floor(c*o),Math.floor(c*a),Math.floor(c*s))}},LOQM:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("n6mq");const a=(e,t,n)=>{const i=Object(r.useRef)(null),o=Object(r.useRef)(null);Object(r.useEffect)(()=>{if(e!==i.current||n&&n!==o.current){i.current=e;const n=(r=e,document.querySelector(`img[src="${r}"]`)||null);(null==n?void 0:n.complete)&&t()}var r;o.current=n},[e,t,n])};function s({alt:e,children:t,color:n,isActive:r=!1,naturalHeight:s,naturalWidth:c,onLoad:l,src:u}){return a(u,l,r),i.a.createElement(o.v,{alt:e,color:n,naturalHeight:s,naturalWidth:c,onLoad:l,src:u},t)}},"LQE/":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("ihsa"),a=n("n6mq"),s=n("Vbul"),c=n("XPo3");const l={borderRadius:"24px"};function u({fullImgHeight:e,children:t,contentWidth:n,largeMainPin:r,renderAttribution:u,renderVaseTags:d,modal:p,pageType:h,pin:f,showCardShadow:g,viewportSize:m}){const y="wide"===m;let _=y?c.g+(n-c.i):c.a;return r&&e&&(_=y?2*n:c.a),i.a.createElement(a.e,{rounding:6,dangerouslySetInlineStyle:{__style:{margin:10,boxShadow:g?"":"0 1px 20px 0 rgba(0, 0, 0, 0.1)"}},"data-test-id":"UnauthBestPinCardLayoutContainer"},p,i.a.createElement(a.e,{dangerouslySetInlineStyle:{__style:l},display:"flex",direction:y?"row":"column",width:_,overflow:"hidden","data-test-id":"best-pin-card"},i.a.createElement(o.a,{unsafeCSS:"\n.imageDomainLinkHover:hover {\n  background-color: #FFF !important;\n}\n"}),i.a.createElement(a.e,{justifyContent:"center",direction:"column",width:n,display:"flex","data-test-id":"pin-closeup-image"},t),i.a.createElement(s.a,{pin:f,viewportSize:m,pageType:h,renderAttribution:u,renderVaseTags:d})))}},LTlA:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"==typeof e},t.xor=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i},t.intersection=function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))}},Lfjc:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r);const o={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;function s({id:e,type:t="application/json",value:n}){const r=JSON.stringify(n).replace(a,e=>o[e]);return i.a.createElement("script",{id:e,type:t,dangerouslySetInnerHTML:{__html:r}})}},LpQA:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("TzU/"),u=n("hMpd"),d=n("rJY1"),p=n("UevE"),h=n("cwFY"),f=n("zVay"),g=n("HriT"),m=f.List,y=f.Record,_=f.Repeat,v=f.Map,b=f.OrderedMap,w=y({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),E=h("draft_tree_data_support")?c:s,S=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getEntityMap=function(){return l},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return l.__create(e,t,n),this},s.mergeEntityData=function(e,t){return l.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return l.__replaceData(e,t),this},s.addEntity=function(e){return l.__add(e),this},s.getEntity=function(e){return l.__get(e)},s.getAllEntities=function(){return l.__getAll()},s.loadWithEntities=function(e){return l.__loadWithEntities(e)},i.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=o.createFromArray(n),a=r.isEmpty()?new u:u.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:t||l,selectionBefore:a,selectionAfter:a})},i.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=g(e),new E({key:d(),text:e,type:"unstyled",characterList:m(_(a.EMPTY,e.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(e){return new i(r({},e,{blockMap:b(e.blockMap).map(i.createContentBlockFromJS),selectionBefore:new u(e.selectionBefore),selectionAfter:new u(e.selectionAfter)}))},i.createContentBlockFromJS=function(e){var t=e.characterList;return new E(r({},e,{data:v(e.data),characterList:null!=t?m((Array.isArray(t)?t:p(t)).map((function(e){return a.fromJS(e)}))):void 0}))},i}(w);e.exports=S},M1Uz:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("pIz0"),a=n("n6mq");function s({color:e="white",duration:t=2e3,href:n,imageUrl:s,onClick:c,onHide:l,openNewPage:u,text:d,button:p}){const[h,f]=Object(r.useState)(!1),[g,m]=Object(r.useState)(!1),y=Object(r.useRef)(),_=()=>{f(!0),y.current=setTimeout(l,o.a)},v=()=>{y.current&&clearTimeout(y.current)},b=()=>{y.current=setTimeout(_,t)};Object(r.useEffect)(()=>(setTimeout(()=>m(!0),100),b(),v),[]);const w="string"==typeof d?d:`${d[0]} ${d[1]}`,E=s?i.a.createElement(a.e,{height:48,overflow:"hidden",width:48},i.a.createElement(a.v,{alt:w,fit:"cover",naturalHeight:1,naturalWidth:1,src:s})):void 0,S=i.a.createElement(a.Y,{color:e,text:d,thumbnail:E,button:p});return i.a.createElement("div",{style:Object(o.b)(g,h),onMouseEnter:v,onMouseLeave:b,"data-test-id":"toast"},n?i.a.createElement("a",{href:n,onClick:c,target:u?"_blank":null,rel:u?"noopener noreferrer":null},S):S)}},M6rc:function(e,t,n){var r=n("lFJn"),i=n("zVay").Map,o={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,o){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),d=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).concat(i([[l,a.get(l)]])).map((function(e,t){var i,a;s===l?(i=c,a=u):(i=t===s?c:0,a=t===l?u:e.getLength());for(var d,p=e.getCharacterList();i<a;)d=p.get(i),p=p.set(i,o?r.applyStyle(d,n):r.removeStyle(d,n)),i++;return e.set("characterList",p)}));return e.merge({blockMap:a.merge(d),selectionBefore:t,selectionAfter:t})}e.exports=o},MCs0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},MNxV:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("XRfM"),a=n("pLLR");const s=o.b.DateFormatType;t.b=({dateFormatType:e,useUTC:t=!0,value:n})=>i.a.createElement(a.b,null,r=>o.b.formatDate(r.locale,n,e,t))},MPKC:function(e,t,n){var r=n("fyOY"),i=n("3sOJ");e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},MbRH:function(e,t,n){e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},Mh8y:function(e,t,n){var r=n("zVay").Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},MhBu:function(e,t,n){function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return r}))},MldM:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("iE4i"),a=n("XnPw"),s=n.n(a),c=n("ovj4"),l=n("TPPM"),u=n("Ye/N"),d=n("TgLd"),p=n("kmwA"),h=n("mBfy"),f=n("vvax"),g=n("U4JR"),m=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=p.a.settings.PARTNER_CONVERT_ACCOUNT,v=p.a.settings.PARTNER_SITE_SIGNUP;class b extends r.Component{constructor(...e){super(...e),y(this,"handleLogoutAndCreateClick",e=>{Object(g.b)(101,{component:13101,element:10289}),this.logout(e)}),y(this,"logout",e=>{e.preventDefault(),e.stopPropagation(),h.default.logoutWithOptions(v,"business_logout")})}componentDidMount(){Object(g.b)(120,{component:13101})}render(){return i.a.createElement(d.b,{heading:u.a._("Get a business account","Heading for warning modal","Heading for warning modal"),onDismiss:()=>{},size:"md",footer:i.a.createElement(m.e,{display:"flex",justifyContent:"end"},i.a.createElement(m.e,{paddingX:1},i.a.createElement(m.f,{onClick:()=>{Object(g.b)(101,{component:13101,element:10287}),Object(l.a)("/")},text:u.a._("Not now","Cancel button text","Cancel button text"),inline:!0,size:"md"})),i.a.createElement(m.e,null,i.a.createElement(m.f,{color:"red",onClick:()=>{Object(g.b)(101,{component:13101,element:10288}),Object(l.a)(_)},text:u.a._("Switch to a business","link text to go to the url to convert to a business account","link text to go to the url to convert to a business account"),inline:!0,size:"md"}))),accessibilityModalLabel:u.a._("Create a new business account","Label for a modal to create a business account","Label for a modal to create a business account"),role:"alertdialog"},i.a.createElement(m.e,{padding:3},i.a.createElement(m.V,null,Object(f.b)(u.a._("You can switch to a business account or log out and {{ convertAccountLink }}"),{convertAccountLink:i.a.createElement("a",{href:"",key:"logout",role:"button",onClick:this.handleLogoutAndCreateClick},u.a._("create a new business account","link text to logout and create a business account","link text to logout and create a business account"))}))))}}var w=n("noU3"),E=n("t5Ir"),S=n("+NLT"),C=n("h4v/"),x=n("sEfC"),O=n.n(x),k=n("b7nI"),T=n("7w6Q"),I=n("F2s1"),D=(n("17x9"),n("vjiL")),P=n("eOdZ"),j=n("n0ft"),M=n("ANjH"),A=n("UDft"),L=n("znyv"),R=n("pGrQ"),F=n("r8eU"),B=n("pLLR"),z=n("EC67"),N=n("J8m7"),U=n("7M1j"),V=n("RNo4"),W=n("c50B");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K=p.a.settings.ABOUT_PRIVACY_URL,H=p.a.settings.PARTNER_SITE_TOS_URL,G=p.a.settings.EU_COUNTRIES,Y=Object(U.b)("create_business_account_singlestep."),J=e=>Y(e+"FieldFocused");class $ extends r.Component{constructor(e){super(e),q(this,"getLoginUrl",()=>{const{location:{search:e}}=this.props;if(e&&"next"in Object(V.k)(e))return Object(c.a)("/business/login",{next:Object(V.k)(e).next});const t=this.inAdCreditsCampaign()?Object(V.b)("/business/create/",{utm_medium:"adcredits"}):"/business/create/";return Object(c.a)("/business/login",{next:t})}),q(this,"handleFieldChange",(e,t)=>{let n;n=t.nativeEvent?t.nativeEvent.target.value:t.value?t.value:t,this.setState({[e]:n}),this.state.clickedSubmit&&this.validateField(e,n)}),q(this,"validateField",O()((e,t)=>{const n=this.validators[e],r=Object(W.r)(n,t);this.setState({errors:{...this.state.errors,[e]:r}})},U.a)),q(this,"hasValidationErrors",e=>{const t=Object(W.r)(this.validators[e],this.state[e]);return t.length>0&&(this.setState({errors:{...this.state.errors,[e]:t}}),!0)}),q(this,"validateForm",()=>!(this.hasValidationErrors("email")||this.hasValidationErrors("password")||this.hasValidationErrors("age"))),q(this,"handleFormSubmission",e=>{e&&e.preventDefault&&e.preventDefault(),Y("submit_clicked"),this.setState({isSubmittingForm:!0});const{age:t,email:n,password:r}=this.state,{isAuth:i,unifiedSignup:o,location:{search:a}}=this.props,s=Object(V.k)(a)||{},d=n.split("@")[0],p=this.validateForm();if(this.setState({clickedSubmit:!0}),Object(g.b)(101,{component:13097,element:10283,successful_frontend_validation:p,in_unified_modal:o}),p){P.a.create("EmailExistsResource",{email:n}).callGet({showError:!1}).then(e=>{if(e.resource_response.data)this.setState({errors:{...this.state.errors,email:[u.a._("Deja vu! That email's taken.","User entered an email that is already taken","User entered an email that is already taken")]},isSubmittingForm:!1}),Object(g.b)(7488);else{const e="utm_source"in s&&"shopify"===s.utm_source,a=Object(U.c)({age:t,businessName:d,email:n,password:r,hasAdsCredits:this.inAdCreditsCampaign(),third_party_apps:e?[0]:null}),{country:p}=S.a.instance;Object(L.c)("client.partner.account.create_attempt",{source:{utmPartner:s.utm_partner,utmSource:s.utm_source,utmMedium:s.utm_medium},isAuth:i,unifiedSignup:o,country:p}),Object(D.a)(a).then(e=>{Y("signup_success"),Object(L.c)("client.partner.account.create",{source:{utmPartner:s.utm_partner,utmSource:s.utm_source,utmMedium:s.utm_medium},isAuth:i,unifiedSignup:o,country:p});const t=s&&"next"in s?s.next:null;w.a.reportFacebookConversion(E.a.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),w.a.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),w.a.reportLinkedInConversion(E.a.LINKEDIN_PARTNER_ID,E.a.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),w.a.reportGoogleConversion(E.a.GOOGLE_ADWORDS_ID,E.a.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,t?void 0:"/"),t&&Object(l.a)(Object(c.a)("/",{next:t}))},e=>{const t={errors:this.state.errors,isSubmittingForm:!1};e.api_error_code===N.c?t.errors.age=[u.a._("Sorry, you can't sign up yet. You’re not old enough to use Pinterest yet.","Error message when under age user trying to register","Error message when under age user trying to register")]:e.api_error_code===N.d&&(t.errors.email=[e.message]),this.setState(t)})}},e=>{this.setState({errors:{...this.state.errors,email:[u.a._("Add a valid email","Prompt user to input a valid email","Prompt user to input a valid email")]},isSubmittingForm:!1})})}else this.setState({isSubmittingForm:!1})}),q(this,"inAdCreditsCampaign",()=>{const{location:e}=this.props;return Object(A.b)(e)}),q(this,"getTitleText",()=>this.props.title?this.props.title:u.a._("Grow your business","Desktop business signup heading","Desktop business signup heading")),q(this,"getSubtitleText",()=>this.props.subtitle?this.props.subtitle:this.inAdCreditsCampaign()?Object(f.b)(u.a._("Reach more of the {{ mauText }} people looking for inspiration on Pinterest each month","Desktop business signup subheading for ad credits. MAU_TEXT is a string of xxx million","Desktop business signup subheading for ad credits. MAU_TEXT is a string of xxx million"),{mauText:i.a.createElement(I.a,null)}):Object(f.b)(u.a._("Get in front of {{ mauText }} people looking to buy, make, and do.","Desktop business signup subheading. MAU_TEXT is a string of xxx million","Desktop business signup subheading. MAU_TEXT is a string of xxx million"),{mauText:i.a.createElement(I.a,null)})),this.state={age:"",businessName:"",businessImages:{background:s.a},clickedSubmit:!1,email:"",password:"",errors:{age:[],businessName:[],email:[],password:[]},showWarningModal:e.isAuth,isSubmittingForm:!1},this.validators={email:[Object(W.o)({message:u.a._("You missed a spot! Don't forget to add your email.","Prompt user to input email on error","Prompt user to input email on error")}),Object(W.e)({message:u.a._("Hmm... that doesn't look like an email address.","Prompt user to input a valid email","Prompt user to input a valid email")})],password:[Object(W.o)({message:u.a._("Your password is too short! You need 6+ characters.","Prompt user to input password on error","Prompt user to input password on error")}),Object(W.b)({message:u.a._("Passwords can only include alphabet letters, numbers, and common punctuation characters.","Only ASCII characters are allowed for password","Only ASCII characters are allowed for password")}),Object(R.a)({shortPassStr:u.a._("Your password is too short! You need 6+ characters.","Password must be at least 6 characters","Password must be at least 6 characters"),samePasswordStr:u.a._("Please make your username and password different.","Password and username cannot be the same, user must choose a new password","Password and username cannot be the same, user must choose a new password"),blackPassStr:u.a._("Please make a stronger password.","Password is too simple","Password is too simple")})],businessName:[Object(W.o)({message:u.a._("You missed a spot! Don't forget to add your business name.","Prompt user to input business name on error","Prompt user to input business name on error")})],age:[Object(W.o)({message:u.a._("You missed a spot! Don't forget to add your age.","Prompt user to input age on error","Prompt user to input age on error")})]},this.title=u.a._("Welcome to Pinterest, the world's catalog of ideas.","invisible alt text for business account creation page audienceHalfImage","invisible alt text for business account creation page audienceHalfImage")}componentDidMount(){Y("loaded"),w.a.insertGoogleAdWordsTag(E.a.GOOGLE_ADWORDS_ID),w.a.insertFacebookPixelTag(E.a.FACEBOOK_ADVERTISER_ID),w.a.insertTwitterUniversalTag(E.a.TWITTER_UNIVERSAL_TAG_ID),w.a.insertLinkedInInsightTag(E.a.LINKEDIN_PARTNER_ID),w.a.insertPinterestTag(E.a.SMB_PAID_PINTEREST_ID);const e=C.a.getInstance();if(!e.getViewFromContext().view_type){const t={view_type:156,view_parameter:3129};e.addViewToContext(t)}Object(g.b)(120,{component:13097,in_unified_modal:this.props.unifiedSignup}),T.a.increment("partner.business_account_create.visit",1,{platform:"web"})}renderForm(){const{age:e,email:t,errors:n,password:r,isSubmittingForm:a}=this.state,{unifiedSignup:s,requestContext:c}=this.props,d=this.inAdCreditsCampaign(),p=new F.b(c,"smb_login_copy_change").enabled();return i.a.createElement("form",{method:"POST",noValidate:!0,onSubmit:this.handleFormSubmission},i.a.createElement(m.e,null,i.a.createElement(m.e,{paddingY:1,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:3}}},i.a.createElement(j.b,{id:"email",name:"email",type:"email",onChange:e=>{this.handleFieldChange("email",e)},onFocus:()=>J("email"),value:t,placeholder:u.a._("Email","Placeholder text for email field","Placeholder text for email field"),useExperimentalTextfield:s,useGestalt:!0,tooltip:n.email.length>0?n.email[0]:null,hasError:n.email.length>0})),i.a.createElement(m.e,{paddingY:1,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:2}}},i.a.createElement(j.b,{id:"password",name:"password",type:"password",onChange:e=>{this.handleFieldChange("password",e)},onFocus:()=>J("password"),value:r,placeholder:s?u.a._("Create a password","Placeholder text for password field","Placeholder text for password field"):u.a._("Password","Placeholder text for password field","Placeholder text for password field"),useExperimentalTextfield:s,useGestalt:!0,tooltip:n.password.length>0?n.password[0]:null,hasError:n.password.length>0})),i.a.createElement(m.e,{paddingY:1,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:2}}},i.a.createElement(j.b,{id:"age",name:"age",accessibilityLabel:"age",autoComplete:"off",hasError:n.age.length>0,onChange:e=>{this.handleFieldChange("age",e)},placeholder:u.a._("Age"),tooltip:n.age.length>0?n.age[0]:null,type:"text",value:e,useGestalt:!0,helperText:G.indexOf(c.country)>0&&u.a._("Your jurisdiction requires a minimum age of consent","business.signup.age.helper_text","Business signup page helper text for age input field")})),i.a.createElement(m.e,{paddingY:1},i.a.createElement(m.f,{color:"red",disabled:a,onClick:this.handleFormSubmission,type:"submit",text:u.a._("Create account","Button text for creating a business account","Button text for creating a business account"),size:"md"})),i.a.createElement(m.e,{paddingY:1},i.a.createElement(m.f,{size:"md",onClick:()=>Object(l.a)(this.getLoginUrl()),text:p?u.a._("Log into existing account","business.signup.loginCopyExp","Copy for business sign up page"):u.a._("Log in","Label for log in button","Label for log in button")})),i.a.createElement(m.e,{paddingY:1},i.a.createElement(m.V,{size:"sm",align:d?"left":"center",overflow:"normal"},Object(f.b)(u.a._("Creating an account means you’re okay with Pinterest’s {{ termsLink }} and {{ privacyLink }}.","Notice that proceeding indicates acceptance of term and policy","Notice that proceeding indicates acceptance of term and policy"),{termsLink:i.a.createElement("span",{"data-test-id":"business-tos"},i.a.createElement(m.z,{href:H,target:"blank",key:0,inline:!0},u.a._("Business Terms of Service","Link to Terms of Service","Link to Terms of Service"))),privacyLink:i.a.createElement("span",{"data-test-id":"privacy"},i.a.createElement(m.z,{href:K,target:"blank",key:1,inline:!0},u.a._("Privacy Policy","Link to Pinterest Privacy Policy","Link to Pinterest Privacy Policy")))})),this.inAdCreditsCampaign()&&i.a.createElement(m.V,{size:"sm",align:"left",overflow:"normal"},o.a))))}renderLoadingMask(){const{isSubmittingForm:e}=this.state;return e?i.a.createElement(k.a,null):null}render(){const{unifiedSignup:e}=this.props,{businessImages:t,showWarningModal:n}=this.state,r=t.background;return n?i.a.createElement(m.e,null,i.a.createElement(m.e,{position:"fixed",top:!0,left:!0,bottom:!0,right:!0},i.a.createElement(m.v,{alt:this.title,color:"white",naturalHeight:763,naturalWidth:1354,src:r,fit:"cover"})),i.a.createElement(m.e,null,i.a.createElement(b,null))):e?i.a.createElement(m.e,{display:"flex",alignItems:"center",justifyContent:"center"},this.renderLoadingMask(),i.a.createElement(m.e,{width:268,color:"white"},this.renderForm())):i.a.createElement(m.e,null,i.a.createElement(m.e,{position:"fixed",top:!0,left:!0,bottom:!0,right:!0},i.a.createElement(m.v,{alt:this.title,color:"white",naturalHeight:763,naturalWidth:1354,src:r,fit:"cover"})),i.a.createElement(m.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",overflow:"scroll",minHeight:600},i.a.createElement(m.e,{"data-test-id":"businessAccountCreateContainer",width:"100%"},i.a.createElement(m.n,null,i.a.createElement(m.e,{mdDisplay:"flex"},i.a.createElement(m.l,{span:0,mdSpan:3}),i.a.createElement(m.l,{span:12,mdSpan:6},i.a.createElement(m.A,{rounding:2},i.a.createElement(m.e,{display:"flex",alignItems:this.inAdCreditsCampaign()?"start":"center",minHeight:500,color:"white",position:"relative"},this.renderLoadingMask(),i.a.createElement(m.e,{paddingX:10,color:"white",paddingY:8},i.a.createElement(m.e,{justifyContent:"center",alignItems:"center",marginBottom:5,display:"flex"},i.a.createElement(m.t,{accessibilityLabel:"Pinterest Logo",color:"red",icon:"pinterest",size:40})),i.a.createElement(m.e,{marginBottom:2,"data-test-id":"businessAccountCreateTitle"},i.a.createElement(m.s,{size:"md",align:"center"},this.getTitleText())),i.a.createElement(m.e,{marginBottom:3},i.a.createElement(m.V,{align:"center",size:"md"},this.getSubtitleText())),this.renderForm())))),i.a.createElement(m.l,{span:0,mdSpan:3}))))))}}t.a=Object(M.compose)(B.e,z.k)($)},MxAa:function(e,t,n){e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},N1c7:function(e,t,n){e.exports=n("j+6V")()},"N4T/":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)},t.areArraysEqual=function(e,n,r){if(void 0===r&&(r=t.strictEquality),e.length!==n.length)return!1;for(var i=0;i<e.length;++i)if(!r(e[i],n[i]))return!1;return!0}},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NFjV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=r},NQV1:function(e,t,n){var r={isImage:function(e){return"image"===i(e)[0]},isJpeg:function(e){var t=i(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function i(e){return e.split("/")}e.exports=r},Naaj:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n("y2Ga");function o({constraint:e}){const t=Object(i.c)();return Object(r.useEffect)(()=>{t&&t.markConstraintComplete(e)},[null==t?void 0:t.id,e]),null}},Nehr:function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},NgHg:function(e,t,n){var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},Nle8:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("ajUs"),i=n("zpPL");function o(e,t){const n=i.a.instance;let o;if(n){const i=n.getState();if(i.pins&&e){const n=i.pins[e],a=i.location;if(null==t?void 0:t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(o=t?e[t]:e.PinResource)}else n&&(o=Object(r.a)(n,a))}}return o}},NwVv:function(e,t,n){var r=n("ipvL"),i=n("bBqG");t.a=(e,t,n)=>{const o=r.a.getAccountsJSON();o[e.id]=(e=>{const t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||Object(i.a)("utils.incomplete_user_values"),e.partner&&e.partner.is_create?{...t,partner:{is_create:e.partner.is_create}}:t})(e),r.a.setAccounts(JSON.stringify(o)),t&&n&&Object(i.a)("new_account_add_success",{method:t,user_added:e.id},n)}},"Nx4+":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("AKPT"),a=n("gWRK"),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var l=s.tryToRemoveBlockStyle(e);return l?i.push(e,l,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),a=n.getBlockForKey(o).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?i.push(e,l,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=c.getDepth();if(!e.shiftKey&&u===n)return t;var d=o(s,r,e.shiftKey?-1:1,n);return i.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),l=n;if(o!==s&&0===n.getEndOffset()){var u=a(c.getBlockBefore(s));s=u.getKey(),l=l.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var d=c.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,l,d),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var a,s=e.getCurrentContent();return a=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},"O1y+":function(e,t,n){var r=n("pOug");const i=Object(r.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=i},O4zn:function(e,t,n){var r=n("m75S"),i=n("FcOR"),o=n("CYTE"),a=n("TWoB"),s=n("jl2H"),c=n("F09w"),l=n("2NuI"),u=n("GyOf"),d=o.isBrowser("IE");function p(e,t){if(!e)return"[empty]";var n=h(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(u(n)||l(!1),n.outerHTML)}function h(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return c(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,a=0;a<o.length;a++)i.appendChild(h(o[a],t));return i}function f(e,t){for(var n=e,r=n;n;){if(u(n)&&r.hasAttribute("contenteditable"))return p(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function g(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function m(e,t,n,r){var o=s();if(e.extend&&null!=t&&a(o,t)){n>g(t)&&i.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(u){throw i.logSelectionStateFailure({anonymizedDom:f(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:u?""+u:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),u}}else if(t&&e.rangeCount>0){var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function y(e,t,n,o){var a=c(t).createRange();if(n>g(t)&&(i.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),d)try{e.addRange(a)}catch(s){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=c(t);if(a(o.documentElement,t)){var s=o.defaultView.getSelection(),l=e.getAnchorKey(),u=e.getAnchorOffset(),d=e.getFocusKey(),p=e.getFocusOffset(),h=e.getIsBackward();if(!s.extend&&h){var f=l,g=u;l=d,u=p,d=f,p=g,h=!1}var _=l===n&&r<=u&&i>=u,v=d===n&&r<=p&&i>=p;if(_&&v)return s.removeAllRanges(),y(s,t,u-r,e),void m(s,t,p-r,e);if(h){if(v&&(s.removeAllRanges(),y(s,t,p-r,e)),_){var b=s.focusNode,w=s.focusOffset;s.removeAllRanges(),y(s,t,u-r,e),m(s,b,w,e)}}else _&&(s.removeAllRanges(),y(s,t,u-r,e)),v&&m(s,t,p-r,e)}},addFocusToSelection:m}},OCob:function(e,t,n){var r=n("+NLT");t.a=()=>({referrer:r.a.instance.referrer,facebookToken:r.a.instance.facebook_token,unauthId:r.a.instance.unauth_id,origin:r.a.instance.origin,appType:r.a.instance.app_type})},OI9p:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("eOdZ");function i({commentId:e,tags:t,text:n}){return i=>r.a.create("AggregatedCommentResource",{commentId:e,tags:t,text:n}).callUpdate({showError:!1}).then(r=>{const{tagged_users:o}=r.resource_response.data,a=o.map(e=>Object.assign({},e));i({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:e,tagged_users:a,tags:JSON.parse(t),text:n}}})})}function o({aggregatedCommentId:e,isLikedByMe:t}){return n=>{const i=r.a.create("AggregatedCommentLikeResource",{aggregatedCommentId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:e,reaction_by_me:t?0:1}}})}}function a({aggregatedCommentId:e,isMarkedHelpfulByMe:t}){return n=>{const i=r.a.create("HelpfulResource",{helpfulModelType:1,objectId:e});return t?i.callDelete({showError:!1}):i.callCreate({showError:!1}),n({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:e,marked_helpful_by_me:!t}}})}}},OLzA:function(e,t,n){e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},ONNR:function(e,t,n){n.r(t),n.d(t,"getCLS",(function(){return f})),n.d(t,"getFCP",(function(){return v})),n.d(t,"getFID",(function(){return O})),n.d(t,"getLCP",(function(){return k})),n.d(t,"getTTFB",(function(){return T}));var r,i,o,a,s=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},l=!1,u=function(e,t){l||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),l=!0),addEventListener("visibilitychange",(function n(r){"hidden"===document.visibilityState&&(e(r),t&&removeEventListener("visibilitychange",n,!0))}),!0)},d=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},p=new WeakSet,h=function(e,t,n){var r;return function(){t.value>=0&&(n||p.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},f=function(e,t){var n,r=s("CLS",0),i=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},o=c("layout-shift",i);o&&(n=h(e,r,t),u((function(){o.takeRecords().map(i),n()})),d((function(){r=s("CLS",0),n=h(e,r,t)})))},g=-1,m=function(){return"hidden"===document.visibilityState?0:1/0},y=function(){u((function(e){var t=e.timeStamp;g=t}),!0)},_=function(){return g<0&&(g=m(),y(),d((function(){setTimeout((function(){g=m(),y()}),0)}))),{get timeStamp(){return g}}},v=function(e,t){var n,r=_(),i=s("FCP"),o=c("paint",(function(e){"first-contentful-paint"===e.name&&(o&&o.disconnect(),e.startTime<r.timeStamp&&(i.value=e.startTime,i.entries.push(e),p.add(i),n()))}));o&&(n=h(e,i,t),d((function(r){i=s("FCP"),n=h(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,p.add(i),n()}))}))})))},b={passive:!0,capture:!0},w=new Date,E=function(e,t){r||(r=t,i=e,o=new Date,x(removeEventListener),S())},S=function(){if(i>=0&&i<o-w){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};a.map((function(t){t(e)})),a=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){E(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,b),removeEventListener("pointercancel",r,b)};addEventListener("pointerup",n,b),addEventListener("pointercancel",r,b)}(t,e):E(t,e)}},x=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,C,b)}))},O=function(e,t){var n,o=_(),l=s("FID"),f=function(e){e.startTime<o.timeStamp&&(l.value=e.processingStart-e.startTime,l.entries.push(e),p.add(l),n())},g=c("first-input",f);n=h(e,l,t),g&&u((function(){g.takeRecords().map(f),g.disconnect()}),!0),g&&d((function(){var o;l=s("FID"),n=h(e,l,t),a=[],i=-1,r=null,x(addEventListener),o=f,a.push(o),S()}))},k=function(e,t){var n,r=_(),i=s("LCP"),o=function(e){var t=e.startTime;t<r.timeStamp&&(i.value=t,i.entries.push(e)),n()},a=c("largest-contentful-paint",o);if(a){n=h(e,i,t);var l=function(){p.has(i)||(a.takeRecords().map(o),a.disconnect(),p.add(i),n())};["keydown","click"].map((function(e){addEventListener(e,l,{once:!0,capture:!0})})),u(l,!0),d((function(r){i=s("LCP"),n=h(e,i,t),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,p.add(i),n()}))}))}))}},T=function(e){var t,n=s("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)}},OSge:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));const r="0.8.0",i=9/16;function o(e,t=1){return{x:e/5,y:e*(t-1)}}const a={HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",MENTION_STICKER:"story_pin_mention_sticker_block"},s={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},c={...s,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},P0Nc:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("OSge");const i=(e,t)=>{const n=Object(r.e)(e,t);return`${n.y}px ${n.x}px`},o=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},a=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:r,lineHeight:o,name:a})=>({fontSize:e,letterSpacing:r,color:t,fontFamily:a,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:i(e,o)}:{}}),s=({fontSize:e,hasText:t,highlightColor:n,lineHeight:r})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:i(e,r)}:{}}),c=({letterSpacing:e,lineHeight:t,name:n,url:r})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:r}]})},P1kZ:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"@"===e?"mention":e+"mention"}},P9b8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("SFi7");t.DragDropContext=r.DragDropContext,t.DragDropContextProvider=r.DragDropContextProvider,t.DragDropContextConsumer=r.Consumer;var i=n("QNmZ");t.DragLayer=i.default;var o=n("9EBm");t.DragSource=o.default;var a=n("tvWU");t.DropTarget=a.default;var s=n("fpRd");t.DragPreviewImage=s.default;var c=n("sGxw");t.useDrag=c.useDrag,t.useDragLayer=c.useDragLayer,t.useDrop=c.useDrop},PFU8:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("rJY1"),a=n("2NuI"),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=s(e),a=e.depth||0,c=r({},e,{children:[]});if(i){var l=n[0];if(null==l&&0===a)t.push(c);else if(null==l||l.depth<a-1){var u={key:o(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(u),1===a?t.push(u):null!=l&&l.children.push(u),u.children.push(c)}else if(l.depth===a-1)l.children.push(c);else{for(;null!=l&&l.depth>=a;)n.shift(),l=n[0];a>0?l.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},PQhE:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("8uQm"),o=n("JL7T"),a=n("1qq2"),s=n("rJY1"),c=n("xocI"),l=n("cwFY"),u=n("zVay"),d=n("HriT"),p=u.List,h=u.Repeat,f=l("draft_tree_data_support"),g=f?o:i,m={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,i,o){i=d(i);var a=s(),c={key:a,type:n,text:i,characterList:p(h(t,i.length))};if(f&&0!==o){var l=o-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[l]=e[l].merge({nextSibling:a})).getKey()})}return e.push(new g(c)),e}),[])}};e.exports=m},PRGv:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},PioT:function(e,t,n){var r=n("+NLT"),i=n("3Qy3");n.d(t,"a",(function(){return i.a}));const o={getBrowser:()=>Object(i.b)(r.a.instance.browser_name||""),isSafari(){return this.getBrowser()===i.a.SAFARI},isChrome(){return this.getBrowser()===i.a.CHROME},isFirefox(){return this.getBrowser()===i.a.FIREFOX}};t.b=o},PnD8:function(e,t,n){e.exports=n("6uti")},PzSa:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("NwVv"),a=n("UPpV"),s=n("+7em"),c=n("37no"),l=n("HRg/"),u=n("sv3x"),d=n("kmwA"),p=n("Ilos"),h=n("jZTy"),f=n("7w6Q"),g=n("0G5S"),m=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _="google_auth_id_token",v="google_auth_first_name";class b extends r.Component{constructor(...e){super(...e),y(this,"state",{googleSignWebviewSource:"undefined"!=typeof window?window.location.origin+"/connect/gplus/":""}),y(this,"handleMsWebViewScriptNotify",e=>{if("success"===e.value){const{onDismiss:e,onSignInCallback:t}=this.props,n=Object(g.a)(_),r=Object(g.a)(v);Object(g.b)(_),Object(g.b)(v),f.a.increment("windows.google.connect.handleMsWebViewScriptNotify.success"),t({access_token:"",code:"",expires_at:"",id_token:n,status:{signed_in:!0},first_name:r},window.gapi),e()}else"failure"===e.value&&(f.a.increment("windows.google.connect.handleMsWebViewScriptNotify.failure"),this.props.onError())}),y(this,"msWebViewRef",e=>{e&&e.addEventListener("MSWebViewScriptNotify",this.handleMsWebViewScriptNotify)})}render(){const{accessibilityLabel:e,onDismiss:t}=this.props,{googleSignWebviewSource:n}=this.state;return i.a.createElement(m.e,{color:"white",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1}},direction:"column",display:"flex",height:"800px",padding:1,position:"fixed",rounding:2,width:"500px"},i.a.createElement(m.e,{alignItems:"end",display:"flex",height:"35px",justifyContent:"end"},i.a.createElement(m.u,{accessibilityLabel:e,onClick:t,icon:"cancel"})),i.a.createElement(m.e,{flex:"grow"},i.a.createElement("x-ms-webview",{style:{height:"100%",width:"100%"},ref:this.msWebViewRef,src:n})))}}var w=b,E=n("4NNh"),S=n("J6c4"),C=n("E+YF"),x=n("28DW"),O=n("yweb"),k=n("Zswh"),T=n("4NbJ"),I=n("J8m7"),D=n("VL22"),P=n("AWyA"),j=n("QAzJ"),M=n("pLLR"),A=n("fgHc");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=()=>"undefined"!=typeof window&&void 0!==window.Windows;class F extends r.Component{constructor(...e){super(...e),L(this,"state",{showGoogleSigninWebview:!1}),L(this,"buttonRef",Object(r.createRef)()),L(this,"inGSIButtonExp",()=>["enabled_fallback","enabled_no_fallback"].includes(this.props.gsiButtonExpGroup)),L(this,"onSignInCallback",(e,t)=>{const n={gplus_id_token:e.id_token,gplus_access_token:e.access_token,gplus_expires_at:e.expires_at};if(e.status.signed_in)Object(x.a)("unauth_web.google_connect.manual.success"),this.login(n).then((e={})=>{this.onLoginSuccess(e)},t=>{this.onLoginFailure(n,t,this.registerGplusUser.bind(this,e))});else{const t=e?e.error:"unknown";Object(x.a)("unauth_web.google_connect.failure."+String(t))}}),L(this,"onLoginFailure",(e,t,n)=>{const{i18n:r}=this.props;if(t.api_error_code===I.u)this.props.onLoginWithVoluntarilyDeactivated&&this.props.onLoginWithVoluntarilyDeactivated(t);else if(t.api_error_code===I.r)this.props.onLoginWithMfa&&this.props.onLoginWithMfa(e,t.data);else if(t.api_error_code===I.t){if(this.props.preventRegister)return void this.props.preventRegister("google");n()}else t&&t.api_error_code&&(this.inGSIButtonExp()?this.logGSIButton("failed_login."+t.api_error_code):Object(x.a)("google_connect_button.failed_login."+t.api_error_code)),t.api_error_code===I.v&&this.props.onLoginWithSuspended?this.props.onLoginWithSuspended():Object(C.a)(r._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc.","error message when user failed to login caused by suspend/deactivated etc."))}),L(this,"onLoginSuccess",e=>{const{isAccountSwitch:t,showResponseMessageModal:n}=this.props;if(t&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){const t=e.resource_response.data.user;Object(o.a)(t,"google",this.props.container)}n?n(!1):u.b.handleRedirect(this.props.nextUrlParam||window.location.pathname)}),L(this,"shouldRequireAge",()=>{const{requestContext:{country:e}}=this.props;return Object(D.d)(e)||Object(D.c)(e)}),L(this,"handleGoogleConnectButtonClick",()=>{const{i18n:e}=this.props;Object(x.e)("press_google_login"),Object(x.a)("unauth_web.google_connect.manual.attempt"),Object(T.e)().then(()=>{const t=window.gapi;Object(T.c)(e=>Object(x.a)("unauth_web.google_connect.manual.init."+e)).then(e=>{R()&&this.setState({showGoogleSigninWebview:!0}),Object(x.a)("unauth_web.google_connect.manual.init"),e.signIn({scope:T.b}).then(e=>{Object(x.a)("unauth_web.google_connect.manual.success");const n={...e.getAuthResponse(),code:"",status:{signed_in:!0}};this.onSignInCallback(n,t)},({error:e})=>{Object(x.a)("unauth_web.google_connect.manual.failure."+String(e))})},e=>{Object(x.a)("unauth_web.google_connect.error.auth2_sdk_init_error")}).catch(t=>{Object(x.a)("unauth_web.gapi_auth2_load.error."+(t||"unknown")),Object(C.a)(e._("Sorry, you need to select an account if you want to log in with Google.","error message when user failed to login/signup because they did not complete the Google step.","error message when user failed to login/signup because they did not complete the Google step."))})})}),L(this,"handleOnDimisssWindowsPWAWebview",()=>{this.setState({showGoogleSigninWebview:!1})}),L(this,"handleOnErrorWindowsPWAWebview",()=>{const{i18n:e}=this.props;this.setState({showGoogleSigninWebview:!1}),Object(C.a)(e._("Sorry, there was an error signing in with Google.","error message when user failed to login/signup using Google sign-in.","error message when user failed to login/signup using Google sign-in."))}),L(this,"handleSignupSuccess",()=>{const{disablePostSignupNextUrl:e,nextUrlParam:t,showResponseMessageModal:n}=this.props;this.contextLogSignupLoginEvent(7487),n?n(!0):u.b.handleSignupRedirect(t,e)}),L(this,"handleSignupFailure",()=>{this.contextLogSignupLoginEvent(7488)}),L(this,"personalizedButtonRefCallback",e=>{s.a.initButtonRefWithDefaultWidth(e,280)})}componentDidMount(){const{desktopCoreLoginContext:{viewer:e},gsiButtonReduxDisabled:t}=this.props;"undefined"!=typeof window&&(window.googleOnSignInCallbacks?window.googleOnSignInCallbacks.push(this.onSignInCallback):window.googleOnSignInCallbacks=[this.onSignInCallback]),this.readyForConnect=!1,this.autoLogin=!1,window.googleConnectButtonContainer=this.props.container?this.props.container:"",this.inGSIButtonExp()&&("UNAUTH"!==e.type?this.initializeAndRenderGSIButton():t||this.renderGSIButton())}getGoogleId(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.id}initializeAndRenderGSIButton(){Object(c.b)("https://accounts.google.com/gsi/client").then(()=>{if("undefined"==typeof window)return;const e=this.getGoogleId();e&&(e.initialize({client_id:d.a.settings.GPLUS_CLIENT_ID,callback:this.handleCredentialResponse.bind(this),cancel_on_tap_outside:!1,context:"use"}),this.renderGSIButton())})}renderGSIButton(){if("undefined"==typeof window)return;const e=this.getGoogleId();e?e.renderButton(this.buttonRef.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:"280px"}):this.logGSIButton("not_initialized")}componentDidUpdate(){const{googleOneTapInitialized:e,gsiButtonReduxDisabled:t}=this.props;this.inGSIButtonExp()&&!t&&e&&this.renderGSIButton()}shouldComponentUpdate(e){const{googleOneTapInitialized:t,tooltip:n}=this.props;if(this.inGSIButtonExp()){return n!==e.tooltip||!t&&!!e.googleOneTapInitialized}return!0}logGSIButton(e){Object(x.a)("unauth_web.gsi_button."+e)}handleCredentialResponse(e){if(e){this.logGSIButton("btn_credential_received"),Object(x.a)("unauth.google_one_tap.success");const t={google_open_id_token:e.credential};this.login(t).then(e=>{this.onLoginSuccess(e)},n=>{this.onLoginFailure(t,n,this.registerUserByOpenId.bind(this,e.credential))})}else this.logGSIButton("empty_response");this.contextLogSignupLoginEvent(7534)}registerUserByOpenId(e){if(e){const t=Object(E.b)(e),n={google_open_id_token:e,first_name:t.given_name,last_name:t.family_name,image_url:t.picture};this.registerUser(n)}}componentWillUnmount(){if("undefined"!=typeof window&&window.googleOnSignInCallbacks){const e=window.googleOnSignInCallbacks.indexOf(this.onSignInCallback);e>=0&&window.googleOnSignInCallbacks.splice(e,1)}delete window.googleConnectButtonContainer}registerGplusUser(e){if(e){const t={gplus_code:e.code,gplus_id_token:e.id_token,gplus_redirect_uri:T.a,...void 0!==e.first_name?{gplus_first_name:e.first_name}:{}};this.registerUser(t)}}registerUser(e){const{desktopCoreLoginContext:{register:t},onSocialConnectVerified:n,pageContext:r}=this.props,i={container:window.googleConnectButtonContainer,hybridTier:null==r?void 0:r.hybridTier,page:null==r?void 0:r.pageType};n&&this.shouldRequireAge()?n(D.a.GOOGLE,{},{...e,...i}):t({...e,...i,recapToken:null}).then(this.handleSignupSuccess,this.handleSignupFailure)}contextLogSignupLoginEvent(e){const{desktopCoreLoginContext:{viewer:t},logContextEvent:n}=this.props;n({event_type:e,aux_data:{...Object(h.a)(t.type),signup_login_method:3}})}login(e){const{desktopCoreLoginContext:{getLoginContext:t},isAccountSwitch:n,pageContext:r}=this.props,i={container:window.googleConnectButtonContainer,hybridTier:null==r?void 0:r.hybridTier,page:null==r?void 0:r.pageType};return Object(l.a)(e,t(),i,n)}logo(e){return i.a.createElement("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),i.a.createElement("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),i.a.createElement("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),i.a.createElement("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),i.a.createElement("path",{d:"M20 20h472v472H20V20z"})))}renderGplusButton(e){const{requestContext:{isRTL:t},i18n:n}=this.props,{showGoogleSigninWebview:r}=this.state,o=n._("Continue with Google");return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.b,{id:"googleConnectButton",className:"GoogleConnectButton",onClick:this.handleGoogleConnectButtonClick,styleOverrides:{border:e?"1px solid #dadce0":"0px solid",padding:"1px",marginRight:"0px",textAlign:"left",backgroundClip:"padding-box",display:"block",transition:"opacity .2s linear",position:"relative",outline:"none",width:"100%",marginTop:"0px",backgroundColor:e?"#FFF":"#EFEFEF",height:"40px",borderRadius:"20px"},type:"button"},i.a.createElement("div",{style:{borderRadius:"2px",backgroundColor:"transparent",display:"inline-block",height:"24px",marginLeft:"7px",textAlign:"center",width:"24px"}},i.a.createElement("div",{style:{position:"relative",margin:"auto",marginTop:"2px"}},this.logo(20))),i.a.createElement("span",{style:{color:"#333333",display:"inline-block",fontFamily:S.b,position:t?void 0:"absolute",textAlign:"center",top:"50%",fontSize:e?"14px":"16px",fontWeight:e?"normal":void 0,transform:t?void 0:"translateY(-50%) translateX(-37px)",verticalAlign:"top",WebkitFontSmoothing:"auto",width:t?"80%":"100%",paddingLeft:"4px"}},o)),r&&R()&&i.a.createElement(w,{accessibilityLabel:n._("Cancel Google Sign-In","Accessibility label for Google Sign-In Dialog bog","Accessibility label for Google Sign-In Dialog bog"),onDismiss:this.handleOnDimisssWindowsPWAWebview,onError:this.handleOnErrorWindowsPWAWebview,onSignInCallback:this.onSignInCallback}))}render(){const{gsiButtonExpGroup:e,tooltip:t,gsiButtonReduxDisabled:n}=this.props,r=!e||["control","enabled_fallback"].includes(e);return i.a.createElement("div",{style:{position:"relative"},"data-test-id":"google-connect-button"},r?this.renderGplusButton("enabled_fallback"===e):null,e.startsWith("enabled")?i.a.createElement("div",{ref:n?this.personalizedButtonRefCallback:this.buttonRef,style:r?{position:"absolute",top:"0px",left:"0px",width:"100%"}:null}):null,!!t&&i.a.createElement("div",{style:{top:"12px",left:"100%",position:"absolute"}},i.a.createElement(p.b,{message:t})))}}t.a=e=>{const t=Object(P.d)(),n=Object(k.a)(),r=Object(M.d)(),o=Object(A.b)(),a=Object(O.b)(),{group:s,anyEnabled:c}=Object(j.c)("web_unauth_gsi_button"),{isAuthenticated:l}=r,{anyEnabled:u,customActivate:d}=Object(j.b)("web_unauth_gsi_button_no_redux");return!l&&c&&d&&d(),i.a.createElement(F,Object.assign({},e,{desktopCoreLoginContext:t,googleOneTapInitialized:!!t.googleOneTapInitialized,gsiButtonExpGroup:s,gsiButtonReduxDisabled:u,i18n:a,logContextEvent:n,pageContext:o,requestContext:r}))}},"Q2/A":function(e,t,n){t.a=(e,t,n)=>t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")},"Q7+p":function(e,t,n){n.d(t,"a",(function(){return u}));var r=n("MhBu"),i=n("eOdZ"),o=n("he3k"),a=n("KFEb"),s=n("prCw"),c=n("tiNQ"),l=n("BJm1");function u({aggregatedCommentId:e,aggregatedPinId:t,feedType:n,parentId:u,type:d,updateParentCommentCount:p}){return async h=>{const f=await i.a.create("AggregatedCommentResource",{commentId:e,pinId:o.c.TOP===d?u:null}).callDelete({showError:!1});return h(Object(r.a)({feedId:n===a.a.UNIFIED_COMMENTS&&t||u,feedType:n||a.a.AGGREGATED_COMMENTS,itemIds:[e],itemType:"aggregatedcomment"})),h(function(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}(u,e)),p&&(d||0===d)&&(d===o.c.TOP?h(Object(s.a)(u,-1)):d===o.c.REPLY_TO_AGGREGATED?h(Object(c.a)(u,-1)):h(Object(l.e)(u,-1))),f}}},QCxT:function(e,t,n){function r(e){return!(!(e&&e.rich_metadata&&e.rich_metadata.recipe&&e.rich_metadata.recipe.name&&e.rich_metadata.recipe.name.trim().length>0&&e.rich_metadata.recipe.categorized_ingredients)||e.rich_metadata.recipe.from_aggregated_data)}n.d(t,"a",(function(){return r}))},QDEm:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("Iq8E"),a=n("q1tI"),s=n("fZAc"),c=n("mjHj"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,l=e.decorator,u=e.decoratorKey,d=e.direction,p=e.leafSet,h=e.text,f=t.getKey(),g=p.get("leaves"),m=l.getComponentForKey(u),y=l.getPropsForKey(u),_=o.encode(f,parseInt(u,10),0),v=h.slice(g.first().get("start"),g.last().get("end")),b=c.getHTMLDirIfDifferent(s.getDirection(v),d);return a.createElement(m,i({},y,{contentState:r,decoratedText:v,dir:b,key:_,entityKey:t.getEntityAt(p.get("start")),offsetKey:_}),n)},r}(a.Component);e.exports=l},QHRY:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("FMFh"),a=n("yjg8"),s=n("pLLR");t.a=e=>{const{bookmarks:t,items:n,loadPins:c,...l}=e,{numServerRenderedPins:u=0}=e,{isBot:d}=Object(s.d)(),p=u>0?u:Object(a.n)(),[h,f]=Object(r.useState)(d?n:n.slice(0,p)),[g,m]=Object(r.useState)(t),[y,_]=Object(r.useState)(0),v=(e,t)=>{f((h||[]).concat(e)),m(t)};return i.a.createElement(o.default,Object.assign({pinLinkClickHandler:t=>{const{hybridClickthroughHandler:n}=e;if(n)return t&&t.stopPropagation(),void n();_(y+1),y>2&&(t&&t.preventDefault(),e.showSignupModal(),_(1))},items:h,loadPins:()=>{c(h,g,v)}},l))}},QHyw:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("UPpV"),a=n("HRg/"),s=n("sv3x"),c=n("StuW"),l=n("kmwA"),u=n("n0ft"),d=n("28DW"),p=n("yweb"),h=n("E+YF"),f=n("AWyA"),g=n("fgHc"),m=n("pLLR"),y=n("qpbZ"),_=n("c50B");t.a=function({container:e="unknown",code:t,creds:n,isAccountSwitch:v,nextUrlParam:b,email:w,onCodeChange:E,inputStyleOverrides:S,phoneNumberEnd:C,password:x}){const[O,k]=Object(r.useState)(null),[T,I]=Object(r.useState)(!1),{isAuthenticated:D,loginState:P,isRTL:j}=Object(m.d)(),M=Object(p.b)(),A=Object(g.b)(),{getLoginContext:L}=Object(f.d)(),R={container:e,hybridTier:null==A?void 0:A.hybridTier,page:null==A?void 0:A.pageType};Object(r.useEffect)(()=>{!v&&s.b.isFullyLoggedIn(D,P)&&s.b.handleRedirect(b)},[]);const F=M._("Continue");return i.a.createElement("div",{style:{margin:"0 auto",marginTop:"45px",width:"268px"}},i.a.createElement("p",{style:{fontSize:"14px",margin:"24px 0",textAlign:j?"right":"left"}},C?Object(y.b)(M._("Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in."),{phoneNumberEnd:i.a.createElement("strong",{key:"phone"},C)}):M._("Please check your phone for a code and enter it in the field below to log in.")),i.a.createElement("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault();const r=Object(c.a)(t,[Object(_.o)({message:M._("You missed a spot! Don't forget to add your verification code.")}),Object(_.l)({message:M._("Hmm...that doesn't look like a verification code.")})]);r?(k(r),Object(d.a)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(k(null),I(!0),Object(a.a)({...n||{username_or_email:w,password:x},mfa_token:t},L(),R).then(()=>{const e=window.location.pathname!==l.a.settings.PASSWORD_RESET_URL?window.location.pathname:"/";s.b.handleRedirect(b||e)},e=>{e.message?(k(e.message),I(!1)):(Object(h.a)(M._("Sorry! Something went wrong on our end.")),I(!1))}))}},i.a.createElement(u.b,{autoComplete:"off",focused:!0,hasError:!!O,id:"mfaCode",inputStyleOverrides:S,isRTL:!!j,name:"code",onChange:E,placeholder:M._("Verification code"),tooltip:O,type:"text",value:t}),i.a.createElement(o.b,{accessibilityLabel:F,className:"red SignupButton",loading:T,styleOverrides:{width:"100%"},type:"submit"},i.a.createElement("div",null,F))),i.a.createElement("div",{style:{marginTop:"15px",color:"#333"}},Object(y.b)(M._("If you didn't get it, we can {{ resendCode }}."),{resendCode:i.a.createElement("a",{key:"code",href:"",onClick:e=>{e.preventDefault(),I(!0),Object(a.a)({...n||{username_or_email:w,password:x},mfa_resend:!0},L(),R).then(()=>{I(!1)},e=>{I(!1),e.message?k(e.message):Object(h.a)(M._("Sorry! Something went wrong on our end."))})}},M._("resend the code"))})))}},QIuh:function(e,t,n){function r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function i(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=i,t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,o=e.initialSourceClientOffset;return t&&n&&o?i(r(t,o),n):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?i(t,n):null}},QNmZ:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("+k3R"),c=n("SFi7"),l=n("dJ9d"),u=n("QWfI"),d=n("qFZT"),p=n("2S0S"),h=n("Gytx");t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),p("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),p(u.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var r=n,s=t.arePropsEqual,u=void 0===s?h:s,f=r.displayName||r.name||"Component",g=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=a.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();h(t,e.state)||e.setState(t)}},e}return i(s,t),s.prototype.getDecoratedComponentInstance=function(){return p(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.shouldComponentUpdate=function(e,t){return!u(e,this.props)||!h(t,this.state)},s.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},s.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},s.prototype.render=function(){var e=this;return a.createElement(c.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?a.createElement(r,o({},e.props,e.state,{ref:l.isRefable(r)?e.ref:null})):null)}))},s.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,p("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",f,f);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},s.prototype.getCurrentState=function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)},s.displayName="DragLayer("+f+")",s.DecoratedComponent=n,s}(a.Component);return d(g,n)}}},QSJg:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},QV6T:function(e,t,n){n.r(t);var r=n("q1tI"),i=n.n(r),o=n("FDmi"),a=n("ovj4"),s=n("UPpV");var c=({css:e={}})=>i.a.createElement("div",{style:{borderBottom:"#dedede 1px solid",margin:"5px auto",width:"110px",...e}}),l=n("n6mq");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={header:{color:"#5a5a5a",fontWeight:500,fontSize:"12px"},button:{width:"160px",fontSize:"14px",padding:"10px 20px"}};class p extends r.Component{constructor(...e){super(...e),u(this,"state",{hover:!1}),u(this,"toggleHover",()=>{this.setState({hover:!this.state.hover})})}render(){const{buttonText:e,fullWidth:t,link:n,onClick:r,title:o,titleStylesOverride:a,useSmallButton:c}=this.props;let u=d.header;a&&(u={...u,...a});const p=t?{...d.button,width:"100%",marginTop:"0"}:d.button;let h=i.a.createElement(s.b,{className:"lightGray",href:n,onClick:r,styleOverrides:p,type:"button"},e),f={};if(c){u={...u,float:"left"},f={margin:"0 auto 5px",width:"fit-content",alignItems:"baseline"};const t={color:"#333",cursor:"pointer",marginLeft:"5px"};h=i.a.createElement(l.e,{onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover},i.a.createElement("a",{onClick:r,style:t,"data-test-id":"login-signup-toggle"},e))}return i.a.createElement("div",{style:f},o&&i.a.createElement("h5",{style:u},o),h)}}var h=n("yweb"),f=n("pLLR");const g={margin:"0 auto 18px",width:"270px"},m={display:"block",height:"45px",margin:"5px auto 8px",width:"45px"},y={borderBottom:"#efefef 1px solid",margin:"20px 0px 15px -68px",width:"404px"},_={color:"#333",fontSize:"14px",fontWeight:"normal",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},v={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},b={marginRight:0,marginLeft:"4%",borderRadius:32},w=({link:e,onClick:t})=>{const n=Object(h.b)();return i.a.createElement(p,{buttonText:n._("Not on Pinterest yet? Sign up","Toggle to switch from the login modal to the sign up modal","Toggle to switch from the login modal to the sign up modal"),link:e,onClick:t,titleStylesOverride:_,useSmallButton:!0})};var E=({handleSignupToggleButtonClick:e,isAccountSwitch:t,toggleType:n})=>{const{isRTL:r}=Object(f.d)();return"NOT_NOW_BUTTON"===n?i.a.createElement("div",null,i.a.createElement(c,{css:{margin:"10px auto"}}),i.a.createElement("div",{style:{display:"inline-block",marginRight:"4px"}},i.a.createElement(w,{onClick:e})),i.a.createElement("div",null)):"NO_TOGGLE"===n||t?null:"SMALL_TOGGLE"===n?i.a.createElement("div",null,i.a.createElement(c,{css:{margin:"10px auto"}}),i.a.createElement(w,{onClick:e}),i.a.createElement("div",null)):i.a.createElement("div",null,i.a.createElement(c,{css:{...y,...r?{margin:"20px 30px 15px -10px"}:{marginLeft:"-10px"}}}),i.a.createElement("div",null,i.a.createElement(w,{link:"/signup/",onClick:e})))};var S=({onClick:e})=>{const t=Object(h.b)();return i.a.createElement(p,{buttonText:t._("Already a member? Log in","Toggle to switch from the sign up modal to the login modal ","Toggle to switch from the sign up modal to the login modal "),link:"/login/",onClick:e,titleStylesOverride:_,useSmallButton:!0})},C=n("kmwA"),x=n("28DW"),O=n("Zswh"),k=n("jZTy"),T=n("AWyA");var I=({container:e,handleLoginToggleButtonClick:t,toggleType:n})=>{const{viewer:r}=Object(T.d)(),o=Object(h.b)(),a=Object(O.a)(),{isRTL:s}=Object(f.d)();return"NOT_NOW_BUTTON"===n?i.a.createElement("div",null,i.a.createElement("div",{style:{marginTop:"32px"}},i.a.createElement(S,{onClick:t})),i.a.createElement("div",null,i.a.createElement("div",{style:{margin:"10px auto 5px",display:"flex",alignItems:"baseline",width:"fit-content",justifyContent:"center"}},i.a.createElement("h5",{style:{float:"left",color:"#333",fontSize:"12px",fontWeight:"bold",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}},o._("Are you a business? ")),i.a.createElement("a",{href:C.a.settings.PARTNER_SITE_SIGNUP,onClick:()=>{Object(x.a)("unauth.business_link.click"),a({event_type:101,component:13096,element:10281,aux_data:Object(k.a)(r.type)})},style:{cursor:"pointer",marginLeft:"5px",float:"left",color:"#333",fontSize:"12px"},target:"_blank"},o._("Get started here"))))):"home_page"===e?i.a.createElement(l.e,{marginTop:3},i.a.createElement(S,{onClick:t})):i.a.createElement("div",null,i.a.createElement(c,{css:{...y,...s?{margin:"20px -68px 15px 0px"}:{}}}),i.a.createElement("div",null,i.a.createElement(S,{onClick:t})))},D=n("YsiA"),P=n("G3wy");var j=({email:e,emailError:t,onNotNowClick:n,handleEmailChange:o,handleSubmit:a})=>{const s=Object(h.b)();Object(r.useEffect)(()=>{Object(x.a)("unauth.fb_phone_only_signup.email_step")},[]),s._("We use your email address for account creation and for important security and legal notices.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");const c=s._("Oops. We're unable to create your account without your email. To continue, make sure you provide email to create your account.","subtitle to explain the step on email collection form","subtitle to explain the step on email collection form");return i.a.createElement(l.e,{marginTop:3},i.a.createElement("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),a()}},i.a.createElement(l.V,{align:"left",overflow:"normal"},c),i.a.createElement(l.e,{marginTop:3}),i.a.createElement(l.e,null,i.a.createElement(l.X,{ref:P.a,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:o,placeholder:s._("Email address","email placeholder in the email inputfield on email collection form","email placeholder in the email inputfield on email collection form"),size:"lg",type:"email"})),i.a.createElement(l.e,{marginTop:5}),i.a.createElement(l.f,{color:"red",disabled:!e,text:s._("Continue","word on the button which to submit user email information","word on the button which to submit user email information"),type:"submit"}),i.a.createElement(l.e,{marginTop:2}),i.a.createElement(l.f,{onClick:()=>{Object(x.a)("unauth.fb_phone_only_signup.email_step.not_now_click"),n&&n()},text:s._("Not now","word on not now button to dismiss the collection form","word on not now button to dismiss the collection form"),type:"submit"})))},M=n("5WKM"),A=n("kWmd"),L=n("sv3x"),R=n("eOdZ"),F=n("StuW"),B=n("J8m7"),z=n("c50B"),N=n("VL22");function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V="email";class W extends r.Component{constructor(e){super(e),U(this,"mounted",!1),U(this,"handleEmailChange",({value:e})=>{this.setState({email:e})}),U(this,"showError",(e,t)=>{this.mounted&&t===V&&this.setState({emailError:e})}),U(this,"handleSubmit",()=>{const{i18n:e}=this.props;if(Object(x.a)("unauth.fb_phone_only_signup.submit_email"),this.state.email)Object(x.a)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{const t=e._("Email is required","email error message","email error message");this.setState({emailError:t})}}),U(this,"handleSignupSuccess",()=>{L.b.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),Object(x.a)("unauth.fb_phone_only_signup.signup_success")}),U(this,"handleSignupFailure",e=>t=>{const{i18n:n}=this.props,r=t.message||n._("Oops! Something went wrong… Click Continue to try again.","Error during signup during FB email collection step","Error during signup during FB email collection step");this.showError(r,e),Object(x.a)("unauth.fb_phone_only_signup.signup_failure")}),U(this,"attemptEmailSignupOrLogin",()=>{const{desktopCoreLoginContext:{facebookAccessTokenRefreshIsEnabled:e,register:t},i18n:n}=this.props,{country:r}=this.props.requestContext,{email:i}=this.state,o=[Object(z.e)({message:n._("Hmm... that doesn't look like an email address.","email error message","email error message")})],a=Object(F.a)(i,o);if(a)return Object(x.a)("unauth.fb_phone_only_signup.email_validation_failure"),void this.setState({emailError:a});const{registrationCredentials:{type:s,credentialsAndLoggingData:c},showSocialSignupWithAgeStep:l,showEmailAlreadyExistModal:u}=this.props,d={email:i,facebook_token:c.facebook_token?c.facebook_token:"",facebook_id:c.facebook_id?c.facebook_id:""};R.a.create("EmailExistsResource",{email:i}).callGet().then(n=>{!1===n.resource_response.data?Object(N.d)(r)?l(s,d,c):Object(A.a)(e,!0).then(M.a).then(e=>t({...e,...d})).then(this.handleSignupSuccess,this.handleSignupFailure(V)):(u(s,d,c),Object(x.a)("unauth.fb_phone_only_signup.email_existed"))},e=>{let t=n._("Hmm... that doesn't look like an email address.","email error message","email error message");e.api_error_code===B.d&&(t=e.message),this.showError(t,V),Object(x.a)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return i.a.createElement("div",{style:{margin:"0 auto",width:"268px"}},i.a.createElement(j,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick}))}}var q=e=>{const t=Object(T.d)(),n=Object(f.d)(),r=Object(h.b)();return i.a.createElement(W,Object.assign({},e,{desktopCoreLoginContext:t,i18n:r,requestContext:n}))};var K=({onClick:e})=>{const t=Object(f.d)(),n=Object(h.b)();return i.a.createElement(l.e,{position:"absolute",display:"block",marginTop:4,marginEnd:4,marginStart:4,height:40,width:40,right:!t.isRTL,left:t.isRTL,top:!0,"data-test-id":"full-page-signup-close-button"},i.a.createElement(l.u,{accessibilityLabel:n._("close","accessible label for close button","accessible label for close button"),onClick:e,icon:"cancel",iconColor:"darkGray"}))};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends r.Component{constructor(...e){super(...e),H(this,"componentDidMount",()=>{const{container:e,hybridTier:t,modalType:n}=this.props;Object(x.a)("web.unauth.modal_title.view"),Object(x.a)(`unauth_web_modal.${e||"unknown"}.${t||"undefined_tier"}.${n}.shown`)}),H(this,"getSignupTitleStyles",()=>{const{darkSignupTitle:e}=this.props;let t={color:"#333",fontSize:"36px",fontWeight:"600",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"-1.2px",wordBreak:"break-word"};return e&&(t={...t,color:"#000"}),t})}render(){const{titleText:e}=this.props,t=this.getSignupTitleStyles();return i.a.createElement("h3",{style:t},e)}}var Y=n("Jr++"),J=n("+6dQ"),$=n("b7nI"),X=n("StYv"),Q=n("QHyw"),Z=n("Gz3U"),ee=n("+8U0"),te=n("6d7w");const ne=({children:e,noBoxShadow:t,scaleModal:n})=>{const r={...v,...t?{boxShadow:"none"}:{}},{viewer:o}=Object(T.d)(),a=Object(T.c)();return"LIMITED_LOGIN"===o.type&&a?i.a.createElement("div",{"data-test-id":"login-modal-default",style:{...r,display:"flex",width:"auto",padding:""}},i.a.createElement("div",{style:{borderRadius:"8px 0 0 8px",overflow:"hidden"}},i.a.createElement("div",{style:{height:"100%",width:600*(a.width/a.height||0),maxWidth:400,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${a.url})`}})),i.a.createElement("div",{style:{width:400,padding:"32px 0"}},e)):i.a.createElement("div",{className:n?"unauth-homepage-conversion-modal":"","data-test-id":"login-modal-default",style:n?{...r,...b}:{...r,padding:"32px 0"}},e)};var re=({children:e,email:t,footer:n,handleNotYouClick:a,header:s,noBoxShadow:c,scaleModal:u,title:d,viewerInfo:p})=>{var f;const{viewer:y}=Object(T.d)(),_=Object(h.b)();return i.a.createElement(ne,{scaleModal:u,noBoxShadow:c},i.a.createElement(r.Fragment,null,s,i.a.createElement("div",{style:{...m,margin:"0 auto 16px",width:40,height:40}},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:{...g,width:"auto",overflow:"hidden",maxHeight:"130px",margin:"0 48px 16px"}},d),"LIMITED_LOGIN"===y.type&&i.a.createElement(l.e,{marginBottom:4,paddingX:12},i.a.createElement(te.a,null)),i.a.createElement("div",{style:{margin:"0 auto 16px",width:"120px"}},i.a.createElement(o.a,{name:p.firstName,src:null!==(f=p.imageUrl)&&void 0!==f?f:void 0})),i.a.createElement(l.e,{marginBottom:3},i.a.createElement(l.V,{align:"center"},t)),e,i.a.createElement(l.e,{paddingY:5},i.a.createElement(l.o,null)),i.a.createElement(l.e,{"data-test-id":"login-switch-account"},i.a.createElement(l.U,{fullWidth:!1,onTap:a},i.a.createElement(l.V,{align:"center",size:"md",weight:"bold"},i.a.createElement(l.z,{href:"#"},_._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account"))))),i.a.createElement(l.e,{marginBottom:0,marginTop:1},n)))},ie=n("ulhB"),oe=n("NtKd"),ae=n("2Rot"),se=n("bBqG"),ce=n("qpbZ");const le="pinBookmarklet",ue={backgroundColor:"#fff",borderRadius:"8px",position:"relative",textAlign:"center",width:"404px",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},de={minHeight:"400px",padding:"20px 10px 24px"},pe={color:"#333",fontSize:"36px",fontWeight:"600",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"-1.2px"},he={backgroundColor:"#f0f0f0",border:"0px",outline:"none"},fe={textAlign:"center",color:"#333",fontSize:"16px",fontWeight:"normal",margin:"-15px 0 32px"},ge=(e,t,n)=>{const r=e._("Sign up to see more","sigup copy default includes pin click and scrolling","sigup copy default includes pin click and scrolling"),i={defaultSource:r,boardInvite:e._("Sign up to accept your board invite","Sign up copy board invite","Sign up copy board invite"),userFollow:e._("Sign up to see more of this profile","signup copy user follow","signup copy user follow"),userProfilePage:e._("Sign up to see more of this profile","signup copy profile page","signup copy profile page"),saveButton:e._("Sign up to see more","signup copy save button","signup copy save button"),signupButton:e._("Sign up to see more","signup copy signup button","signup copy signup button"),homePage:e._("Welcome to Pinterest","Title on desktop signup modal on home page","Title on desktop signup modal on home page"),[le]:e._("Sign up to save this Pin!","signup copy save button from third party website","signup copy save button from third party website"),login:r,loginMfa:r,actionButton:r,boardPage:r,giftWrap:r,invite:r,mwebDefaultSource:r,navigateBoard:r,navigateInterest:r,navigatePin:r,personalizedFlyout:r,unauthVisualSearch:r,unauthBanner:r,unauthHeader:r,searchSource:r},o=e._("Log in to see more","Title on desktop login modal","Title on desktop login modal"),a={boardInvite:e._("Log in to accept your board invite","Login copy board invite","Login copy board invite"),invite:e._("Log in to invite friends"),login:o,saveButton:e._("Log in to see more","Title on desktop login modal","Title on desktop login modal"),homePage:e._("Welcome to Pinterest","Title on desktop signup modal on home page","Title on desktop signup modal on home page"),[le]:e._("Sign in to save this Pin!","Login copy save button from third party website","Login copy save button from third party website"),defaultSource:o,loginMfa:o,actionButton:o,boardPage:o,giftWrap:o,unauthVisualSearch:o,mwebDefaultSource:o,navigateBoard:o,navigateInterest:o,navigatePin:o,personalizedFlyout:o,signupButton:o,unauthBanner:o,userFollow:o,userProfilePage:o,unauthHeader:o,searchSource:o};return"signup"===t||"signupOrPersonalizedLogin"===t?i[n]:"loginMfa"===t?e._("Two-Factor Authentication Required"):a[n]};t.default=({AMPClientId:e,container:t,customLoginTagline:n,customSignupTagline:u,darkSignupTitle:d,delayedTitleRender:p,email:y,emailValidationError:_,handleCloseButtonClick:w,handleModalTypeSwitch:C,handleShowingSignupWelcomeLoading:P,hideAccountSwitchValueProp:j,hybridTier:M,inviter:A,isAccountSwitch:L=!1,isBusiness:R,mfaCreds:F,modal:B,nextUrlParam:z,pageContext:N,passwordValidationError:U,postSignupUrlParam:V,renderBusinessCreateButton:W,scaleModal:H,showCloseIcon:te,showResponseMessageModal:ne,signupSource:me="defaultSource",socialRegistrationCredentials:ye,toggleType:_e="DEFAULT_TOGGLE",type:ve="signup"})=>{const be=Object(f.d)(),we=Object(h.b)(),{viewer:{info:Ee,type:Se}}=Object(T.d)(),Ce=Object(O.a)(),[xe,Oe]=Object(r.useState)(),[ke,Te]=Object(r.useState)(y||""),[Ie,De]=Object(r.useState)(""),[Pe,je]=Object(r.useState)(!1),[Me,Ae]=Object(r.useState)(!1),[Le,Re]=Object(r.useState)(""),[Fe,Be]=Object(r.useState)(F||null),[ze,Ne]=Object(r.useState)(""),[Ue,Ve]=Object(r.useState)(""),[We,qe]=Object(r.useState)(""),[Ke,He]=Object(r.useState)(!1),[Ge,Ye]=Object(r.useState)(ye),[Je,$e]=Object(r.useState)("signup"===Object(Y.a)().type?"signup":ve),[Xe,Qe]=Object(r.useState)(!1),Ze=Object(k.a)(Se);Object(r.useEffect)(()=>{const{logging:n}=N||{};return Object(x.a)(`unauth.authentication_modal.shown.${_e}.${Je}`),n&&Ce({aux_data:Ze,event_type:1771,view_parameter:n.viewParameter,view_type:n.viewType}),e&&Object(x.g)("signup_page_from_amp",{amp_client_id:e}),()=>{L&&(Object(se.a)("add_account_dismiss",null,t),Object(J.a)(t))}},[]);const et=Object(r.useRef)(Je);Object(r.useEffect)(()=>{et.current!==Je&&(et.current=Je,Object(x.a)(`unauth.authentication_modal.shown.${_e}.${Je}`))});const tt=Object(r.useRef)(ve);Object(r.useEffect)(()=>{tt.current!==ve&&(tt.current=ve,Oe(void 0),Te(y||""),De(""),Re(""),Be(F||null),Ne(""),Ve(""),qe(""),Ye(ye),$e(ve))});const nt=()=>"home_page"===t?{...ue,minHeight:"initial"}:t===le?{...ue,boxShadow:"none"}:ue,rt=()=>B?{textAlign:"center"}:nt(),it=()=>z?decodeURIComponent(z):z,ot=e=>it()?Object(a.a)(e,{next:it()}):e,at=e=>(t,n,r)=>{$e(e),Ye({type:t,userData:n,credentialsAndLoggingData:r})},st=Object(r.useCallback)(()=>qe(""),[]),ct=Object(r.useCallback)((e,t)=>{Be(e),Ne(t&&t.phone_number_end||void 0),$e("loginMfa")},[]),lt=Object(r.useCallback)(e=>{Object(x.a)("unauth.personalized_login.prevent_register."+e),Qe(!0),Ae(!1),$e("signup")},[]),ut=e=>{e.event.preventDefault(),Qe(!0),qe(""),"FBEmailAlreadyExist"===Je&&$e("login"),Object(x.a)("unauth.personalized_login.not_you.click"),Object(x.e)("click_change_signin_account"),Ce({aux_data:Ze,element:10879,event_type:101})},dt=e=>{Object(x.a)(`unauth.authentication_modal.${e}.${_e}.${Je}`)},pt=()=>{dt("login_toggle_click"),Object(x.e)("click_toggle_login"),C&&C(),$e("login"),je(!1)},ht=()=>{dt("signup_toggle_click"),Object(x.e)("click_toggle_signup"),C&&C(),$e("signup")},ft=Object(r.useCallback)(()=>{$e("signup"),Ae(!1)},[]),gt=e=>{e.event.preventDefault(),Object(x.a)("unauth.personalized_login.signup_instead.click"),qe(""),Ce({aux_data:Ze,event_type:101,element:10880}),ht()},mt=Object(r.useCallback)(()=>{Object(x.a)("unauth.fb_email_reauth.post_connect.click")},[]),yt=Object(r.useCallback)(()=>{Object(x.a)("unauth.fb_email_reauth.post_success.connect")},[]),_t=Object(r.useCallback)(e=>{He(e),P&&P(e)},[P]),vt=te&&i.a.createElement(K,{onClick:w});if(Ke&&["signup","login","socialSignupWithAge"].includes(Je))return i.a.createElement(oe.a,null);if(!Xe&&!L&&Ee&&("signupOrPersonalizedLogin"===Je||"login"===Je&&"AUTH"!==Se)){const e=Ee.hasPassword||Ee.connectedToFacebook||Ee.connectedToGoogle;return((e,n)=>i.a.createElement(re,{email:ke,handleNotYouClick:ut,noBoxShadow:t===le,scaleModal:H,header:i.a.createElement(r.Fragment,null,Me&&i.a.createElement($.a,null),vt),viewerInfo:e,title:!p&&i.a.createElement(G,{container:t,darkSignupTitle:d,hybridTier:M,modalType:"personalizedLogin",titleText:Object(ce.b)(we._("Welcome back, {{name}}!","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:e?e.firstName:""}).join("")}),footer:i.a.createElement(l.U,{fullWidth:!1,onTap:R?()=>{Ce({event_type:101,element:10880})}:gt},i.a.createElement(l.V,{align:"center",size:"md",weight:"bold"},i.a.createElement(l.z,{href:R?ot("/business/create"):"#"},we._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account"))))},i.a.createElement(X.a,{container:t,disablePostSignupNextUrl:!z,email:e.email,hideEmailField:!0,hideFacebookButton:n&&!e.connectedToFacebook,hideGoogleButton:n&&!e.connectedToGoogle,hidePasswordField:n&&!e.hasPassword,hidePasswordReset:!0,hideTermsOfService:!0,inputStyleOverrides:he,loadingIndicatorCallback:Ae,loginButtonTextOverride:we._("Continue"),nextUrlParam:it(),onEmailChange:()=>{},onFBPhoneOnlyConnectVerified:at("FBEmailCollection"),onLoginWithMfa:ct,onPasswordChange:e=>qe(e.target.value),onSocialConnectVerified:at("socialSignupWithAge"),password:We,passwordValidationError:U,requestContext:be,shouldPreventRegister:!0,showResponseMessageModal:"respondMessage"===ve?ne:void 0,triggerAccountRecoveryMode:lt})))(Ee,e)}return"signupOrPersonalizedLogin"===Je||"signup"===Je||"respondMessage"===Je?(()=>{const e=Pe?we._("Welcome back to Pinterest!","welcoming user back to pinterest in signup modal when we recognize their email","welcoming user back to pinterest in signup modal when we recognize their email"):u||ge(we,Je,me||"defaultSource"),n=A&&!A.is_default_image?A:null,a=i.a.createElement("div",{style:{...g,..."login_page"!==t?{width:"400px"}:{}}},!p&&i.a.createElement(G,{container:t,darkSignupTitle:d,hybridTier:M,modalType:"signup",titleText:n&&("respondMessage"===ve?we._("Sign up and let {{ name }} know what you think","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",n.first_name):we._("Join {{ name }} on Pinterest for more ideas","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",n.first_name))||(["login_page","home_page"].includes(t)?e:we._("Unlimited free access to the world's best ideas","Value prop on desktop signup modal","Value prop on desktop signup modal"))}));return i.a.createElement("div",{className:H?"unauth-homepage-conversion-modal":"","data-test-id":"signup-default-modal",style:{...rt(),width:"484px",..."home_page"===t?{paddingBottom:55}:{},...H?b:{}}},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:n?{minHeight:"400px",padding:"30px 10px 20px"}:de},vt,n?i.a.createElement(r.Fragment,null,i.a.createElement("div",{style:{margin:"0 auto 16px",width:"108px"}},i.a.createElement(o.a,{name:n.first_name,src:n.image_medium_url,verified:"respondMessage"===ve})),a):i.a.createElement(r.Fragment,null,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:"homePage"===me?40:50})),a,i.a.createElement("div",{style:g},!Pe&&i.a.createElement("h3",{style:fe},"login_page"!==t&&"home_page"!==t?e:"homePage"===me&&we._("Find new ideas to try","Value prop on desktop signup modal on home page","Value prop on desktop signup modal on home page")||we._("Discovery starts here","Pinterest value proposition on desktop login modal","Pinterest value proposition on desktop login modal")))),i.a.createElement(ie.a,{additionalEmailPasswordChildren:i.a.createElement(I,{container:t,handleLoginToggleButtonClick:pt,toggleType:_e}),age:xe,clearPassword:st,container:t,disablePostSignupNextUrl:!z,email:ke,emailValidationError:_,gender:Ie,loadingIndicatorCallback:Ae,name:Ue,nextUrlParam:V||it(),onAgeChange:e=>Oe(e.target.value),onEmailChange:e=>Te(e.target.value),onFBEmailDeniedPerm:()=>$e("FBEmailRerequest"),onFBPhoneOnlyConnectVerified:at("FBEmailCollection"),onGenderChange:e=>De(e.target.value),onLoginWithMfa:ct,onNameChange:e=>Ve(e.target.value),onPasswordChange:e=>qe(e.target.value),onSocialConnectVerified:at("socialSignupWithAge"),password:We,passwordValidationError:U,setNameFromEmail:()=>Ve(Object(ee.a)(ke)),setWelcomeBackMessageForExistingEmail:je,showResponseMessageModal:"respondMessage"===ve?ne:void 0,showSignupWelcomeLoadingFn:_t,signupSource:me})),W&&W())})():"login"===Je?i.a.createElement("div",{className:H?"unauth-homepage-conversion-modal":"","data-test-id":"login-modal-default",style:{...rt(),...H?b:{},width:"484px"}},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:de},vt,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:"homePage"===me?40:50})),i.a.createElement("div",{style:{...g,..."login_page"!==t?{width:"400px"}:{}}},!p&&i.a.createElement(G,{container:t,darkSignupTitle:d,hybridTier:M,modalType:"login",titleText:n||ge(we,Je,me||"login")})),L&&!j&&i.a.createElement("div",{style:g},i.a.createElement("h3",{style:fe},we._("Have another Pinterest account? Log in to easily switch between them","Subtitle on the login modal that explains to a user why they would add an additional account to their profile","Subtitle on the login modal that explains to a user why they would add an additional account to their profile"))),i.a.createElement(X.a,{clearPassword:st,container:t,disablePostSignupNextUrl:!z,email:ke,emailValidationError:_,inputStyleOverrides:he,isAccountSwitch:L,loadingIndicatorCallback:Ae,nextUrlParam:it(),onEmailChange:e=>Te(e.target.value),onFBPhoneOnlyConnectVerified:at("FBEmailCollection"),onLoginWithMfa:ct,onPasswordChange:e=>qe(e.target.value),onSocialConnectVerified:at("socialSignupWithAge"),password:We,passwordValidationError:U,requestContext:be,showResponseMessageModal:"respondMessage"===ve?ne:void 0}),R?i.a.createElement("div",null,i.a.createElement(c,{css:{margin:"10px auto"}}),i.a.createElement("a",{href:ot("/business/create")},we._("Create new account","Link to the page to create a new business account instead of logging in","Link to the page to create a new business account instead of logging in")),i.a.createElement("div",null)):i.a.createElement(E,{handleSignupToggleButtonClick:ht,isAccountSwitch:L,toggleType:_e}))):"loginMfa"===Je?i.a.createElement("div",{"data-test-id":"login-modal-mfa",style:rt()},i.a.createElement("div",{style:de},vt,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:{...g,padding:"0 10px"}},!p&&i.a.createElement(G,{container:t,darkSignupTitle:d,hybridTier:M,modalType:"loginMfa",titleText:ge(we,Je,"loginMfa")})),i.a.createElement(Q.a,{code:Le,container:t,creds:Fe,email:ke,inputStyleOverrides:he,isAccountSwitch:L,nextUrlParam:it(),onCodeChange:e=>Re(e.target.value),password:We,phoneNumberEnd:ze}))):"socialSignupWithAge"===Je?i.a.createElement("div",{"data-test-id":"login-modal-with-age",style:nt()},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:de},vt,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:g},i.a.createElement("h3",{style:pe},we._("Sign up to see more","Age collection signup step for Facebook/G+ authentication","Age collection signup step for Facebook/G+ authentication"))),i.a.createElement(ae.a,{container:t,loadingIndicatorCallback:Ae,nextUrlParam:it(),registrationCredentials:Ge,showResponseMessageModal:"respondMessage"===ve?ne:void 0,showSignupWelcomeLoadingFn:_t})),i.a.createElement(l.e,{margin:4},i.a.createElement(l.o,null),i.a.createElement(l.e,{padding:3},i.a.createElement(S,{onClick:pt})))):"FBEmailRerequest"===Je?i.a.createElement("div",{"data-test-id":"login-modal-facebook",style:{...nt(),minHeight:"400px"}},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:de},vt,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:{...g,width:"320px"}},i.a.createElement("h3",{style:pe},we._("Add your email to finish","Tagline on facebook rerequest form","Tagline on facebook rerequest form")),i.a.createElement("h3",{style:{...fe,marginTop:"24px"}},we._("We need your email address to complete this signup. Click the button below, and we can use the email associated with your Facebook account.","message to explain reauth step beneath the tagline","message to explain reauth step beneath the tagline")),i.a.createElement("div",{style:{width:"260px",margin:"auto"}},i.a.createElement(D.a,{buttonText:we._("Continue with Facebook","Button text on facebook connect button on FB email reauth form","Button text on facebook connect button on FB email reauth form"),container:"FBEmailRerequest",handlePostConnectClick:mt,handlePostSuccessConnect:yt,isRerequest:!0,loadingIndicatorCallback:Ae,showResponseMessageModal:"respondMessage"===ve?ne:void 0,useGestaltTooltip:!0}))),i.a.createElement(s.b,{className:"lightGrey",onClick:ft,styleOverrides:{border:"none",color:"#717171",fontWeight:"bold",textDecoration:"none",backgroundColor:"#eee",height:"36px",borderRadius:"5px",fontSize:"16px",width:"268px",marginTop:"90px"}},we._("Not now","word on not now button to dismiss the FB email reauth form","word on not now button to dismiss the FB email reauth form")))):"FBEmailCollection"===Je?!!Ge&&i.a.createElement("div",{"data-test-id":"signup-modal-facebook-phone-only",style:{...ue,minHeight:"400px"}},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:de},vt,i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:{...g,width:"310px"}},i.a.createElement("h3",{style:pe},we._("What's your email address?","Prompt for email address in after sign in with apple","Prompt for email address in after sign in with apple"))),i.a.createElement(q,{loadingIndicatorCallback:Ae,nextUrlParam:z,onNotNowClick:ft,registrationCredentials:Ge,showEmailAlreadyExistModal:at("FBEmailAlreadyExist"),showSocialSignupWithAgeStep:at("socialSignupWithAge")}))):"FBEmailAlreadyExist"===Je?!!Ge&&i.a.createElement("div",{"data-test-id":"login-modal-existing-email",style:v},Me&&i.a.createElement($.a,null),i.a.createElement("div",{style:m},i.a.createElement(Z.a,{size:40})),i.a.createElement("div",{style:{...g,width:"350px",overflow:"hidden",maxHeight:"120px"}},!p&&i.a.createElement(G,{container:t,darkSignupTitle:d,hybridTier:M,modalType:"personalizedLogin",titleText:Object(ce.b)(we._("Looks like you're already on Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest","Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest"),{name:Ee?Ee.firstName:""}).join("")})),i.a.createElement(l.e,{marginBottom:3},i.a.createElement(l.V,{align:"center"},Ge.userData?Ge.userData.email:null)),i.a.createElement(X.a,{container:t,disablePostSignupNextUrl:!z,email:Ge.userData?Ge.userData.email:null,hideEmailField:!0,hideFacebookButton:!0,hidePasswordReset:!0,hideTermsOfService:!0,inputStyleOverrides:he,loadingIndicatorCallback:Ae,loginButtonTextOverride:we._("Continue"),nextUrlParam:it(),onEmailChange:()=>{},onFBPhoneOnlyConnectVerified:at("FBEmailCollection"),onLoginWithMfa:ct,onPasswordChange:e=>qe(e.target.value),onSocialConnectVerified:at("socialSignupWithAge"),password:We,passwordValidationError:U,requestContext:be,shouldPreventRegister:!0,showResponseMessageModal:"respondMessage"===ve?ne:void 0,triggerAccountRecoveryMode:lt}),i.a.createElement(l.e,{paddingY:5},i.a.createElement(l.o,null)),i.a.createElement(l.e,{"data-test-id":"login-switch-account"},i.a.createElement(l.U,{fullWidth:!1,onTap:ut},i.a.createElement(l.V,{align:"center",size:"md",weight:"bold"},i.a.createElement(l.z,{href:"#"},we._("Not you? Log in with a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account","Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account"))))),i.a.createElement(l.e,{marginBottom:4,marginTop:1},i.a.createElement(l.U,{fullWidth:!1,onTap:R?()=>{Ce({event_type:101,element:10880})}:gt},i.a.createElement(l.V,{align:"center",size:"md",weight:"bold"},i.a.createElement(l.z,{href:R?ot("/business/create"):"#"},we._("Need an account? Sign up now","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account","Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account"))))),vt):null}},QWfI:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},QWk2:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("B/xd");function o(e){return function(t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),!r.isValidElement(t)){var o=t;return e(o,n),o}var a=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(a);var s=n?function(t){return e(t,n)}:e;return i.default(a,s)}}n("1IOU"),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=o(r);t[n]=function(){return i}}})),t}},QfTi:function(e,t,n){var r=n("2NuI"),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function l(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return b.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return u(n[0],t);var i=n[0],o=n[1];return g(i)&&g(o)||r(!1),u(">="+i,t)&&u("<="+o,t)}(e=n[0].trim(),t)}function u(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(i),o=h(e),a=o.modifier,s=o.rangeComponents;switch(a){case"<":return d(r,s);case"<=":return-1===(n=v(r,s))||0===n;case">=":return p(r,s);case">":return function(e,t){return 1===v(e,t)}(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);f(o)&&(r[i]=o+1+"");return p(e,n)&&d(e,r)}(r,s);default:return function(e,t){return 0===v(e,t)}(r,s)}}function d(e,t){return-1===v(e,t)}function p(e,t){var n=v(e,t);return 1===n||0===n}function h(e){var t=e.split(i),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function f(e){return!isNaN(e)&&isFinite(e)}function g(e){return!h(e).modifier}function m(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function y(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),o=parseInt(r,10);return f(i)&&f(o)&&i!==o?_(i,o):_(e,t)}function _(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function v(e,t){for(var n=function(e,t){m(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return m(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var a=y(r[o],i[o]);if(a)return a}return 0}var b={contains:function(e,t){return l(e.trim(),t.trim())}};e.exports=b},QvxS:function(e,t,n){var r=n("NQV1"),i=n("qy1W"),o=n("ohE5"),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var l=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=l},RCR6:function(e,t,n){var r=n("jLRO"),i=n("zVay").OrderedSet,o=r.substr,a=i();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},"RK+W":function(e,t,n){var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},RQXw:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n("EUPR");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=r.createContext({recaptchaV3Token:"",refreshToken:()=>{}});a.displayName="RecaptchaV3Token";class s extends r.Component{constructor(...e){super(...e),o(this,"state",{recaptchaV3Token:"",refreshToken:this.refreshToken}),o(this,"refreshToken",()=>{Object(i.h)(e=>{this.setState({recaptchaV3Token:e,refreshToken:this.refreshToken})},i.e)})}componentDidMount(){this.refreshToken(),setInterval(this.refreshToken,i.f)}render(){return r.createElement(a.Provider,{value:this.state},this.props.children)}}const c=a.Consumer},S5bm:function(e,t,n){var r=n("NgHg"),i=n("+aGp");function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},"S8b/":function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n("hUD8"),o=n("/Ecc"),a=n("yBr6"),s=n("lh2y"),c=n("QSJg"),l=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;t.isNodeInDocument(e)||t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var r=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:r});var i=e.dataTransfer,o=s.matchNativeItemType(i);if(t.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var c=t.monitor.getSourceId(),l=t.sourceNodes.get(c),u=t.sourcePreviewNodes.get(c)||l;if(u){var d=t.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},h={offsetX:d.offsetX,offsetY:d.offsetY},f=a.getDragPreviewOffset(l,u,r,p,h);i.setDragImage(u,f.x,f.y)}}try{i.setData("application/json",{})}catch(g){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}),0)}else if(o)t.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],t.enterLeaveCounter.enter(e.target)&&!t.monitor.isDragging()){var n=e.dataTransfer,r=s.matchNativeItemType(n);r&&t.beginDragNativeItem(r)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;(t.dragEnterTargetIds=[],t.monitor.isDragging())&&(t.altKeyPressed=e.altKey,o.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new i.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return r({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return r({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(c).some((function(t){return c[t]===e}))},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=s.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=l},SF5q:function(e,t,n){var r="\\s|(?![_])"+n("evZB").getPunctuation(),i=new RegExp("^(?:"+r+")*(?:"+"['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:"+"['‘’]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},SFi7:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),c=n("yCO0"),l=n("+k3R"),u=n("dJ9d"),d=n("2S0S"),p=n("qFZT");function h(e,t,n){return{dragDropManager:c.createDragDropManager(e,t,n)}}t.context=s.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=h,t.DragDropContextProvider=function(e){var n=e.children,r=a(e,["children"]),i="manager"in r?{dragDropManager:r.manager}:h(r.backend,r.context,r.debugMode);return s.createElement(t.Provider,{value:i},n)},t.DragDropContext=function(e,n,r){l.default("DragDropContext","backend",e);var a=h(e,n,r);return function(e){var n=e,r=n.displayName||n.name||"Component",c=function(c){function l(){var e=null!==c&&c.apply(this,arguments)||this;return e.ref=s.createRef(),e.getManager=function(){return a.dragDropManager},e}return i(l,c),l.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},l.prototype.render=function(){return s.createElement(t.Provider,{value:a},s.createElement(n,o({},this.props,{ref:u.isRefable(n)?this.ref:null})))},l.DecoratedComponent=e,l.displayName="DragDropContext("+r+")",l}(s.Component);return p(c,e)}}},SQ0G:function(e,t,n){var r=n("94Z+");e.exports=function(e){return r(e)&&3==e.nodeType}},SYhp:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},StYv:function(e,t,n){n.d(t,"a",(function(){return F}));var r=n("q1tI"),i=n.n(r),o=n("NwVv"),a=n("VBo8"),s=n("YsiA"),c=n("PzSa"),l=n("HRg/"),u=n("9UZy"),d=n("StuW"),p=n("kmwA"),h=n("Cs8u"),f=n("0JuV"),g=n("jZTy"),m=n("J6c4"),y=n("pGrQ"),_=n("RQXw"),v=n("E+YF"),b=n("1n73"),w=n("QAzJ"),E=n("7UXn"),S=n("D2p8"),C=n("sv3x"),x=n("28DW"),O=n("yweb"),k=n("J8m7"),T=n("AXUD"),I=n("AWyA"),D=n("c50B"),P=n("fgHc");function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=p.a.settings.PASSWORD_RESET_URL,A="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1",L={alternativeSeparatorContainer:{marginBottom:"9px"},emailButtonStyles:{height:"40px",width:"100%",borderRadius:"2px"},emailButtonTextStyles:{fontFamily:m.a,textAlign:"center",fontSize:"15px",WebkitFontSmoothing:"auto"},spaceBetweenTextAndSocial:{height:"11px"},passwordLinkContainer:{float:"left",marginBottom:"12px",marginTop:"8px"},forgotPassword:{color:"#333333",fontSize:"14px",fontWeight:"bold"},loginForm:{borderTop:"solid 1px #ccc",minHeight:"350px",padding:"20px 10px"},loginTitleContainer:{margin:"0 auto 25px"},loginTitle:{fontSize:"28px",fontWeight:"bold",letterSpacing:"-1px"},loginContainer:{margin:"0 auto",width:"268px"},loginFooterContainer:{marginTop:"15px",color:"#333"},socialButtonContainer:{marginTop:"10px"},socialButtonSeparator:{height:"10px"},verticalCenter:{display:"flex",flexDirection:"column",justifyContent:"center"}};class R extends r.Component{constructor(e){super(e),j(this,"onLoginWithVoluntarilyDeactivated",e=>{this.setState({googleValidationError:e.message})}),j(this,"onLoginWithSuspended",()=>{const{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:E.a[k.v],loading:!1})}),j(this,"onloadCallback",()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:A,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:A,callback:"verifyCaptcha"})}catch(e){}}),j(this,"handleButtonClick",(e,t)=>{Object(x.a)("unauth.login.button.clicked");const{logContextEvent:n,desktopCoreLoginContext:{viewer:r}}=this.props;n({event_type:101,element:30,aux_data:{...Object(g.a)(r.type),signup_login_method:1}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let i=Object(d.a)(this.props.email,this.emailValidators);if(i)this.setState({emailValidationError:i}),Object(x.a)("unauth.login.error.CLIENT_ERROR.malformemail.loginmodal");else{this.setState({emailValidationError:null}),i=Object(d.a)(this.props.password,this.passwordValidators);const e=Object(d.a)(this.props.password,this.asciiValidators);i?(this.setState({passwordValidationError:i}),Object(x.a)("unauth.login.error.CLIENT_ERROR.malformpwd.loginmodal")):e?(this.setState({passwordValidationError:e}),Object(x.a)("unauth.login.error.CLIENT_ERROR.malformpwd.loginmodal"),Object(x.a)("unauth.login.error.CLIENT_ERROR.nonasciipwd.loginmodal")):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t))}}),j(this,"preventRegister",e=>{"facebook"===e?this.updateAccountRecoveryModal(C.a.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(C.a.PREVENT_GOOGLE_REGISTER),this.props.triggerAccountRecoveryMode&&this.props.triggerAccountRecoveryMode(e)}),j(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),j(this,"loadRecaptchaView",()=>{if("undefined"!=typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{const e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}),j(this,"handleLoginFailure",(e,t,n)=>{const{clearPassword:r,i18n:i,loadingIndicatorCallback:o,logContextEvent:a,desktopCoreLoginContext:{viewer:s}}=this.props,c=this.getAuxDataLoginMethod(e);Object(x.a)("unauth.login.error.LOGIN_FAILURE."+e),a({event_type:7535,aux_data:{...Object(g.a)(s.type),signup_login_method:c}}),o(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();const{http_status:l}=t,u=t.http_status===T.b?T.b:t.api_error_code;if(u===k.r)return void C.b.handleLoginMfa(n,t.data,this.props.onLoginWithMfa);if(u===T.b&&t.api_error_code===k.d&&t.message&&"!"!==t.message[t.message.length-1]&&!C.b.isExceedRecaptchaLocalLimit())return this.loadRecaptchaView(),void this.setState({passwordValidationError:i._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1});if(u===k.h&&l===T.a&&!C.b.isExceedRecaptchaLocalLimit())return this.loadRecaptchaView(),void this.setState({passwordValidationError:i._("Oops! You logged in too quickly. Please try again with the reCAPTCHA.","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha","Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha"),loading:!1});const d=C.b.getLoginErrorState(t,"login",this.props.email,f.a,this.updateAccountRecoveryModal);d?(this.setState({accountRecoveryModalType:E.a[u],...d,loading:!1}),r&&d.passwordValidationError&&r()):(i._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),Object(v.a)(i._("Sorry! Something went wrong on our end.")),this.setState({loading:!1}))}),j(this,"verifyCaptcha",()=>{const e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);C.b.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),C.b.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),j(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.setState({hideFBGoogleToolTip:!0})}),j(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.onPasswordChange&&this.props.onPasswordChange(e)}),j(this,"handleBlur",()=>{this.setState({googleValidationError:null})}),j(this,"handleExistingEmail",e=>{this.setState({isExistingEmail:e})}),j(this,"renderSocialButtons",()=>{const{disablePostSignupNextUrl:e,hideFacebookButton:t,hideGoogleButton:n,i18n:r,isAccountSwitch:o,isPersonalizedLoginFlyout:a,loadingIndicatorCallback:l,nextUrlParam:u,onLoginWithMfa:d,onSocialConnectVerified:p,shouldPreventRegister:h,onFBPhoneOnlyConnectVerified:f,container:g="unknown",showResponseMessageModal:m}=this.props,{hideFBGoogleToolTip:y}=this.state,_=!t&&i.a.createElement(s.a,{buttonText:r._("Continue with Facebook"),container:g,disablePostSignupNextUrl:e,isAccountSwitch:o,loadingIndicatorCallback:l,nextUrlParam:u,onFBPhoneOnlyConnectVerified:f,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onSocialConnectVerified:p,preventRegister:h?this.preventRegister:void 0,showResponseMessageModal:m,tooltip:null,useGestaltTooltip:!0}),v=!n&&i.a.createElement(c.a,{container:g,disablePostSignupNextUrl:e,isAccountSwitch:o,nextUrlParam:u,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,onSocialConnectVerified:p,preventRegister:h?this.preventRegister:void 0,showResponseMessageModal:m,tooltip:!y&&this.state.googleValidationError||null});let b=L.socialButtonSeparator,w=L.socialButtonContainer;return a&&(b={...L.socialButtonSeparator,height:!t&&!n?"8px":"0px"},w={...L.socialButtonContainer,marginTop:"9px"}),i.a.createElement("div",{style:w,"data-test-id":"login-options"},_,i.a.createElement("div",{style:b}),v)}),j(this,"renderPasswordResetLink",()=>{const{email:e,i18n:t,logContextEvent:n,desktopCoreLoginContext:{viewer:r}}=this.props,{isExistingEmail:o,passwordValidationError:a}=this.state;if(a&&i.a.isValidElement(a))return null;let s=L.passwordLinkContainer;return this.props.requestContext.isRTL&&(s={...L.passwordLinkContainer,float:"right"}),i.a.createElement("div",{style:s},i.a.createElement("a",{href:M+(e?"?q="+e:""),onClick:()=>{o&&Object(x.a)("unauth_web.login_modal.forgot_password_with_existing_email"),Object(x.a)("login_modal_forget_account"),Object(x.e)("click_forget_password"),n({event_type:101,element:10881,aux_data:{...Object(g.a)(r.type)}})},style:L.forgotPassword},t._("Forgot your password?","Desktop login modal link for users to recover their account","Desktop login modal link for users to recover their account")))}),j(this,"renderRegisterForm",()=>{const{email:e,hideEmailField:t,i18n:n,inputStyleOverrides:r,isAccountSwitch:o,loginButtonTextOverride:a,password:s,requestContext:c}=this.props,l=a||n._("Log in","Copy on the button to log in","Copy on the button to log in");return i.a.createElement(u.a,{buttonText:l,disableEmailLogin:this.props.disableEmailLogin,email:e,emailText:n._("Email","Placeholder text for email field","Placeholder text for email field"),emailValidationError:this.state.emailValidationError,handleExistingEmail:this.handleExistingEmail,hideEmailField:t,hideFacebookButton:this.props.hideFacebookButton,hideGoogleButton:this.props.hideGoogleButton,hidePasswordField:this.props.hidePasswordField,inputStyleOverrides:r,isRTL:!!c.isRTL,loading:this.state.loading&&!o,onButtonClick:this.handleButtonClick,onEmailBlur:this.handleBlur.bind(this),onEmailChange:this.handleEmailChange.bind(this),onPasswordChange:this.handlePasswordChange,password:s,passwordText:n._("Password"),passwordValidationError:this.state.passwordValidationError,renderPasswordResetLink:this.renderPasswordResetLink})}),j(this,"renderOriginalForm",()=>{const{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:n}=this.props,r=!(n||t&&e);return i.a.createElement(i.a.Fragment,null,this.renderRegisterForm(),r&&i.a.createElement(a.b,null),this.renderSocialButtons())}),j(this,"renderButtons",()=>this.renderOriginalForm()),this.state={accountRecoveryModalType:null,emailValidationError:e.emailValidationError||null,passwordValidationError:e.passwordValidationError||null,googleValidationError:null,loading:!1,isExistingEmail:!1,hideFBGoogleToolTip:!1};const{i18n:t}=e,n=t._("You missed a spot! Don't forget to add your email."),r=t._("Hmm...that doesn't look like an email address."),o=t._("Passwords can only include alphabet letters, numbers, and common punctuation characters.","Only ASCII characters are allowed for password","Only ASCII characters are allowed for password");this.emailValidators=[Object(D.o)({message:n}),Object(D.e)({message:r})];const l=t._("The password you entered is incorrect.");this.passwordValidators=[Object(y.b)({shortPassStr:l,samePasswordStr:l,blackPassStr:l})],this.asciiValidators=[Object(D.b)({message:o})]}componentDidMount(){const{isAccountSwitch:e,nextUrlParam:t,requestContext:n,showResponseMessageModal:r}=this.props;C.b.isFullyLoggedIn(n.isAuthenticated,n.loginState)&&!e&&(r?r(!1):C.b.handleRedirect(t)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}static getDerivedStateFromProps(e,t){const n=e.emailValidationError,r=e.passwordValidationError;return n&&n!==t.emailValidationError?{emailValidationError:n}:r&&r!==t.passwordValidationError?{passwordValidationError:r}:null}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}getAuxDataLoginMethod(e){return"facebook"===e?2:"google"===e?3:1}loginUser(e,t,n){const{container:r="unknown",email:i,flushContextEvents:a,isAccountSwitch:s,loadingIndicatorCallback:c,logContextEvent:u,pageContext:d,showResponseMessageModal:p,desktopCoreLoginContext:{viewer:h,getLoginContext:f}}=this.props;this.setState({loading:!0}),c(!0);const m=t||{username_or_email:i||"",password:this.props.password},y={container:r,hybridTier:d?d.hybridTier:void 0,page:d?d.pageType:void 0},_=this.getAuxDataLoginMethod(e);u({event_type:7534,aux_data:{...Object(g.a)(h.type),signup_login_method:_}}),S.c.pause(S.b),a(),Object(l.a)(m,f(),y,s,n,this.props.recaptchaV3Token||"default").then((e={})=>{u({event_type:7536,aux_data:{...Object(g.a)(h.type),signup_login_method:_}}),C.b.storeLoginCredentialsToBrowser(m);let t=this.props.nextUrlParam||C.b.defaultLoginRedirectUrl();if(s&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){const n=e.resource_response.data.user;Object(o.a)(n,"email",r),t="/"+n.username}else C.b.storeLoginCredentialsToBrowser(m);p?p(!1):C.b.handleRedirect(t)},t=>this.handleLoginFailure(e,t,m))}render(){const{email:e,requestContext:t,useWiderSocialButtons:n}=this.props,{country:r}=t;return i.a.createElement("div",{style:n?L.loginContainer:{...L.loginContainer,width:"280px"}},i.a.createElement(E.b,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),!this.props.hideTermsOfService&&i.a.createElement(h.a,{country:r,dark:!0}))}}function F(e){const{anyEnabled:t}=Object(w.a)("wider_fb_button_for_translations"),n=Object(O.b)(),{flushContextEvents:r,logContextEvent:o}=Object(b.b)(),a=Object(P.b)(),s=Object(I.d)();return i.a.createElement(_.a,null,({recaptchaV3Token:c,refreshToken:l})=>i.a.createElement(R,Object.assign({},e,{desktopCoreLoginContext:s,flushContextEvents:r,i18n:n,logContextEvent:o,pageContext:a,recaptchaV3Token:c,refreshRecaptchaV3Token:l,useWiderSocialButtons:t})))}},StuW:function(e,t,n){t.a=(e,t)=>{let n;return t.some(t=>{const r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)}),n}},T401:function(e,t,n){e.exports=function(e){return"handled"===e||!0===e}},T8I8:function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},TKJ6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.setClientOffset=function(e,t){return{type:r.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},TNox:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/QE7"),a=n("zwad"),s=n("n6mq");const c=Object(r.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:r,__dangerouslyDisableSpammyDomainCheck:c,disabled:l,fullHeight:u,fullWidth:d,externalData:p,href:h,onTap:f,onBlur:g,onFocus:m,onMouseEnter:y,onMouseLeave:_,onHistoryChange:v,mouseCursor:b,rounding:w,tabIndex:E,tapStyle:S,target:C}=e,x=a.a.isOffsiteUrl(h);return i.a.createElement(o.a,{__dangerouslyDisableSpammyDomainCheck:x?c:void 0,href:h,isExternalLink:x,externalData:x?p:void 0,onClick:f,onHistoryChange:x?void 0:v,target:x?void 0:C},({handleClick:e})=>i.a.createElement(s.U,{accessibilityLabel:n,disabled:l,href:h,fullHeight:u,fullWidth:d,mouseCursor:b,onTap:e,onBlur:g,onFocus:m,onMouseEnter:y,onMouseLeave:_,ref:t,rel:x?"nofollow":void 0,role:"link",rounding:w,tabIndex:E,tapStyle:S},r))});c.displayName="TapAreaLink",t.a=c},TPjH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}},TT16:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}},TWoB:function(e,t,n){var r=n("SQ0G");e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},Taje:function(e,t,n){e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,o,a){return t(e,o)||(n(e)&&r(i,a),i=a),o})),n(e.last())&&r(i,e.count())}}},TbPR:function(e,t,n){n.r(t);var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("gxu6"),s=n("OCob"),c=n("+7em"),l=n("Ye/N"),u=n("37no"),d=n("HRg/"),p=n("sv3x"),h=n("vjiL"),f=n("pfX0"),g=n("kmwA"),m=n("28DW"),y=n("zRck"),_=n("E+YF"),v=n("U4JR"),b=n("EC51"),w=n("n6mq");function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends r.Component{constructor(...e){super(...e),E(this,"state",{animationMinHeight:-1,showRegisterRequestLoading:!1}),E(this,"mountStyle",()=>this.setState({showRegisterRequestLoading:!0})),E(this,"requestAnimationFrameId",null),E(this,"handleLoginButtonClick",({event:e})=>{Object(m.a)(`unauth.google_one_tap.confirmation_dialog.${this.props.loggingId}.login_click`),this.clearDelayedSignupTimeout(),e&&(e.preventDefault(),e.stopPropagation()),this.props.handleLogin()})}componentDidMount(){const e=1e3*this.props.signupDelay;this.delayedSignupTimeoutId=window.setTimeout(()=>{Object(m.a)(`unauth.google_one_tap.confirmation_dialog.${this.props.loggingId}.signup_delay_timer_reached`),this.requestAnimationFrameId=window.requestAnimationFrame(this.mountStyle),this.props.handleSignup()},e)}componentWillUnmount(){this.clearDelayedSignupTimeout(),this.cancelAnimationFrame()}clearDelayedSignupTimeout(){this.delayedSignupTimeoutId&&window.clearTimeout(this.delayedSignupTimeoutId)}cancelAnimationFrame(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{animationMinHeight:e,showRegisterRequestLoading:t}=this.state,n={transitionProperty:"min-height",transitionDuration:"500ms",transitionTimingFunction:"ease-in-out"};if(e>=0){let i=e;t&&(i=0),Object.assign({},n,{minHeight:(r=i,r+"px")})}var r;return i.a.createElement("div",{style:n,ref:e=>{!e||this.state.showRegisterRequestLoading||this.state.animationMinHeight>0||this.setState({animationMinHeight:e.clientHeight})}},i.a.createElement(w.e,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:"center"},i.a.createElement(w.e,null,i.a.createElement(w.V,{align:"center",weight:"bold"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},t?l.a._("Finishing up...","Title of a dialog telling the user that an account is almost done being created.","Title of a dialog telling the user that an account is almost done being created."):l.a._("Creating your account...","Title of a dialog telling the user that an account is being created.","Title of a dialog telling the user that an account is being created.")))),i.a.createElement(w.e,{paddingY:4},i.a.createElement(w.O,{accessibilityLabel:l.a._("Account is being created","Accessibility label for account creation loading dialog","Accessibility label for account creation loading dialog"),show:!0})),t?null:i.a.createElement(w.e,{marginTop:2},i.a.createElement(w.V,{inline:!0,align:"center"},l.a._("Didn’t mean to create a new account?","Description text telling the user that they can log in if they did not intend to create a new account","Description text telling the user that they can log in if they did not intend to create a new account"))),t?null:i.a.createElement(w.e,null,i.a.createElement(w.V,{inline:!0,align:"center"},i.a.createElement(b.a,{inline:!0,href:"/login",onClick:this.handleLoginButtonClick},l.a._("Click here to log in.","Login button which will show the login modal and enable the user to log in","Login button which will show the login modal and enable the user to log in"))))))}}var C=S,x=n("b7nI"),O=n("Cs8u"),k=n("pLLR");function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I={modalOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},staticContinueButtonLoginLink:{cursor:"pointer",fontWeight:"normal"}},D="delayedSignupLoadingSpinner",P="staticSignupLogin",j="staticSignupLoginWithTOS";class M extends r.Component{constructor(...e){super(...e),T(this,"handleCancelClick",()=>{this.trackScopedAction("cancel.click"),Object(v.b)(101,{element:73,view:10,viewParameter:3202}),this.props.handleCancelClick()}),T(this,"handleConfirmSignup",()=>{this.trackScopedAction("confirm.click"),Object(v.b)(101,{element:31,view:10,viewParameter:3202}),this.props.handleConfirmSignup(!1)}),T(this,"handleConfirmSignupWithSpinner",()=>{this.trackScopedAction("confirm.click"),Object(v.b)(101,{element:31,view:10,viewParameter:3202}),this.props.handleConfirmSignup(!0)}),T(this,"handleShowLogin",()=>{this.trackScopedAction("login.click"),Object(v.b)(101,{element:30,view:10,viewParameter:3202}),this.props.handleShowLogin()})}componentDidMount(){Object(v.b)(120,{viewParameter:3202}),this.disableBackgroundScrolling(),this.trackScopedAction("shown")}componentWillUnmount(){this.enableBackgroundScrolling()}trackScopedAction(e){Object(m.a)(`unauth.google_one_tap.confirmation_dialog.${this.props.step}.${e}`)}disableBackgroundScrolling(){document.body&&(document.body.style.overflow="hidden")}enableBackgroundScrolling(){document.body&&(document.body.style.overflow="")}renderDelayedSignupConfirmation(e){return i.a.createElement(C,{signupDelay:e,handleLogin:this.handleShowLogin,handleSignup:()=>{this.handleConfirmSignup()},loggingId:D})}renderContentInModalContainer(e){const{layoutStyle:t,loading:n}=this.props;return"top"===t?i.a.createElement("div",{style:I.modalOverlay},i.a.createElement(w.e,{color:"white",direction:"column",display:"flex",margin:6,padding:7,position:"fixed",right:!0,rounding:2,top:!0,width:376},n?i.a.createElement(x.a,null):null,e)):i.a.createElement("div",{style:I.modalOverlay},i.a.createElement(w.e,{bottom:!0,color:"white",direction:"column",display:"flex",height:168,padding:7,position:"fixed",width:"100%"},n?i.a.createElement(x.a,null):null,e))}renderStaticSignupLoginConfirmation(e){const{country:t}=this.props;return i.a.createElement(w.e,null,i.a.createElement(w.e,{display:"inlineBlock",position:"absolute",top:!0,right:!0,marginTop:2,marginEnd:2},i.a.createElement(w.u,{accessibilityLabel:l.a._("Cancel","Button to close the signup/login modal","Button to close the signup/login modal"),icon:"cancel",onClick:this.handleCancelClick,size:"sm"})),i.a.createElement(w.V,{align:"left",weight:"bold"},i.a.createElement("span",{className:"deprecatedTextSizeXL"},l.a._("Continue to Pinterest","Title of a dialog telling enabling the user to continue with sign up or log in","Title of a dialog telling enabling the user to continue with sign up or log in"))),i.a.createElement(w.e,{marginTop:2},i.a.createElement(w.V,{align:"left"},l.a._("Hmm, it looks like you don't have an account yet. Let's get started!","Description text of a dialog asking the user to sign up for a Pinterest account","Description text of a dialog asking the user to sign up for a Pinterest account"))),i.a.createElement(w.e,{marginTop:5},i.a.createElement(w.f,{color:"red",onClick:this.handleConfirmSignupWithSpinner,text:l.a._("Sign up","Text on a button which will create an account when clicked","Text on a button which will create an account when clicked")})),i.a.createElement(w.e,{marginTop:2},i.a.createElement(w.f,{color:"gray",onClick:this.handleShowLogin,text:l.a._("Log in using a different method","Text on a button which will take the user to login when clicked.","Text on a button which will take the user to login when clicked.")})),e?i.a.createElement(w.e,{marginTop:4,marginStart:4,marginEnd:4},i.a.createElement(O.a,{country:t,dark:!0})):null)}render(){if(this.props.shouldHide)return null;let e=null;return this.props.step===D?e=this.renderDelayedSignupConfirmation(this.props.delayedSignupLoadingSpinnerDuration):this.props.step===P?e=this.renderStaticSignupLoginConfirmation(!1):this.props.step===j&&(e=this.renderStaticSignupLoginConfirmation(!0)),this.renderContentInModalContainer(e)}}function A(e){const t=Object(k.d)(),{country:n}=t;return i.a.createElement(M,Object.assign({},e,{country:n}))}const L="disableUnauthGoogleOneTap";var R=n("J8m7"),F=n("VL22"),B=n("h7e3"),z=n("ANjH"),N=n("4NNh"),U=n("fgHc");function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=["US","CA","NZ","AU"];class q extends r.Component{constructor(e){super(e),V(this,"annotateOneTapStopwatch",e=>Object(B.b)("google_autologin",e)),V(this,"abortOneTapStopwatch",e=>Object(B.a)("google_autologin",e)),V(this,"stopOneTapStopwatch",()=>Object(B.d)("google_autologin")),V(this,"inPersonalizedButtonEarlyLoadScriptExp",()=>{const{requestContext:{seoUnauthExperiments:e}}=this.props,{anyEnabled:t}=e.getWithoutActivation("web_unauth_gsi_button");return t}),V(this,"onRetrieveCredentialsSuccess",(e,t)=>{a.b(L,"1",168),this.showLoading(),this.trackGoogleOneTapAction("success");const n={google_open_id_token:e,autologin:"auto"===t};this.login(n).then(e=>{this.onLoginSuccess(e)},e=>{this.onLoginFailure(n,t,e)}),this.trackSignupLoginEvent(7534)}),V(this,"onLoginSuccess",(e={})=>{const{nextUrl:t}=this.props;this.trackGoogleOneTapAction("login.success"),this.trackSignupLoginEvent(7536),t?p.b.handleRedirect(t):p.b.handleRedirectWithFallbackWindowLocation()}),V(this,"onLoginFailure",(e,t,n)=>{const{handleLoginError:r,handle2FALogin:i}=this.props;this.hideLoading();const o=n&&n.api_error_code||0;if(this.trackGoogleOneTapAction("login.error."+o),this.trackSignupLoginEvent(7535),o===R.t)"btn"===t?(this.setState({googleOpenId:e.google_open_id_token}),this.attemptSignup(!1)):this.showConfirmationDialog(e);else if(o===R.r)i({gplus_id_token:e.google_open_id_token});else if(o===R.v)this.setState({showAccountSuspended:!0});else{const e=l.a._("We couldn’t log you in with that account. Try the Google button!");Object(_.a)(e),r(n)}}),V(this,"onSignupSuccess",e=>{this.trackGoogleOneTapAction("signup.success"),this.trackSignupLoginEvent(7487),p.b.handleSignupRedirect("/")}),V(this,"onSignupFailure",e=>{const t=e&&e.api_error_code||0;this.trackGoogleOneTapAction("signup.error."+t),this.trackSignupLoginEvent(7488),this.hideLoading(),this.hideConfirmationDialog();const n=l.a._("We couldn’t sign you up with that account. Try the Google button!");Object(_.a)(n),this.props.handleSignupError()}),V(this,"trackGoogleOneTapAction",e=>{Object(m.a)("unauth.google_one_tap."+e)}),V(this,"handleCancelOneTap",()=>{this.hideConfirmationDialog()}),V(this,"inMandatoryAgeStepENCountriesExperiment",()=>{const{requestContext:{country:e,seoUnauthExperiments:t}}=this.props;return W.includes(e)&&(t.v2ActivateExperiment("web_unauth_mandatory_age_step_got_en")||"").startsWith("enabled")}),V(this,"attemptSignup",e=>{const{handleSignupConfirmed:t,pageContext:n,requestContext:r}=this.props;e&&this.showLoading();const{googleOpenId:i}=this.state,o=Object(N.b)(i),a={google_open_id_token:i,first_name:o.given_name,last_name:o.family_name,image_url:o.picture,container:y.h,hybridTier:null==n?void 0:n.hybridTier,page:null==n?void 0:n.pageType};t&&(Object(F.d)(r.country)||this.inMandatoryAgeStepENCountriesExperiment())?t(F.a.GOOGLE_ONE_TAP,{},a):(r.experiments.flush(),Object(h.a)(a).then(this.onSignupSuccess,this.onSignupFailure),this.trackSignupLoginEvent(7537))}),V(this,"renderGoogleConfirmationDialog",(e,t)=>i.a.createElement(A,{delayedSignupLoadingSpinnerDuration:2,handleCancelClick:this.handleCancelOneTap,handleConfirmSignup:this.attemptSignup,handleShowLogin:this.props.handleShowLogin,layoutStyle:e,loading:this.state.loading,shouldHide:this.props.shouldHide,step:t})),this.state={confirmationDialogStep:void 0,googleOpenId:"",loading:!1,showAccountSuspended:!1}}componentDidMount(){const{pageContext:e,requestContext:t}=this.props;"1"!==a.a(L)&&!a.a("fba")||!t.isBot&&a.a("fba")?(this.setupGoogleOneTap(),t.isBot||Object(m.a)(`unauth_web_container.${y.h}.${String(null==e?void 0:e.hybridTier)}.other.shown`)):this.abortOneTapStopwatch("disabled")}componentDidUpdate(e){this.props.shouldHide&&!e.shouldHide&&this.hide()}informPersonalizedButtonListener(){c.a.initGSIClientIsInitialized(!0)}initializeGoogleOneTap(){this.trackGoogleOneTapAction("sdk_exists");const e=window.google.accounts.id;e.initialize({client_id:g.a.settings.GPLUS_CLIENT_ID,auto_select:!a.a("fba"),callback:this.handleOneTapResponse.bind(this),cancel_on_tap_outside:!1,context:"use",activity_listener:this.handleActivity.bind(this)}),this.props.dispatch({type:"GOOGLE_ONE_TAP_INITIALIZED",payload:{}}),this.trackGoogleOneTapAction("initialize"),e.prompt(this.handleMomentNotification.bind(this)),this.informPersonalizedButtonListener()}getGoogleId(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.id}setupGoogleOneTap(){const e=this.getGoogleId();this.inPersonalizedButtonEarlyLoadScriptExp()?e&&this.initializeGoogleOneTap():(this.annotateOneTapStopwatch("beforeLoadOneTapScript"),Object(m.a)("web_unauth.gsi_script.start_dynamic_loading"),Object(u.b)(N.a).then(()=>{this.annotateOneTapStopwatch("afterLoadOneTapScript"),this.trackGoogleOneTapAction("gsi_script_loaded");const e=window.google;e&&e.accounts&&e.accounts.id?this.initializeGoogleOneTap():this.abortOneTapStopwatch("noAccountFound")}))}handleMomentNotification(e){const t=e.getMomentType();if("display"===t){e.isDisplayed()?this.trackGoogleOneTapAction("display_moment.displayed"):this.trackGoogleOneTapAction("display_moment.not_displayed."+e.getNotDisplayedReason())}else"skipped"===t?this.trackGoogleOneTapAction("skipped_moment."+e.getSkippedReason()):"dismissed"===t&&this.trackGoogleOneTapAction("dismissed_moment."+e.getDismissedReason())}handleOneTapResponse(e){if(e){this.stopOneTapStopwatch();const t=e.select_by;this.trackGoogleOneTapAction("select_by."+t),this.onRetrieveCredentialsSuccess(e.credential,t)}else this.abortOneTapStopwatch("noResponse")}handleActivity(e){if(e){if("error"===e.type)return this.trackGoogleOneTapAction("error."+e.errorType),this.handleEmptyCredentials(),void this.props.dispatch({type:"GOOGLE_ONE_TAP_FAILED",payload:{}});const t="ui_change"===e.type?e.uiActivityType:e.userActivityType;this.trackGoogleOneTapAction(`activity.${e.type}.${t}`),"close_prompt"===t&&this.handleEmptyCredentials()}}handleEmptyCredentials(){this.props.handleEmptyCredentials&&this.props.handleEmptyCredentials()}hide(){this.hideConfirmationDialog()}trackSignupLoginEvent(e){const{viewer:t}=this.props;t.isAuth?Object(v.b)(e,{login_state:t.isLimitedLogin?2:1,signup_login_method:4}):Object(v.b)(e,{signup_login_method:4})}login(e){const{pageContext:t}=this.props,n={container:y.h,hybridTier:null==t?void 0:t.hybridTier,page:null==t?void 0:t.pageType};return Object(d.a)(e,Object(s.a)(),n)}showConfirmationDialog(e){const{container:t}=this.props;let n;n="InspiredWallSignup"===t?P:"login_page"===t?j:e.autologin?P:D,this.setState({googleOpenId:e.google_open_id_token,confirmationDialogStep:n})}hideConfirmationDialog(){this.setState({confirmationDialogStep:void 0})}showLoading(){this.setState({loading:!0})}hideLoading(){this.setState({loading:!1})}render(){const{requestContext:e}=this.props,{showAccountSuspended:t}=this.state;if(e.isBot)return null;if(t)return i.a.createElement(f.a,{onClose:()=>this.setState({showAccountSuspended:!1})});this.inMandatoryAgeStepENCountriesExperiment();const{confirmationDialogStep:n}=this.state;if(n){const e="top";return this.renderGoogleConfirmationDialog(e,n)}return null}}var K=Object(z.compose)(U.c,k.e,Object(o.connect)(e=>({viewer:e.viewer})))(q);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends r.Component{constructor(...e){super(...e),H(this,"state",{showGoogleOneTap:!0}),H(this,"hide",()=>{this.setState({showGoogleOneTap:!1})}),H(this,"reportFailureToShow",()=>{this.props.handleFailureToShow&&this.props.handleFailureToShow()})}render(){const{showGoogleOneTap:e}=this.state,{container:t,handleSignupConfirmed:n,handleLoginError:r,handleLoginWithMfa:o,handleSignupError:a,handleShowLogin:s,nextUrl:c,shouldHide:l}=this.props;return e?i.a.createElement(K,{container:t,handleEmptyCredentials:this.hide,handle2FALogin:e=>{this.hide(),o(e)},handleLoginError:e=>{this.hide(),r(e)},handleSignupConfirmed:(e,t,r)=>{this.hide(),n&&n(e,t,r)},handleSignupError:()=>{this.hide(),a()},handleShowLogin:()=>{this.hide(),s()},nextUrl:c,reportFailureToShow:this.reportFailureToShow,shouldHide:l}):null}}H(G,"defaultProps",{container:"unknown",shouldHide:!1});t.default=G},TlXQ:function(e,t,n){var r=n("lFJn"),i=n("zVay").List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},"TzU/":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("qnky"),o=n("zVay"),a=n("2NuI"),s=n("Hpvj"),c=(0,o.Map)(),l=s();function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var d={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),d.__getLastCreatedEntityKey()},create:function(e,t,n){return u("DraftEntity.create","contentState.createEntity"),d.__create(e,t,n)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),d.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),d.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,l=s()},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),d.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),d.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return l},__create:function(e,t,n){return d.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){return l=s(),c=c.set(l,e),l},__get:function(e){var t=c.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=d.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",i);return c=c.set(e,o),o},__replaceData:function(e,t){var n=d.__get(e).set("data",t);return c=c.set(e,n),n}};e.exports=d},U4W0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t.HandlerRole||(t.HandlerRole={}))},U84a:function(e,t,n){var r=n("dyxW"),i=n("jLRO").strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,a){var s=e.getText(),c=e.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(t[r.stringify(c)])})})),n}},UDft:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("RNo4");const i="adcredits",o=e=>e&&e.search&&Object(r.k)(e.search).utm_medium===i,a=e=>e&&e.search&&Object(r.k)(e.search).utm_medium?"utm_medium="+Object(r.k)(e.search).utm_medium:""},UJTY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("/acK"),o=n("493B");t.useDragLayer=function(e){var t=i.useDragDropManager().getMonitor(),n=o.useCollector(t,e),a=n[0],s=n[1];return r.useEffect((function(){return t.subscribeToOffsetChange(s)})),r.useEffect((function(){return t.subscribeToStateChange(s)})),a}},UevE:function(e,t,n){e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},Undz:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"]},"Up+5":function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("A0Lk"),i=n.n(r),o=n("7w6Q");function a(e){if("undefined"==typeof window||!document.head)return o.a.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const t=document.head,n=[];return e.forEach(e=>{e.styles.forEach(r=>{let o=document.querySelector(`#${e.fontFamily}-${r.name}`);if(!o){if(o=document.createElement("style"),o.setAttribute("id",`${e.fontFamily}-${r.name}`),t.appendChild(o),e.format&&r.fontUrl&&o&&o.sheet){o.sheet.insertRule(`\n            @font-face {\n              font-family: "${e.fontFamily}";\n              font-style: "${r.fontStyle}";\n              font-weight: "${r.fontWeight}";\n              src: url("${r.fontUrl}") format("${e.format}");\n            }\n          `,0)}n.push(new i.a(e.fontFamily,{style:r.fontStyle,weight:r.fontWeight}).load())}})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{o.a.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)})}},V8dp:function(e,t,n){var r=n("JL7T"),i=n("rJY1"),o=n("zVay").OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),l=r.getChildKeys(),u=r.getParentKey(),d=i();if(n[a]=d,s&&(e.get(s)?e.setIn([s,"prevSibling"],d):e.setIn([a,"nextSibling"],null)),c&&(e.get(c)?e.setIn([c,"nextSibling"],d):e.setIn([a,"prevSibling"],null)),u&&e.get(u)){var p=e.get(u).getChildKeys();e.setIn([u,"children"],p.set(p.indexOf(r.getKey()),d))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],d),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);l.forEach((function(t){e.get(t)?e.setIn([t,"parent"],d):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},VL22:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("17x9"),i=n.n(r),o=n("kmwA");const a={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},s=e=>e.facebook_id?a.FACEBOOK:e.google_open_id_token?a.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?a.GOOGLE:e.email?a.EMAIL:a.OTHER,c=(i.a.shape({credentials:i.a.shape({}),userData:i.a.shape({}),type:i.a.oneOf(Object.values(a))}),(e="")=>e in o.a.settings.MINIMUM_AGE_BY_EU_COUNTRY),l=e=>o.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||o.a.settings.LATAM_AGE_COLLECTION.has(e)},VSmT:function(e,t,n){var r,i=n("I8OZ"),o=n("zVay"),a=n("gWRK"),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),l=s(n.keySeq().zip(c));return null!=t&&o.is(t,l)?t:l}};e.exports=c},VTBg:function(e,t,n){var r=n("JL7T");e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var o=t.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?t.get(a):null}return o?o.getNextSiblingKey():null}},VbOu:function(e,t,n){n.d(t,"a",(function(){return l}));var r=n("q1tI"),i=n.n(r),o=n("7l+q"),a=n("qD10"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.PureComponent{constructor(...e){super(...e),c(this,"parseText",()=>{const{tags:e,taggedUsers:t,text:n,size:r}=this.props;if(!e.length||!t||e.length!==t.length)return this.renderRegularText(n,"1");let o=0,a=[];return e.forEach((e,t)=>{const r=n.substring(o,e.offset);o=e.offset+e.length;const i=n.substring(e.offset,o);a=a.concat(this.renderRegularText(r,t+"a")).concat(this.renderTaggedText(i,t,t+"b"))}),a=a.concat(this.renderRegularText(n.substring(o),"2")),i.a.createElement(s.V,{inline:!0,size:r,overflow:"normal"},a)}),c(this,"renderRegularText",(e,t)=>i.a.createElement(s.V,{key:t,inline:!0,size:this.props.size,overflow:"normal"},this.props.allowLink?i.a.createElement(o.a,null,e):e)),c(this,"renderTaggedText",(e,t,n)=>i.a.createElement(a.a,{key:n,stopPropagation:!0,to:"/"+this.props.taggedUsers[t].username},i.a.createElement(s.V,{color:"blue",inline:!0,size:this.props.size,weight:"bold",overflow:"normal"},e)))}render(){return i.a.createElement("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},this.parseText())}}c(l,"defaultProps",{allowLink:!0,size:"md"})},Vbul:function(e,t,n){n.d(t,"a",(function(){return A}));var r=n("q1tI"),i=n.n(r),o=n("FDmi"),a=n("Ye/N"),s=n("qD10"),c=n("vvax"),l=n("28DW"),u=n("n6mq");const d={demiBold:{fontWeight:"600"}},p=()=>{Object(l.e)("click_best_pin_board",!0)},h=()=>{Object(l.e)("click_best_pin_profile",!0)},f=e=>{const{pinner:t}=e,{username:n,full_name:r}=t,a=t.image_medium_url||t.image_small_url,s=`/${n}/`;return i.a.createElement("a",{href:s,onClick:h},i.a.createElement(o.a,{size:"sm",src:a,name:r,outline:!0}))},g=e=>{const{board:t,pinner:n}=e,{name:r,privacy:o,url:l}=t,{username:f,full_name:g}=n,m=`/${f}/`,y=i.a.createElement("a",{key:"pinner",href:m,onClick:h},i.a.createElement(u.V,{inline:!0,size:"md"},i.a.createElement("span",{style:d.demiBold},g)));return"protected"===o?Object(c.b)(a.a._("{{ pinnerName }} saved this Pin","Showing who saved this pin, but not which board (private board), on closeup","Showing who saved this pin, but not which board (private board), on closeup"),{pinnerName:y}):Object(c.b)(a.a._("{{ pinnerName }} saved to {{ boardName }}","Showing who saved this pin to which board on closeup","Showing who saved this pin to which board on closeup"),{pinnerName:y,boardName:i.a.createElement(s.a,{key:"board",to:l,onClick:p},i.a.createElement(u.V,{inline:!0,size:"md"},i.a.createElement("span",{style:d.demiBold},r)))})};var m=e=>{const{pin:t}=e,{pinner:n={},board:r={}}=t;return i.a.createElement(u.e,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution"},i.a.createElement(f,{pinner:n}),i.a.createElement(u.e,{marginEnd:2}),i.a.createElement(u.V,{size:"md"},i.a.createElement(g,{board:r,pinner:n})))},y=n("U4JR"),_=n("7jH2"),v=n("AsgO");function b({pageType:e,pinCreditPrefix:t,pin:n,pinLink:r}){if(!n.domain||"Uploaded by user"===n.domain)return null;const o="topic"!==e.page||e.isAuth?"sm":"md";return i.a.createElement(u.e,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2},i.a.createElement("a",{href:r,rel:"nofollow noopener noreferrer",target:"_blank",onClick:()=>{"topic"===e.page?Object(l.e)("click_topic_best_pin_link"):Object(y.b)(12,{objectId:n.id,view:3,component:85,viewParameter:Object(_.d)(Object(_.p)({pin:n}))})}},i.a.createElement(u.V,{size:o},Object(c.b)(a.a._("{{ pinCreditPrefix }} {{ pinCredit }}",'Tells the user where the pin is from in the form of "Saved from <website>"','Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:i.a.createElement(u.V,{inline:!0,key:"pinLinkDomain",size:o,weight:"bold"},"topic"===!e.page?i.a.createElement("span",{onMouseOver:v.a,onMouseLeave:v.b,onFocus:v.a,onBlur:v.b}," ",n.domain):n.domain)}))))}var w=n("Hrat"),E=n("oRao"),S=n("nj6m"),C=n("1L7e"),x=n("wzxk"),O=n("QCxT"),k=n("MNxV"),T=n("YxyV");const I={fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},D={fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},P=e=>(e||[])[0]||null,j=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const n=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let n=null;return e.created_at&&(n=new Date(e.created_at)),t?n?t>n?t:n:t:n})(e);if(n&&n.getFullYear()===(new Date).getFullYear()){const r=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),o=e.category;r.has(o)&&(t=n?i.a.createElement(k.b,{value:n,dateFormatType:k.a.LONG_MONTH_YEAR,useUTC:!1}):"")}return t},M=e=>{var t;if((null===(t=e.aggregate_rating)||void 0===t?void 0:t.rating_value)&&e.aggregate_rating.review_count){var n,o,a;const t=void 0!==(null===(n=e.cook_times)||void 0===n||null===(o=n.cook)||void 0===o?void 0:o.m)&&void 0!==(null===(a=e.cook_times.prep)||void 0===a?void 0:a.m)?e.cook_times.cook.m+e.cook_times.prep.m+" minutes · ":"";return i.a.createElement(r.Fragment,null,i.a.createElement(S.a,{key:e.aggregate_rating.rating_value,rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12}),i.a.createElement(u.V,{inline:!0,size:"md"},` ${e.aggregate_rating.review_count} · ${t}`))}return null};function A(e){var t;const{pin:n,renderAttribution:r,renderVaseTags:o,viewportSize:a,pageType:s}=e,{image:c,link:l,prefixText:d,subtitle:p,title:h,pinCreditPrefix:f,pinLink:g}=Object(w.a)(n),{description:y,vaseAnnotations:_,annotationsWithLinks:v}=Object(T.c)(n),S="wide"===a,A=v.map(e=>e.name);let L=Object(x.b)(n)||P(_)||P(A);!L&&n.title&&(L=n.title),(n.grid_title||"").trim()&&L!==n.grid_title&&(L=n.grid_title);const R=Object(O.a)(n)&&(null===(t=n.rich_metadata)||void 0===t?void 0:t.recipe),F=!!((B=n).rich_metadata&&B.rich_metadata.article&&B.rich_metadata.article.date_published)&&((e,t)=>{const n=new Date(e.rich_metadata.article.date_published),r=n.getTime(),o=(new Date).getTime();return null==t||o-r<=31536e6*t?i.a.createElement(k.b,{value:n,dateFormatType:k.a.LONG_MONTH_YEAR,useUTC:!1}):""})(n,2);var B;const z=j(n)||F,N="closeup"===s.page,U=!s.isAuth&&"topic"===s.page,V=U?"12px":"14px",W=N?i.a.createElement("h1",{style:D,"data-test-id":"UnauthBestPinCardTitle"},L):i.a.createElement("h2",{style:D,"data-test-id":"UnauthBestPinCardTitle"},L),q=i.a.createElement(u.e,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,"data-test-id":"pin-attribution"},r?r({image:c,link:l,prefixText:d,subtitle:p,title:h}):i.a.createElement(m,{pin:n}),i.a.createElement(u.e,{display:"flex",justifyContent:"end"},!U&&(!n.repin_count||n.repin_count<1?null:i.a.createElement(u.e,{alignItems:"center",display:"flex"},i.a.createElement(u.t,{icon:"pin",accessibilityLabel:"Pin",color:"gray",size:12}),i.a.createElement(u.V,{color:"darkGray",inline:!0,size:"sm"},i.a.createElement(E.a,{value:n.repin_count,shortform:!0,shortformMaximumFractionDigits:1}))))));return i.a.createElement(u.e,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow"},i.a.createElement(u.e,{position:"relative",direction:"column",display:"flex",flex:"grow"},i.a.createElement(b,{pageType:s,pin:n,pinCreditPrefix:f,pinLink:g}),i.a.createElement(u.e,{display:"flex",direction:"row",justifyContent:"between"},i.a.createElement(u.e,{display:"flex",overflow:"hidden",marginEnd:S?0:3,marginTop:S?3:0},L&&W)),z?i.a.createElement(u.e,{marginTop:1},i.a.createElement(u.V,{color:"gray"},z)):null,y&&i.a.createElement(u.e,{display:"flex",overflow:"hidden",marginTop:3},N?i.a.createElement("h2",{style:{...I,fontSize:V}},R&&M(R),y):i.a.createElement("h3",{style:{...I,fontSize:V}},R&&M(R),y)),"closeup"===s.page&&q,R&&i.a.createElement(C.a,{marginOverrides:R?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:R.categorized_ingredients,name:R.name,image:Object(T.d)(n)}}}),o&&o(v||[]),"closeup"!==s.page&&q))}},VpfY:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return f}));var r=n("RHD0"),i=n("7jH2"),o=n("Y8Sn");function a(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function s(e){var t,n;return!Object(o.j)(e.videos)&&!Object(o.i)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function c(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n?void 0:n.is_realtime)}function u(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:r}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===r)&&!e.is_promoted||t}function p(e,t){const{is_native:n,native_pin_stats:r}=e,o=r||{},a=Object(i.p)({pin:e}),{video:l}=Object(i.x)(a)||{};return d(e)||u(e)||n&&l&&e&&e.link||Object.keys(o).length>0&&!s(e)&&!c(e)||e.promoter&&e.is_promoted&&!t}function h(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const f=({viewer:e,pin:t})=>Object(r.b)(e)&&t.is_quick_promotable_by_pinner},Vs9j:function(e,t,n){n.r(t);var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("apFM"),s=n("2MPc"),c=n("L2Gz"),l=n("n6mq"),u=n("yjg8");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{constructor(...e){super(...e),d(this,"state",{insertedBestPinsImages:[],insertedTopicImages:[],loading:!0,pinImages:[],seoPinImage:void 0}),d(this,"insertExtraImages",e=>this.setState({...e})),d(this,"getSEOPinImageToInsert",()=>{const{inNux:e,inRenux:t}=this.props;return e||t?this.getUnauthPinImages()[0]:void 0}),d(this,"getUnauthPinImages",(e=!1)=>{const t=e?s.a.getUnauthSessionsPins():s.a.getUnauthPins(),n=new Set;return t.filter(e=>e.images&&e.images["236x"]).map(e=>e.images["236x"]).filter(e=>{const t=n.has(e.url);return n.add(e.url),!t})}),d(this,"renderPinImage",e=>{const{data:t}=e,{height:n,url:r,width:o}=t;return i.a.createElement(l.A,{rounding:4,wash:!0},i.a.createElement(l.v,{alt:"pin-image",src:r,naturalWidth:o,naturalHeight:n}))}),d(this,"getBackgroundImages",()=>{const{insertedBestPinsImages:e,insertedTopicImages:t,pinImages:n,seoPinImage:r}=this.state,i=t.length+(r?1:0);let o=[];return o=o.concat(r||[]),o=o.concat(e),o=o.concat(t),o=o.concat(n.slice(i)),o})}componentDidMount(){const{defaultPinImages:e}=this.props,t=e?[...e]:a.a,n=this.getSEOPinImageToInsert();n&&t.unshift(n),this.setState({loading:!1,pinImages:t,seoPinImage:n})}componentDidUpdate(e){const{inNux:t,inRenux:n,nuxSelectedInterestImages:r,nuxStep:i}=this.props,o=e.nuxSelectedInterestImages,{seoPinImage:a}=this.state;if(o&&r&&o!==r){let e=[];if(t){r.length>o.length&&t&&(e=r[r.length-1].bestPinsImages||[])}const s=(t||n)&&"topic"===i&&0===e.length?r.filter(e=>!a||Object(c.d)(e)!==Object(c.d)(a)):[];this.insertExtraImages({insertedTopicImages:s,insertedBestPinsImages:e})}}render(){const{isFlexible:e}=this.props,{loading:t}=this.state,n=this.getBackgroundImages();return!t&&n&&i.a.createElement(l.e,{bottom:!0,left:!0,maxHeight:2500,overflow:"hidden",paddingY:6,paddingX:5,position:"absolute",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}}},i.a.createElement(l.B,{comp:e=>this.renderPinImage(e),flexible:!!e,gutterWidth:Object(u.m)(!0,!0),items:n,minCols:u.i}))}}t.default=Object(o.connect)(e=>({nuxSelectedInterestImages:e.ui.nuxSelectedInterestImages&&e.ui.nuxSelectedInterestImages.images,nuxStep:e.ui.nuxProgress&&e.ui.nuxProgress.step}),()=>({}))(p)},Vt0H:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("PioT"),s=n("Ye/N"),c=n("51gp"),l=n("XtwW"),u=n("9pre"),d=n("vZlu"),p=n("ptXI"),h=n("WnLB"),f=n("y2Ga"),g=n("pf20"),m=n("n6mq");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends r.Component{constructor(...e){super(...e),y(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!a.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),y(this,"setVideoPwtLoadingStop",(e=!1)=>{const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:r}=this.props;t&&l.a&&(t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan("perceived_video_load",null,l.a.now()),t.stop()),r&&l.a&&(r.addBinaryAnnotation("pin.id",n,"STRING"),r.addBinaryAnnotation("video",!0,"BOOL"),r.markConstraintComplete(h.e),r.addSubspan("perceived_video_load",null,l.a.now()),r.metricId.segment===h.d&&r.removeConstraint(h.c))}),y(this,"componentDidMount",()=>{const{customThumbnail:e,video:t}=this.props,n=t.mp4,r=t.hlsv3||t.hls||null,{thumbnail:i}=r||n||{},o=(a=e||i,document.querySelector(`video[poster="${a}"]`)||null);var a;4===(null==o?void 0:o.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),y(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),y(this,"handleTouch",({event:e})=>{const{seeking:t}=this.state;t||this.setState(e=>({playing:!e.playing}))}),y(this,"handleShowControls",()=>this.setState({controls:!0})),y(this,"handleHideControls",()=>this.setState({controls:!1})),y(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),y(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:r,loop:i}=this.props;var o;e.stopPropagation(),i||(this.setState({playing:!1}),(o=t)&&o.endsWith(".gif")||(this.setState({showEndCard:!0}),r({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen())}),y(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),y(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),y(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),y(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),y(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),y(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),y(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),y(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),y(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),y(this,"renderCloseupVideoEndCard",(e,t,n,r)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return r?i.a.createElement(p.b,o):i.a.createElement(p.a,Object.assign({},s,o))})}render(){const{contextLogData:e={component:179,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:r,onTimeChange:o,objectFit:l,preload:d,showControls:p,variant:h,video:f,videoStartTime:g}=this.props,{controls:y,fullscreen:_,playing:v,showEndCard:b,volume:w}=this.state,E=a.b.isSafari(),S=f.hlsv3||f.hls||null;if(!S&&!f.mp4)return null;const C=f.mp4,x=S?[{type:"video/m3u8",src:S.url}]:[{type:"video/mp4",src:(C||{}).url}],{height:O,thumbnail:k,width:T}=S||C||{},I=t||k;return i.a.createElement(m.A,{willChangeTransform:!(E&&_),rounding:"default"===h?0:2,wash:!0},b?this.renderCloseupVideoEndCard(I,O,T,n):i.a.createElement(m.U,{onMouseEnter:p?this.handleShowControls:void 0,onMouseLeave:p?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2},i.a.createElement(c.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:T/O,captions:"",controls:y,hlsConfig:{startLevel:u.a},objectFit:l,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:o,onVolumeChange:this.handleVolumeChange,playing:v,preload:d,poster:I,src:x,videoStartTime:g,volume:w,loop:r})))}}y(_,"defaultProps",{loop:!1,showControls:!0});t.a=Object(o.connect)((e,t)=>{const{pinId:n,isPromoted:r}=t,i=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:a}=i;let s=null;return s=r?a[n]:o[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(d.c)(t))}))((function(e){const t=Object(g.b)(),n=Object(f.c)();return i.a.createElement(_,Object.assign({},e,{pwtSurfaceContext:n,storyPinStepStopwatch:t}))}))},Vzit:function(e,t,n){function r(){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0}}}function i(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function o(e,t={},n=!1,r){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,inBypassExistingExperienceExpt:n,targeting:r}}}function a(e,t,n={},r=!1){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t,inBypassExistingExperienceExpt:r}}}function s(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function c(e,t,n=!1,r){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:r}}}function l(e,t,n=!1,r=!1,i={},o=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:r,extraContext:i,completeOnUnmount:o,targeting:a}}}function u(e,t,n=!1,r=!1,i){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:r,targeting:i}}}function d(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function p(e,t={},n=!1,r=!1,i){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,isServerSideRender:n,inBypassExistingExperienceExpt:r,targeting:i}}}function h(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h}))},WJOU:function(e,t,n){var r=n("FcOR"),i=n("3sOJ"),o=n("0IKU"),a=n("Zgb7");e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=a(n,o(e)),c=s.selectionState;c!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,c):i.acceptSelection(n,c),e.update(n))}}},WLG0:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("q1tI"),a=n("CYTE"),s=n("2NuI"),c=n("GyOf"),l=a.isBrowser("IE <= 11");var u=function(e){var t,n;function a(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=a.prototype;return u.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||s(!1);var r=t;return n?!function(e){return l?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},l?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return l?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(o.Component);e.exports=u},WPzw:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("q1tI"),a=(r=o)&&r.__esModule?r:{default:r},s=n("tXUN"),c=n("v83y");t.default=function(e,t,n){var r=(0,s.List)(e).map((function(e){var r=e.component;return i({},e,{component:function(e){return a.default.createElement(r,i({},e,{getEditorState:t,setEditorState:n}))}})})).toJS();return new c.CompositeDecorator(r)}},WaGC:function(e,t,n){e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},WgbR:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("uVIr"),i=n("eOdZ"),o=n("KFEb"),a=n("prCw"),s=n("tiNQ"),c=n("BJm1"),l=n("xmd6");const u={[l.a.aggregatedComment]:"AggregatedCommentReplyResource",[l.a.pin]:"AggregatedCommentResource",[l.a.didIt]:"DidItCommentsResource"};function d({fromUnifiedComment:e,objectId:t,objectType:n,pinId:l,replyToCommentId:d,tags:p,text:h,updateParentCommentCount:f}){return async g=>{const m=u[n],y={objectId:t,pinId:l,tags:p,text:h,replyToCommentId:d},_="pin"===n&&e?o.a.UNIFIED_COMMENTS:o.a.AGGREGATED_COMMENTS,v=(await i.a.create(m,y).callCreate({showError:!1})).resource_response.data;return g(function(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}(t,v)),g(Object(r.a)({feedType:_,feedId:t,itemIds:[v.id],itemType:v.type})),f&&g("pin"===n&&l?Object(a.a)(l,1):"aggregatedComment"===n?Object(s.a)(t,1):Object(c.e)(t,1)),v.id}}},Wkzk:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("DYKh"),a=n("gWRK"),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===n.getAnchorOffset()){var d=t.getKeyAfter(l);if(null==d)return e;c=n.set("focusKey",d).set("focusOffset",0)}else c=n.set("focusOffset",u)}else c=n;c=a(c),s=o(t,c);var p=r.removeRange(t,c,"forward");return p===t?e:i.push(e,p,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return i.push(e,t,"insert-fragment")}};e.exports=c},WnLB:function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const r="story_pin",i="closefakemodal",o="button",a="video",s="image"},X6C7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWfI"),i=function(){function e(e){this.isDisposed=!1,this.action=r.isFunction(e)?e:r.noop}return e.isDisposable=function(e){return e&&r.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:r.noop},e}();t.Disposable=i},XPo3:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));const r=424,i=800,o=508,a=424,s=278,c=640,l=508,u=1016,d=508},XnPw:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/bg_business_account_convert-e8e67ee3.jpg"},"Y/kH":function(e,t,n){e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},Y3PQ:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("DthY"),c=n("Iq8E"),l=n("q1tI"),u=n("YVIB"),d=n("faBS"),p=n("gWRK"),h=function(e,t,n,r){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return i!==o||a!==s||c!==l||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,u=e.customStyleFn,f=e.editorState,g=e.editorKey,m=e.preventScroll,y=e.textDirectionality,_=f.getCurrentContent(),v=f.getSelection(),b=f.mustForceSelection(),w=f.getDecorator(),E=p(f.getDirectionMap()),S=_.getBlocksAsArray(),C=[],x=null,O=null,k=0;k<S.length;k++){var T=S[k],I=T.getKey(),D=T.getType(),P=n(T),j=void 0,M=void 0,A=void 0;P&&(j=P.component,M=P.props,A=P.editable);var L=y||E.get(I),R=c.encode(I,0,0),F={contentState:_,block:T,blockProps:M,blockStyleFn:r,customStyleMap:a,customStyleFn:u,decorator:w,direction:L,forceSelection:b,offsetKey:R,preventScroll:m,selection:v,tree:f.getBlockTree(I)},B=t.get(D)||t.get("unstyled"),z=B.wrapper,N=B.element||t.get("unstyled").element,U=T.getDepth(),V="";if(r&&(V=r(T)),"li"===N)V=d(V,h(D,U,O!==z||null===x||U>x,L));var W=j||s,q={className:V,"data-block":!0,"data-editor":g,"data-offset-key":R,key:I};void 0!==A&&(q=o({},q,{contentEditable:A,suppressContentEditableWarning:!0}));var K=l.createElement(N,q,l.createElement(W,i({},F,{key:I})));C.push({block:K,wrapperTemplate:z,key:I,offsetKey:R}),x=z?T.getDepth():null,O=z}for(var H=[],G=0;G<C.length;){var Y=C[G];if(Y.wrapperTemplate){var J=[];do{J.push(C[G].block),G++}while(G<C.length&&C[G].wrapperTemplate===Y.wrapperTemplate);var $=l.cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},J);H.push($)}else H.push(Y.block),G++}return l.createElement("div",{"data-contents":"true"},H)},r}(l.Component);e.exports=f},YBdB:function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,i,o,a,s=1,c={},l=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){Object({env:Object({NODE_ENV:"production"})}).nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[s]=i,n(s),s++},d.clearImmediate=p}function p(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"))},YDMw:function(e,t,n){var r=n("hyAj");e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},YGxj:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),o=n("c4Fo"),a=n("B2N+"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.a.PureComponent{constructor(...e){super(...e),c(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),c(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:r}=this.props,o=n.slice(-3);return i.a.createElement(s.q,{anchor:e,color:"white",idealDirection:r,onDismiss:this.onScroll,shouldFocus:!1,size:"md"},i.a.createElement(s.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%"},i.a.createElement(s.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3},i.a.createElement(s.V,{color:"darkGray",weight:"bold"},t)),i.a.createElement(s.e,{display:"flex",marginEnd:-2,paddingX:2},o.map(e=>i.a.createElement(s.e,{key:e,height:60,width:50,paddingX:1},i.a.createElement(s.A,{rounding:2,height:60},i.a.createElement(s.v,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})))))))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{constructor(...e){super(...e),u(this,"state",{paused:!1}),u(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:r,flyoutSize:c,fontSize:u,idealDirection:d,useMasonryFlyout:p,noClickToDismiss:h,onClickComplete:f,onClickDismiss:g,placementId:m,positionRelativeToAnchor:y,shouldTimeoutDismiss:_,showCaret:v,textAlign:b,textOverflow:w,textOverrideFn:E,textWeight:S,customizedComplete:C}=this.props,x=t||(({children:e})=>p?i.a.createElement(s.x,null,e):e),O="blue";return i.a.createElement(o.a,{experienceIds:n,placementId:m,type:8},({complete:t,dismiss:n,display_data:o})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(_&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),o.disappearTime)),i.a.createElement(i.a.Fragment,null,o.has_pulsar&&i.a.createElement(a.a,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?i.a.createElement(l,{anchor:e,dismiss:n,idealDirection:d||"down",text:o.text,thumbnails:o.thumbnail_urls}):i.a.createElement(x,null,i.a.createElement(s.q,{anchor:e,color:O,idealDirection:d||"down",onDismiss:h?()=>{}:n,positionRelativeToAnchor:!p&&y,shouldFocus:!1,showCaret:v,size:c},i.a.createElement(s.e,{column:12,padding:3},i.a.createElement(s.V,{align:b,color:"white",overflow:w,size:u,weight:S||"bold"},this.getText(o,r,E)),o.sub_text&&i.a.createElement(s.e,{paddingY:2},i.a.createElement(s.V,{color:"white",size:u},o.sub_text)),(o.dismiss_button_text||o.complete_button_text)&&i.a.createElement(s.e,{display:"flex",alignItems:"center",marginTop:2},o.dismiss_button_text&&i.a.createElement(s.e,{marginEnd:1,column:6},i.a.createElement(s.f,{color:O,onClick:()=>{g&&g(),n()},size:"md",text:o.dismiss_button_text})),o.complete_button_text&&i.a.createElement(s.e,{column:o.dismiss_button_text?6:12},C?i.a.createElement(s.U,{fullHeight:!0,onTap:()=>{t(),f&&f()},rounding:2},i.a.createElement(s.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}}},i.a.createElement(s.V,{color:"blue",weight:"bold"},o.complete_button_text))):i.a.createElement(s.f,{color:"white",size:"md",text:o.complete_button_text,onClick:()=>{t(),f&&f()}}))))))))):(t(),null)))}}u(d,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YUem:function(e,t,n){var r=n("SF5q"),i=n("3sOJ"),o=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},YVIB:function(e,t,n){function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},YeVe:function(e,t,n){var r=n("zVay").OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},YrFj:function(e,t,n){var r=n("MgzW");function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("C8qk"),a=n("Iq8E"),s=n("q1tI"),c=n("gWRK"),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return i!==o||a!==s||c!==l||n.mustForceSelection()},l.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,l=e.customStyleMap,u=e.customStyleFn,d=e.editorState,p=e.editorKey,h=e.textDirectionality,f=d.getCurrentContent(),g=d.getSelection(),m=d.mustForceSelection(),y=d.getDecorator(),_=c(d.getDirectionMap()),v=[],b=f.getBlocksAsArray()[0];b;){var w=b.getKey(),E={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:f,customStyleFn:u,customStyleMap:l,decorator:y,editorKey:p,editorState:d,forceSelection:m,selection:g,block:b,direction:h||_.get(w),tree:d.getBlockTree(w)},S=(t.get(b.getType())||t.get("unstyled")).wrapper;v.push({block:s.createElement(o,i({key:w},E)),wrapperTemplate:S,key:w,offsetKey:a.encode(w,0,0)});var C=b.getNextSiblingKey();b=C?f.getBlockForKey(C):null}for(var x=[],O=0;O<v.length;){var k=v[O];if(k.wrapperTemplate){var T=[];do{T.push(v[O].block),O++}while(O<v.length&&v[O].wrapperTemplate===k.wrapperTemplate);var I=s.cloneElement(k.wrapperTemplate,{key:k.key+"-wrap","data-offset-key":k.offsetKey},T);x.push(I)}else x.push(k.block),O++}return s.createElement("div",{"data-contents":"true"},x)},r}(s.Component);e.exports=l},Yrnb:function(e,t,n){e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},YsiA:function(e,t,n){n.d(t,"a",(function(){return R}));var r=n("q1tI"),i=n.n(r),o=n("NwVv"),a=n("UPpV"),s=n("E+YF");var c=({facebookAccessTokenRefreshIsEnabled:e,i18n:t,onError:r,onSuccess:i,rerequestFacebookEmail:o})=>{let a=null;const c=e=>{if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}clearInterval(a),e.error_message?r(e):i(e)};if(window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&c(e.data)}),o)n.e("facebookEnsureInitForDesktop").then(n.bind(null,"TvzZ")).then(({default:t})=>{t(e=>{e.login(e=>{const t=e.authResponse,n=t&&t.grantedScopes&&t.grantedScopes.split(","),o=t&&t.userId,a=(n||[]).includes("email"),s={id:o};"connected"===e.status&&a?i(s):r(s)},{scope:"email",auth_type:"rerequest",return_scopes:!0})},e)});else{const e=(()=>{const e=screen.width,t=screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=580,height=400,left="+Math.round((e-580)/2)+",top="+(t>400?Math.round((t-400)/2):0)})(),n=window.open("/connect/facebook/","",e);if(!n)return Object(s.a)(t._("You must enable popups!")),void r({network:"facebook",alertedUpstream:!0});a=setInterval(()=>{n.closed&&(clearInterval(a),c({network:"facebook",error_message:"Window closed."}))},1e3)}},l=n("0K1N"),u=n("5WKM"),d=n("n6mq");const p={tooltipText:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}};function h({anchor:e,message:t,children:n}){const[o,a]=Object(r.useState)(!!t);return Object(r.useEffect)(()=>{a(!!t)},[t]),o&&t?i.a.createElement(d.q,{anchor:e,color:"darkGray",idealDirection:"right",onDismiss:()=>a(!0),shouldFocus:!1,size:"md"},i.a.createElement(d.e,{column:12,padding:3},n?i.a.createElement("span",null,n):i.a.createElement("span",{dangerouslySetInnerHTML:{__html:t},style:p.tooltipText}))):null}var f=n("kWmd"),g=n("l/EB"),m=n("cPMF");var y=(e,t)=>{if(!Object(m.a)(e)&&!Object(g.a)(e))return!1;const n=new Date;if(Number.isNaN(n.getTime()))return!1;if(!Object(m.a)(e)){const r=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=r}const r=n.getFullYear()-t-1;return new Date(e).getFullYear()<=r},_=n("HRg/"),v=n("sv3x"),b=n("kmwA"),w=n("Ilos"),E=n("jZTy"),S=n("J6c4"),C=n("QAzJ"),x=n("28DW"),O=n("yweb"),k=n("Zswh"),T=n("2hay"),I=n("J8m7"),D=n("VL22"),P=n("AWyA"),j=n("pLLR"),M=n("fgHc");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends r.Component{constructor(...e){super(...e),A(this,"getContainerName",()=>{let e;return window.fbConnectButtonContainerStack&&window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]&&(e=window.fbConnectButtonContainerStack[window.fbConnectButtonContainerStack.length-1]),e}),A(this,"profilePicButtonConnectSuccess",e=>{const{container:t,handlePostSuccessConnect:n,i18n:r,isAccountSwitch:i,loadingIndicatorCallback:a,onLoginWithMfa:c,onLoginWithSuspended:l,preventRegister:u,pageContext:d,isBusiness:p=!1,desktopCoreLoginContext:{getDeviceAppTypeString:h,getLoginContext:f}}=this.props;a&&a(!0);const g={facebook_id:e.userID,facebook_token:e.accessToken},m={container:this.getContainerName(),hybridTier:null==d?void 0:d.hybridTier,page:null==d?void 0:d.pageType,is_business:p};Object(_.a)(g,f(),m,i).then((e={})=>{if(i&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){const n=e.resource_response.data.user;Object(o.a)(n,"facebook",t)}Object(x.a)("login.facebook."+h()),this.contextLogSignupLoginEvent(7536),this.navigateAfterLogin(),n&&n()},e=>{if(this.contextLogSignupLoginEvent(7535),e.api_error_code===I.r)a&&a(!1),Object(x.a)("login.facebook."+h()),c&&c(g,e.data);else if(e.api_error_code===I.t||e.api_error_code===I.i){if(u)return void u("facebook");this.profilePicButtonRegisterWithFacebook(e,g,m)}else e&&e.api_error_code&&Object(x.a)("facebook_button.failed_login_"+e.api_error_code),e&&e.api_error_code===I.v&&l?l():Object(s.a)(r._("Sorry, we can't log you in."))}),this.contextLogSignupLoginEvent(7534)}),A(this,"statusChangeCallback",e=>{const{connectErrorMessage:t}=this.props;let n;"connected"===e.status?(Object(x.a)("web.facebook_connect_button.login_status.connected"),this.profilePicButtonConnectSuccess(e.authResponse),n="success"):"not_authorized"===e.status?(Object(x.a)("web.facebook_connect_button.cancel.not_authorized"),Object(s.a)(t),n="not_authorized"):(Object(x.a)("web.facebook_connect_button.cancel.unknown"),Object(s.a)(t),n="other_error");const{handlePostConnectClick:r}=this.props;r&&r(n)}),A(this,"handleConnectClick",()=>{const{connectErrorMessage:e,desktopCoreLoginContext:{facebookAccessTokenRefreshIsEnabled:t,getDeviceAppTypeString:n},i18n:r}=this.props;Object(x.a)("fallback_facebook_button.click"),Object(x.e)("press_facebook_login_fallback"),Object(x.a)("unauth_web.facebook_connect.manual.attempt"),Object(x.a)("unauth_web.social_connect.facebook."+n()),c({facebookAccessTokenRefreshIsEnabled:t,i18n:r,onSuccess:e=>{this.onFacebookConnectSuccess(e)},onError:t=>{Object(x.a)("unauth_web.facebook_connect.manual.failure"),t.alertedUpstream||Object(s.a)(e)},rerequestFacebookEmail:this.rerequestFacebookEmail})}),A(this,"profilePicButtonRegisterWithFacebook",(e,t,n)=>{const{disablePostSignupNextUrl:r,desktopCoreLoginContext:{facebookAccessTokenRefreshIsEnabled:i,register:o},i18n:a,loadingIndicatorCallback:c,nextUrlParam:l,onFBPhoneOnlyConnectVerified:d,onFBEmailDeniedPerm:p,onSocialConnectVerified:h,requestContext:{country:g},showSignupWelcomeLoadingFn:m,showResponseMessageModal:_}=this.props,b=()=>{c&&c(!1),e?(this.contextLogSignupLoginEvent(7488),Object(s.a)(a._("Email required for registration."))):this.navigate("/join/register/facebook/")},w=e=>{if(d&&e.socialConnectData&&!e.socialConnectData.email){const r=Object.assign({},t,n);d(D.a.FACEBOOK,e.socialConnectData,r)}else e.socialConnectData&&!e.socialConnectData.email?Object(T.c)("email").then(({hasPerm:e})=>{!e&&p?p():b()},b):b()},E=e=>{this.contextLogSignupLoginEvent(7487);const{showResponseMessageModal:t}=this.props;t?t(!0):v.b.handleSignupRedirect(l,r)},S=Object(D.d)(g)||Object(D.c)(g),C=()=>{Object(f.a)(i).then(u.a).then(e=>o({...e,...t,...n})).then(E,w)};h&&S?Object(f.a)(i).then(e=>{if(e.email)if(e.birthday&&y(e.birthday,18))!_&&m&&m(!0),C(),this.contextLogSignupLoginEvent(7537);else{c&&c(!1);const r=Object.assign({},t,n);h(D.a.FACEBOOK,e,r)}else C()},w):C()}),A(this,"registerWithFacebook",(e,t,n)=>{const{disablePostSignupNextUrl:r,desktopCoreLoginContext:{facebookAccessTokenRefreshIsEnabled:i,register:o},nextUrlParam:a,onSocialConnectVerified:c,onFBPhoneOnlyConnectVerified:l,requestContext:{country:d},i18n:p}=this.props,h=r=>{if(this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),l&&r.socialConnectData&&!r.socialConnectData.email){const e=Object.assign({},n,t);l(D.a.FACEBOOK,r.socialConnectData,e)}else e?(this.contextLogSignupLoginEvent(7488),this.rerequestFacebookEmail=!0,Object(s.a)(p._("Email required for registration."))):this.navigate("/join/register/facebook/")};c&&Object(D.d)(d)?Object(f.a)(i).then(e=>{c(D.a.FACEBOOK,e,t)},h):(Object(f.a)(i).then(u.a).then(e=>o({...e,...t})).then(()=>{this.contextLogSignupLoginEvent(7487);const{showResponseMessageModal:e}=this.props;e?e(!0):v.b.handleSignupRedirect(a||window.location.pathname,r)},h),this.contextLogSignupLoginEvent(7537))}),A(this,"navigateAfterLogin",()=>{const{showResponseMessageModal:e}=this.props;e?e(!0):v.b.handleRedirect(this.props.nextUrlParam||window.location.pathname)})}handleMessageEvent(e){Object(T.h)(e,e=>Object(x.a)("unauth_web."+e))}componentDidMount(){"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=this.checkLoginState,window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1,window.addEventListener("message",this.handleMessageEvent,!1));const{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e))if(1!==window.fb_init&&2!==window.fb_init)this.initializeFB();else if(2===window.fb_init&&window.FB.XFBML)window.FB.XFBML.parse();else{const e=setInterval(()=>{2===window.fb_init&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))},100)}else setTimeout(()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}},50);this.props.isRerequest&&(this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),this.props.showSignupWelcomeLoadingFn&&this.props.showSignupWelcomeLoadingFn(!1))}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){const e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam),window.removeEventListener("message",this.handleMessageEvent)}}onFacebookConnectSuccess(e){const{preventRegister:t,container:n,i18n:r,isBusiness:i=!1,pageContext:o,desktopCoreLoginContext:{getDeviceAppTypeString:a,getLoginContext:c}}=this.props;Object(x.a)("unauth_web.facebook_connect.manual.success");const l={facebook_id:e.id,facebook_token:e.access_token},u={container:n,hybridTier:null==o?void 0:o.hybridTier,page:null==o?void 0:o.pageType,is_business:i};Object(_.a)(l,c(),u).then(()=>{Object(x.a)("login.facebook."+a()),this.contextLogSignupLoginEvent(7536),this.navigateAfterLogin()},e=>{if(this.contextLogSignupLoginEvent(7535),e.api_error_code===I.r)Object(x.a)("login.facebook."+a()),this.props.onLoginWithMfa&&this.props.onLoginWithMfa(l,e.data);else if(e.api_error_code===I.t||e.api_error_code===I.i){if(t)return void t("facebook");this.registerWithFacebook(e,u,l)}else e&&e.api_error_code&&Object(x.a)("facebook_button.failed_login_"+e.api_error_code),e.api_error_code===I.v&&this.props.onLoginWithSuspended?this.props.onLoginWithSuspended():Object(s.a)(r._("Sorry, we can't log you in.","error message when user failed to login caused by suspend/deactivated etc.","error message when user failed to login caused by suspend/deactivated etc."))}),this.contextLogSignupLoginEvent(7534)}initializeFB(){const{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=function(){window.FB.init({appId:b.a.settings.FACEBOOK_API_KEY,status:!0,xfbml:!0,version:"v2.7"})},((t,n,r)=>{const i=t.getElementsByTagName(n)[0];if(t.getElementById(r))return;const o=t.createElement(n);o.id=r,o.src=Object(l.a)(e),i.parentNode&&i.parentNode.insertBefore(o,i)})(document,"script","facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus((function(e){this.statusChangeCallback&&this.statusChangeCallback(e)}))}contextLogSignupLoginEvent(e){const{logContextEvent:t,desktopCoreLoginContext:{viewer:n}}=this.props;t({event_type:e,aux_data:{...Object(E.a)(n.type),signup_login_method:2}}),"UNAUTH"===n.type&&(Object(x.e)("press_facebook_login"),Object(x.a)("unauth_web.facebook_connect.manual.attempt"))}renderProfilePicButtonWithFallback(){const{type:e,i18n:t,isRerequest:n,showFallback:r,styleOverrides:o,shouldUseWiderSocialButtons:s}=this.props,{buttonText:c,inline:l}=this.props;let u={backgroundClip:"padding-box",backgroundColor:"#1877F2",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:"absolute",textAlign:"left",transition:"opacity .2s linear",width:"100%",borderRadius:"20px"};return l&&(u={...u,width:"48%",display:"inline-block"}),r&&(u={...u,position:"relative"}),o&&o.button&&(u={...u,...o.button}),i.a.createElement(d.e,{"data-test-id":"facebook-connect-button",ref:e=>{this._fallbackButton=e}},i.a.createElement(a.b,{className:"FacebookConnectButton",onClick:this.handleConnectClick,styleOverrides:u},i.a.createElement(d.e,{display:"flex"},i.a.createElement(d.e,{color:"white",round:3,dangerouslySetInlineStyle:{__style:{paddingTop:3,paddingLeft:2,paddingRight:2,marginLeft:1,width:24}}},i.a.createElement(d.t,{accessibilityLabel:t._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:19})),i.a.createElement("span",{style:{color:"#fff",display:"inline-block",fontFamily:S.b,fontSize:"15px",fontWeight:"bold",letterSpacing:"normal",lineHeight:"16px",marginRight:"31px",paddingTop:"5px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"88%",...(null==o?void 0:o.text)||{}}},c))),!r&&i.a.createElement("div",{ref:e=>{this.profilePicButton=e},style:{height:40,textAlign:"left"}},i.a.createElement("div",{className:"fb-login-button","data-auth-type":n?"rerequest":void 0,"data-button-type":"login"===e?"login_with":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":T.b.join(","),"data-size":"large","data-use-continue-as":"login"===e?"false":"true","data-width":s?"280px":"268px"})))}render(){const{styleOverrides:e,tooltip:t,useGestaltTooltip:n}=this.props,r={position:"relative",...e&&e.container||{}};return i.a.createElement("div",{style:r},this.renderProfilePicButtonWithFallback(),!!t&&(n?i.a.createElement(h,{anchor:this._fallbackButton,message:t}):i.a.createElement("div",{style:{top:12,left:"100%",position:"absolute"}},i.a.createElement(w.b,{message:t}))))}}function R(e){const t=Object(O.b)(),n=Object(k.a)(),r=Object(j.d)(),o=Object(P.d)(),a=Object(M.b)(),{anyEnabled:s}=Object(C.c)("wider_fb_button_for_translations");return i.a.createElement(L,Object.assign({},e,{connectErrorMessage:t._("Couldn't connect. You must authorize Pinterest."),desktopCoreLoginContext:o,i18n:t,logContextEvent:n,requestContext:r,pageContext:a,shouldUseWiderSocialButtons:s}))}},YuQ1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("LTlA");t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||r.intersection(n,e).length>0)}},Z9sL:function(e,t,n){var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},ZVWG:function(e,t,n){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("etmJ");const i=e=>({defaultStyle:0,fontFamily:e.name,fontGroup:r.c,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]});function o(e){const t=[];let n="";for(const r of e)if(n){const e=!!r.match(/\s/),i=!!n.match(/\s/);if(e===i)n+=r;else if(!i&&n.includes("-")){let e=0;for(let r=0;r<n.length;r+=1)"-"===n[r]&&(t.push(n.substring(e,r+1)),e=r+1);t.push(n.substring(e)),n=r}else t.push(n),n=r}else n=r;return n.length&&t.push(n),t}function a({font:e,fontSize:t,textList:n,width:r}){var i,a;if("undefined"==typeof document||!document.body||r<=0||t<=0)return[];const s=document.body,c=document.createElement("div");s.appendChild(c);const l=null!=(null===(i=e.fontOverrides)||void 0===i?void 0:i.letterSpacing)?e.fontOverrides.letterSpacing+"px":void 0,u=(null===(a=e.fontOverrides)||void 0===a?void 0:a.lineHeight)||1.1,d={letterSpacing:l,lineHeight:String(u),fontFamily:e.fontFamily,fontSize:t+"px",visibility:"hidden"};Object.assign(c.style,d);const p=document.createElement("div");p.style.display="inline",c.appendChild(p);const h=document.createTextNode("");p.appendChild(h);const f=[];let g="";const m=e=>{const t=e.trim();return h.textContent=t,{text:t,width:p.offsetWidth}},y=e=>{const t=!!e.match(/\s/),n=0===g.length;if(h.textContent=`${g}${e}`,p.offsetWidth>r)if(t)f.push(m(g)),g="";else if(n)for(const r of e)y(r);else f.push(m(g)),g="",y(e);else g+=e};for(const _ of n){0===_.length&&f.push(m(g));o(_).forEach(e=>y(e)),g.length&&(f.push(m(g)),g="")}return p.remove(),c.remove(),f}function s({boxHeight:e,boxWidth:t,font:n,startFontSize:r,text:i}){var o,s;if("undefined"==typeof document||!document.body)return{fontSize:r,lines:[]};const c=document.body,l=document.createElement("div");c.appendChild(l);const u=i.split(/\r?\n/g);let d=r;const p=null!=(null===(o=n.fontOverrides)||void 0===o?void 0:o.letterSpacing)?n.fontOverrides.letterSpacing+"px":void 0,h=(null===(s=n.fontOverrides)||void 0===s?void 0:s.lineHeight)||1.1,f={letterSpacing:p,lineHeight:String(h),fontFamily:n.fontFamily,fontSize:d+"px",position:"absolute",visibility:"hidden",width:t+"px"};Object.assign(l.style,f);const g=document.createElement("div");for(g.style.display="inline",l.appendChild(g),u.forEach((e,t)=>{const n=document.createElement("span");n.style.wordBreak="break-word",g.appendChild(n),n.appendChild(document.createTextNode(e)),t!==i.length-1&&n.appendChild(document.createElement("br"))});(g.offsetHeight>e||g.offsetWidth>t)&&d>0;)d-=1,l.style.fontSize=d+"px";return g.remove(),l.remove(),{fontSize:d,lines:d>0?a({font:n,fontSize:d,textList:u,width:t}):[]}}},"Zf/v":function(e,t,n){e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},Zgb7:function(e,t,n){var r=n("ISee");e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),i=n.anchorNode,o=n.anchorOffset,a=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==i||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,i,o,a,s)}},Zxas:function(e,t,n){n.d(t,"a",(function(){return r}));function r(e,t=80,n="…"){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},Zygf:function(e,t,n){function r(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return r}))},a8hX:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("TgLd"),a=n("4cpq"),s=n("n6mq");t.a=({accessibilityModalLabel:e,cancelButtonText:t,confirmButtonText:n,detail:r,heading:c,onConfirm:l,onDismiss:u})=>i.a.createElement(o.b,{accessibilityModalLabel:e,heading:c,onDismiss:u,size:"md"},i.a.createElement(s.e,null,i.a.createElement(s.e,{padding:4},i.a.createElement(s.V,null,r)),i.a.createElement(s.e,{display:"flex",justifyContent:"end"},i.a.createElement(s.e,{margin:2},i.a.createElement(a.a,{id:"confirm-modal-cancel"},i.a.createElement(s.f,{onClick:u,text:t}))),i.a.createElement(s.e,{margin:2},i.a.createElement(a.a,{id:"confirm-modal-confirm"},i.a.createElement(s.f,{color:"red",onClick:()=>{l(),u()},text:n}))))))},aAE7:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null};t.default=function(e){var t=e.decoratorRect,n=e.popover,i=e.state,o=e.props,a=r(n.parentElement),s={};if(a){s.scrollLeft=a.scrollLeft,s.scrollTop=a.scrollTop;var c=a.getBoundingClientRect();s.left=t.left-c.left,s.top=t.bottom-c.top}else s.scrollTop=window.pageYOffset||document.documentElement.scrollTop,s.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,s.top=t.bottom,s.left=t.left;var l=s.left+s.scrollLeft,u=s.top+s.scrollTop,d=void 0,p=void 0;return i.isActive&&(o.suggestions.length>0?(d="scale(1)",p="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(d="scale(0)",p="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:l+"px",top:u+"px",transform:d,transformOrigin:"1em 0%",transition:p}}},"aAL+":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default="[\\w-À-ÖØ-öø-ÿĀ-ňŊ-ſА-я぀-ゟ゠-ヿ㄰-㆏가-힣一-黿]*"},aB02:function(e,t,n){var r=n("GyOf");e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},aFfM:function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=n("ulZh"),a=n.n(o),s=n("U4JR"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=1e3;function d(){return(new Date).getTime()}class p extends i.a.PureComponent{constructor(...e){super(...e),l(this,"state",{canPlayVideo:!1,isManifestParsed:!1}),l(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("canplay",()=>{this.setState({canPlayVideo:!0})}),e.readyState>=3&&this.setState({canPlayVideo:!0})}}),l(this,"currentVideoTime",0),l(this,"hls",null),l(this,"playbackPerformance",{fatalErrorMsg:"",firstLevelFetchTime:0,firstFragmentParsedTime:0,hasFatalError:!1,levelWatchDurationsMs:[],numStalls:0,rebufferingDurationMs:0,videoCreatedTime:0}),l(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new a.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(a.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0}),this.startVideoWatchTimings()}),n.on(a.a.Events.FRAG_PARSED,(e,t)=>{this.playbackPerformance.firstFragmentParsedTime||(this.playbackPerformance.firstFragmentParsedTime=d())}),n.on(a.a.Events.LEVEL_LOADING,(e,t)=>{this.playbackPerformance.firstLevelFetchTime||(this.playbackPerformance.firstLevelFetchTime=d())}),n.on(a.a.Events.ERROR,(e,t)=>{t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.fatalErrorMsg=t.details),t.details===a.a.ErrorDetails.BUFFER_STALLED_ERROR&&(this.playbackPerformance.numStalls+=1,t.buffer&&(this.playbackPerformance.rebufferingDurationMs+=t.buffer*u))}),this.hls=n}),l(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy(),window.clearInterval(this.videoTimeIntervalId)}),l(this,"startVideoWatchTimings",()=>{window.clearInterval(this.videoTimeIntervalId),this.videoTimeIntervalId=window.setInterval(()=>{if(!this.hls||this.hls.currentLevel<=0||!this.videoPlayerRef||!this.videoPlayerRef.video)return;const e=this.videoPlayerRef.video.currentTime*u,{levelWatchDurationsMs:t}=this.playbackPerformance;if(t.length){if(this.hls.currentLevel!==t[t.length-1].level){const n=t.length-1;t[n].duration+=this.currentVideoTime-t[n].lastStartSegmentTime,t.push({level:this.hls.currentLevel,lastStartSegmentTime:e,duration:0})}else if(e<this.currentVideoTime||e-this.currentVideoTime>300){const n=t.length-1;t[n].duration+=this.currentVideoTime-t[n].lastStartSegmentTime,t[n].lastStartSegmentTime=e}}else t.push({level:this.hls.currentLevel,lastStartSegmentTime:e,duration:0});this.currentVideoTime=e},250)})}componentDidMount(){this.playbackPerformance.videoCreatedTime=d(),this.initializeHls()}componentDidUpdate(e){const{src:t}=this.props;var n,r;(typeof(n=e.src)!=typeof(r=t)||(Array.isArray(r)?n.length!==r.length||r.some((e,t)=>!Array.isArray(n)||e.type!==n[t].type||e.src!==n[t].src):r!==n))&&this.initializeHls()}componentWillUnmount(){const{contextLogData:e,src:t}=this.props,{firstLevelFetchTime:n,firstFragmentParsedTime:r,hasFatalError:i,levelWatchDurationsMs:o,numStalls:a,rebufferingDurationMs:c,videoCreatedTime:l}=this.playbackPerformance,d=this.videoPlayerRef&&this.videoPlayerRef.video;if(this.hls&&d&&o.length>0){const p="string"==typeof t?t:t[0].src,h=this.hls.levels,f=h[o[0].level]||{},g=d.currentTime*u;o[o.length-1].duration+=g-o[o.length-1].lastStartSegmentTime;const m=o.reduce((e,t)=>e+t.level*(h[t.level]||{}).bitrate*(t.duration||0)/u,0),y=o.reduce((e,t)=>e+(t.duration||0),0);Object(s.b)(3606,{...e,eventData:{videoPerformanceData:{startupTimeMs:r-n,startupLatencyMs:r-l,nativeVideoDurationMs:d.duration*u,startupVariantKbps:f.bitrate/1e3,startupPlayerWidth:d.clientWidth,startupPlayerHeight:d.clientHeight,startupVariantWatchedDurationMs:o[0].duration,startupVariantWidth:f.width,isCellular:!1,fatalError:i,averageVideoKbps:m/(y/u),overallWatchedDurationMs:y,numberOfStalls:a,rebufferRate:c/y,videoUrl:p}}})}this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:l,controls:u,loop:d,onDurationChange:p,onEnded:h,onFullscreenChange:f,onLoadedChange:g,onPause:m,onPlay:y,onPlayheadDown:_,onPlayheadUp:v,onReady:b,onSeek:w,onTimeChange:E,onVolumeChange:S,playbackRate:C,playing:x,playsInline:O,poster:k,preload:T,src:I,volume:D}=this.props,{canPlayVideo:P,isManifestParsed:j}=this.state;return i.a.createElement(c.bb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:r,accessibilityPlayLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:l,controls:u,loop:d,onDurationChange:p,onEnded:h,onFullscreenChange:f,onLoadedChange:g,onPause:m,onPlay:y,onPlayheadDown:_,onPlayheadUp:v,onReady:b,onSeek:w,onTimeChange:E,onVolumeChange:S,playbackRate:C,playing:j&&P&&x,playsInline:O,poster:k,preload:T,ref:this.setVideoPlayerRef,src:I,volume:D})}}},aS9Y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Jld5");t.createDragDropManager=function(e,t,n){return new r.default(e,t,n)}},aUfZ:function(e,t,n){var r=n("P9b8"),i=n("sZWH"),o=n.n(i);t.a=Object(r.DragDropContext)(o.a)},apFM:function(e,t,n){t.a=[{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/83/39/1e/83391e3103e17a46e2733b09bf154a06.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/87/f7/b5/87f7b55bc3de78ef95fd36fa3a237172.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/d3/49/07/d34907c96950574c15719219e0f0dd69.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/49/ad/71/49ad71817c829e8d86ca16fa6508b0c4.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/a8/7f/53/a87f53ea636966bf24cf279ed2fdc4dc.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/36/67/b4/3667b449f3cacaaeef3f68fc9cf609be.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/9d/4f/43/9d4f43222d4fc694a61f7635f2d42892.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/48/d9/f0/48d9f0a63ac5c08b1cf2608ceb4a884f.jpg",width:236,height:419},{url:"https://i.pinimg.com/236x/3e/08/94/3e0894b99543507463864c64c6b3af49.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/4b/a4/97/4ba49798105ddfc0bfd11a980f18590f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b9/e9/8f/b9e98fe7ff81c026b488997900eb25fa.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/96/e0/4a/96e04ac53becd9f522988fc27343ac6e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/5a/f5/9e/5af59e46be8a92abd880031be67ce4cc.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/71/f2/e6/71f2e6a1a13223864dd833bc128f8e2f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/db/b2/09/dbb2099909d25dd45d3df4950429312d.jpg",width:236,height:309},{url:"https://i.pinimg.com/236x/d7/f9/b0/d7f9b0f7dc0536e923026e6af91c61d5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/4b/6e/36/4b6e36884909d421e250050db82d013b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/0b/85/ca/0b85ca13cbf16fa3017164b9c4b65923.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/28/d9/35/28d935a8f25905a6989709b21241e4d2.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/94/e5/fb/94e5fb084bb73b1237a73fc83eb07b45.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ec/c7/66/ecc766782029713523ae6a5bd8544045.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/1a/c5/72/1ac572b1643cf518ef06139eca46dd1d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d1/8f/f9/d18ff9eaec83c75b878eebb899604b8e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/b3/41/6e/b3416e2688aa4d20f846aeb8127e6b3b.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/23/ad/5f/23ad5fc40270120b22bea471fe3656aa.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/29/6d/a2/296da26a335fd7079e6355225c051cf3.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cd/53/e3/cd53e3b9ad897d5c5588094f446cbc2a.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/18/54/21/1854212e113994080084b4666b23fcc5.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/cf/0c/45/cf0c451732bb352b3c96d1951ea632dd.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/d0/e9/ee/d0e9ee92a6398e6b31b1515c2ec6ab5e.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8d/8c/86/8d8c86e41d810497a7b60c5a0e58a95f.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/57/0c/d6/570cd6ac36a208808edabf74682cca8d.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/bd/57/32/bd5732c8291d05e8982662a1ee043411.jpg",width:236,height:188},{url:"https://i.pinimg.com/236x/1b/10/5e/1b105ea0da81722178e23c5438fb68d7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/ee/2d/d3/ee2dd31a93246fb72490c012b16eefca.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/81/8a/ca/818aca5d5303c60bff125a5acc322fc0.jpg",width:236,height:295},{url:"https://i.pinimg.com/236x/c6/bc/64/c6bc64acbaab2cca4f9166539ff36621.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d7/38/27/d73827a583f46fbeaf282acc001eb733.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/2a/02/05/2a0205019cb0cb1ea0baa9b95eb78ab8.jpg",width:236,height:256},{url:"https://i.pinimg.com/236x/60/81/65/60816514dcfcbcab0df772dc78ca8ed1.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/0d/2f/fb/0d2ffbcdcc414765ef441752b423a6ad.jpg",width:236,height:353},{url:"https://i.pinimg.com/236x/d0/97/0b/d0970b1c57a50afa4d6951d8b0657715.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/7d/c5/99/7dc599bce4115d38ee5b91dcd8769543.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/70/0e/56/700e56a3bccb989ab88819ade445e86e.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/ff/73/ab/ff73ab3256bbcf8abce0febb98939e4f.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/e7/1b/ba/e71bbaca118e1ae09f01bcc45b58229f.jpg",width:236,height:185},{url:"https://i.pinimg.com/236x/37/af/bf/37afbf3c16baf0f70dc083b6c6ffecec.jpg",width:236,height:298},{url:"https://i.pinimg.com/236x/64/9d/1b/649d1b77d8b28995b2902b89001f912c.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/8f/e5/32/8fe532eea42b7c8b14947a2ced8b127d.jpg",width:236,height:354},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330},{url:"https://i.pinimg.com/236x/21/af/78/21af78021ad083377aa3e36ae6f09fc2.jpg",width:236,height:314},{url:"https://i.pinimg.com/236x/06/41/9c/06419c4e4165596f77d721d88665e4e7.jpg",width:236,height:157},{url:"https://i.pinimg.com/236x/2a/9e/80/2a9e80b4714ac32943ddec01399b5387.jpg",width:236,height:156},{url:"https://i.pinimg.com/236x/fc/5f/44/fc5f44cd50535f378b1e09d11433c1a8.jpg",width:236,height:330}]},b7nI:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("yweb"),a=n("n6mq");const s=()=>{const e=Object(o.b)();return i.a.createElement(a.O,{accessibilityLabel:e._("Loading","Label for loading spinner","Label for loading spinner"),show:!0})};t.a=()=>i.a.createElement(a.e,null,i.a.createElement(a.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:1,dangerouslySetInlineStyle:{__style:{zIndex:101}}},i.a.createElement(s,null)),i.a.createElement(a.e,{color:"white",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:.7,dangerouslySetInlineStyle:{__style:{zIndex:100}}}))},bBqG:function(e,t,n){var r=n("IDoE"),i=n("ipvL"),o=n("zRck"),a=n("28DW"),s=n("7Cbv");t.a=(e,t,n)=>{let c=i.a.getGroupId();c||(c=(()=>{const e=Object(s.a)();return Object(a.g)("web_account_switcher.utils.group_created",{group_id:e,group_count:Object(r.a)()}),e})(),i.a.setGroupId(c));const l={group_id:c,group_count:Object(r.a)()};let u="";n&&(u=n===o.c?"modal.":"flyout."),Object(a.g)(`web_account_switcher.${u}${e}`,Object.assign({},t,l))}},bKKl:function(e,t,n){n.d(t,"a",(function(){return i}));var r=n("gxu6");const i=()=>!!r.a("logged_out")||!!r.a("fba")},bNdj:function(e,t,n){var r=n("jLRO").substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,a=i;a<o;a++)n[a]=t.key})),n}},bVL4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("TKJ6"),i=n("LTlA"),o=n("QLaP"),a=n("7nh8"),s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var c=n.publishSource,l=void 0===c||c,u=n.clientOffset,d=n.getSourceClientOffset,p=e.getMonitor(),h=e.getRegistry();e.dispatch(r.setClientOffset(u)),function(e,t,n){o(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var r=0,i=e;r<i.length;r++){var a=i[r];o(n.getSource(a),"Expected sourceIds to be registered.")}}(t,p,h);var f=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,p);if(null!==f){var g=null;u&&(!function(e){o("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(d),g=d(f)),e.dispatch(r.setClientOffset(u,g));var m=h.getSource(f).beginDrag(p,f);!function(e){o(i.isObject(e),"Item must be an object.")}(m),h.pinSource(f);var y=h.getSourceType(f);return{type:a.BEGIN_DRAG,payload:{itemType:y,item:m,sourceId:f,clientOffset:u||null,sourceClientOffset:g||null,isSourcePublic:!!l}}}e.dispatch(s)}}},bVT4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}},"bY+3":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),i=!1,o=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;r(!i,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return i=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{i=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=o},bd9B:function(e,t,n){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}},bu5B:function(e,t,n){var r=n("lFJn"),i=n("Taje"),o=n("2NuI");function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,l=s?s.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var d,p=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&o(!1),r}(a,u,n),h=p.start,f=p.end;h<f;)d=a.get(h),a=a.set(h,r.applyEntity(d,null)),h++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),c=n.get(o),l=a(r,c,s);l!==c&&(i[o]=l);var u=t.getEndKey(),d=t.getEndOffset(),p=n.get(u);o===u&&(p=l);var h=a(r,p,d);return h!==p&&(i[u]=h),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},c203:function(e,t,n){var r=n("/y0H"),i=n("fMZg"),o=n("2NuI");function a(e,t,n,a,s,c,l){var u=n.getStartOffset(),d=n.getEndOffset(),p=e.__get(s).getMutability(),h=l?u:d;if("MUTABLE"===p)return n;var f=i(t,s).filter((function(e){return h<=e.end&&h>=e.start}));1!=f.length&&o(!1);var g=f[0];if("IMMUTABLE"===p)return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});c||(l?d=g.end:u=g.start);var m=r.getRemovalRange(u,d,t.getText().slice(g.start,g.end),g.start,a);return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(o),l=n.getEntityAt(s-1);if(!c&&!l)return r;var u=r;if(c&&c===l)u=a(e,t,u,i,c,!0,!0);else if(c&&l){var d=a(e,t,u,i,c,!1,!0),p=a(e,n,u,i,l,!1,!1);u=u.merge({anchorOffset:d.getAnchorOffset(),focusOffset:p.getFocusOffset(),isBackward:!1})}else if(c){var h=a(e,t,u,i,c,!1,!0);u=u.merge({anchorOffset:h.getStartOffset(),isBackward:!1})}else if(l){var f=a(e,n,u,i,l,!1,!1);u=u.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return u}},c4Fo:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("clxp"),a=n("zXAL");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>null;class l extends r.Component{constructor(...e){super(...e),s(this,"view",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,targeting:i}=this.props;i?r.viewExperience(t,n,!1,i):r.viewExperience(t,n)}),s(this,"complete",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:i,targeting:o}=this.props;o?r.completeExperience(t,n,i,!1,{},!1,o):i?r.completeExperience(t,n,i):r.completeExperience(t,n)}),s(this,"dismiss",e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:r,preventRemoval:i,targeting:o}=this.props;o?r.dismissExperience(t,n,i,!1,o):i?r.dismissExperience(t,n,i):r.dismissExperience(t,n)})}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:r,experience_id:a}=n;return i.a.createElement(o.a,{name:`Experience(${r}:${a})`},"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e)}return i.a.createElement(c,null)}}t.a=Object(a.a)(l)},cPMF:function(e,t,n){t.a=e=>/^\d{4}$/.test(e)},cmQj:function(e,t,n){e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},cwFY:function(e,t,n){e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},dJ9d:function(e,t,n){function r(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=r,t.isRefable=function(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||r(e);var t}},dyxW:function(e,t,n){var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},"e/Ok":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("6Xrj"),a=n("hyAj"),s=n("DeIs"),c=n("MbRH");e.exports=function(e,t){var n,l=e._latestEditorState,u=l.getSelection(),d=t.target;if(u.isCollapsed())t.preventDefault();else{if(c(d)){var p=d;n=s(o.getScrollParent(p))}var h=a(l);e.setClipboard(h),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(l))}),0)}}},"e3X+":function(e,t,n){var r=n("eOdZ");t.a=({usernameOrEmail:e,logPasswordResetContextEvent:t,callBack:n,ErrorCallback:i})=>{t&&t(6936),r.a.create("UserResetPasswordResource",{username_or_email:e}).callCreate({showError:!1}).then(e=>{t&&t(51),n&&n()},e=>{i&&i(e)})}},eATT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("CEq6"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t.getAnchorKey(),i=t.getAnchorOffset(),a=e.getCurrentContent().getBlockForKey(r).getText();return(0,o.default)(a,i,n)}},eBDd:function(e,t,n){var r=n("yaUg"),i=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(i.a)(t[e].toString()):""}),Object(r.a)(e,n)}},eIuQ:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("Ye/N");function i(e){return e?r.a._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function o(e){return e?r.a._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function a(e){return r.a._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function s(e){return e?r.a._("Note too long. Make sure all cards' notes have less than 500 characters","User note entered is too long while editing a carousel pin and/or one of its pins","User note entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Note too long. Make sure note has less than 500 characters","User note entered is too long while editing a pin","User note entered is too long while editing a pin")}function c(e){return e?r.a._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):r.a._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}},eOzY:function(e,t,n){(function(t){n("YBdB"),e.exports=t.setImmediate}).call(this,n("yLpj"))},eiom:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(n=0;n<e;n++)t[n].dispose()}},e}();t.CompositeDisposable=r},ejSI:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("ovj4"),a=n("MldM"),s=n("TPPM"),c=n("n6mq");function l(e){const{color:t="darkGray",text:n}=e,r=i.a.createElement(c.e,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(c.V,{align:"center",color:"white",weight:"bold"},n));return i.a.createElement(c.e,{marginBottom:3,paddingX:4,maxWidth:376,width:"100vw"},i.a.createElement(c.e,{color:t,fit:!0,paddingX:8,paddingY:5,rounding:"pill"},r))}var u=n("YsiA"),d=n("QV6T"),p=n("TbPR"),h=n("Ye/N"),f=n("b7nI"),g=n("QHyw"),m=n("Gz3U"),y=n("+8U0"),_=n("ulhB"),v=n("NtKd"),b=n("2Rot"),w=n("I1Lu");const E=({heading:e,subtitle:t})=>i.a.createElement(c.e,{marginBottom:2,paddingY:3,width:275},i.a.createElement(c.s,{color:"darkGray"},e),i.a.createElement(c.V,{color:"gray",overflow:"normal",weight:"bold"},t));var S=({title:e,sections:t})=>i.a.createElement(c.e,{marginStart:7,marginTop:7},i.a.createElement(c.e,null,i.a.createElement(c.V,{color:"red",weight:"bold"},e)),i.a.createElement(c.e,{display:"flex",direction:"column"},t.map((e,t)=>i.a.createElement(E,{key:t,heading:e.heading,subtitle:e.subtitle})))),C=()=>i.a.createElement(S,{title:h.a._("Reach people making decisions","Value prop features title","Value prop features title"),sections:[{heading:h.a._("Analytics","Value prop monthly features heading","Value prop monthly features heading"),subtitle:h.a._("Track which Pins are performing the best","Value prop monthly statistic subtitle","Value prop monthly statistic subtitle")},{heading:h.a._("Insights","Value prop search features heading","Value prop search features heading"),subtitle:h.a._("Learn more about your audience on Pinterest","Value prop search statistic subtitle","Value prop search statistic subtitle")},{heading:h.a._("Ads","Value prop user action features heading","Value prop user action features heading"),subtitle:h.a._("Reach new audiences with Pinterest Ads","Value prop user action statistic subtitle","Value prop user action statistic subtitle")}]}),x=()=>i.a.createElement(S,{title:h.a._("Reach people making decisions","Value prop statistics title","Value prop statistics title"),sections:[{heading:h.a._("250m","Value prop monthly statistic heading","Value prop monthly statistic heading"),subtitle:h.a._("people use Pinterest every month","Value prop monthly statistic subtitle","Value prop monthly statistic subtitle")},{heading:h.a._("2b","Value prop search statistic heading","Value prop search statistic heading"),subtitle:h.a._("searches for new ideas happen on Pinterest every month","Value prop search statistic subtitle","Value prop search statistic subtitle")},{heading:h.a._("70%","Value prop user action statistic heading","Value prop user action statistic heading"),subtitle:h.a._("of people are searching, clicking and saving, not just browsing","Value prop user action statistic subtitle","Value prop user action statistic subtitle")}]});var O=n("r8eU"),k=n("U4JR"),T=n("28DW"),I=n("pLLR");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P="mfa",j="signup",M="socialConnectAgeCollection",A="FBEmailRerequest",L={giftWrap:{background:"none",bottom:"0px",left:"0px",position:"fixed",right:"0px",top:"0px",minWidth:"800px"},spacingWrapper:{paddingBottom:"67px",paddingTop:"48px",minHeight:"533px",left:"50%",top:"50%",position:"absolute",transform:"translate(-50%, -50%)"},contentWrapper:{position:"absolute",top:"0px",bottom:"0px",left:"0",right:"0",overflow:"auto"},spacingWrapperScrolling:{paddingBottom:"67px",paddingTop:"48px",minHeight:"533px",left:"50%",position:"absolute",transform:"translateX(-50%)"},contentWrapperScrolling:{position:"absolute",top:"0px",bottom:"0px",left:"0",right:"0",overflow:"auto"},brioModal:{backgroundColor:"#fff",borderRadius:"8px",minHeight:"533px",paddingTop:"10px"},brioLogo:{margin:"14px auto 0",position:"relative",height:"55px",width:"55px"},brioTitle:{margin:"5px 26px 26px",textAlign:"center",fontWeight:"bold",fontSize:"28px",color:"#333"},brioTitleMfa:{padding:"0 10px"},brioInputFields:{backgroundColor:"#f0f0f0",border:"0px",outline:"none"},brioModalWrapper:{position:"static",height:"100%",width:"100%"},subtitle:{textAlign:"center",fontWeight:"bold",color:"#ccc",fontSize:"18px",margin:"-25px 26px 20px"},confirmationMessage:{textAlign:"center",color:"rgb(85, 85, 85)",fontSize:"16px",margin:"32px 0px"},confirmationButton:{width:"270px",margin:"auto"},signupForm:{margin:"16px 0",position:"relative"}};class R extends r.Component{constructor(e){super(e),D(this,"setLoadingIndicator",e=>{this.setState({showLoadingIndicator:e})}),D(this,"getLoginUrl",()=>this.state.personalAccountType?"/login":Object(o.a)("/login",{next:"/business/create/"})),D(this,"toggleModalType",()=>this.setState(({fullPageModalType:e})=>"login"===e?{fullPageModalType:"signup"}:{fullPageModalType:"login"})),D(this,"CONTAINER_ID","InspiredWallSignup"),D(this,"showAdditionalStep",e=>(t,n,r)=>{this.setState({step:e,registrationCredentials:{type:t,userData:n,credentialsAndLoggingData:r}})}),D(this,"handlePostConnectClick",()=>{Object(T.a)("unauth.fb_email_reauth.post_connect.click")}),D(this,"handlePostSuccessConnect",()=>{Object(T.a)("unauth.fb_email_reauth.post_success.connect")}),D(this,"clearPassword",()=>{this.setState({password:""})}),D(this,"showSignupWelcomeLoadingFn",e=>{this.setState({showSignupWelcomeLoading:e}),this.props.handleShowingSignupWelcomeLoading&&this.props.handleShowingSignupWelcomeLoading(e)}),D(this,"renderBusinessCreateButton",()=>{const{personalAccountType:e,step:t}=this.state,{scaleModal:n}=this.props;return t===A?null:i.a.createElement(c.e,{height:62,color:"lightGray",position:"absolute",bottom:!0,left:!0,width:"100%",dangerouslySetInlineStyle:{__style:{borderRadius:n?"0 0 32px 32px":"0 0 8px 8px"}},"data-test-id":"create-business-account-button"},i.a.createElement(c.U,{fullHeight:!0,onTap:({event:t})=>{this.setState(({personalAccountType:e})=>({personalAccountType:!e})),Object(T.a)(e?"unauth.home.pinner_business_toggle.pinner.click":"unauth.home.pinner_business_toggle.business.click"),Object(k.b)(101,{component:13096,element:10773,is_business_signup:!e}),Object(T.e)("press_business_signup")}},i.a.createElement(c.e,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},i.a.createElement(c.V,{weight:"bold"},e?h.a._("Create a business account"):h.a._("Create a personal account")))))}),this.state={email:e.email||"",emailValidationError:null,showLoadingIndicator:!1,password:"",age:void 0,gender:"",mfaCode:"",mfaPhoneNumberEnd:"",name:"",passwordValidationError:null,registrationCredentials:null,step:j,scrolling:"undefined"!=typeof window&&window.innerHeight<800,personalAccountType:!1!==e.simplifiedModalIsPersonalAccount,showSignupWelcomeLoading:!1,fullPageModalType:e.loginSignupModalType?"login":"signup"}}componentDidMount(){this.isScrolling(),window.addEventListener("resize",this.isScrolling.bind(this))}componentWillUnmount(){window.removeEventListener("resize",this.isScrolling.bind(this))}setNameFromEmail(){this.setState({name:Object(y.a)(this.state.email)})}isScrolling(){this.setState({scrolling:window.innerHeight<800})}handleDataChange(e,t){const n={};n[e]=t.target&&t.target.value||t.value,this.setState(n)}handleLoginWithMfa(e,t){const n={};n.step=P,n.mfaCreds=t,e&&e.phone_number_end&&(n.mfaPhoneNumberEnd=e.phone_number_end),this.setState(n)}changeStep(e){this.setState({step:e})}renderLoadingIndicator(){return this.state.showLoadingIndicator?i.a.createElement(f.a,null):null}renderBrioTitle(){return this.state.step===A?i.a.createElement("div",null,i.a.createElement("div",{style:L.brioTitle},h.a._("Add your email to finish","Tagline on facebook rerequest form on home page","Tagline on facebook rerequest form on home page"))):this.state.step===M?i.a.createElement("div",null,i.a.createElement("div",{style:L.brioTitle},h.a._("Sign up to see more"))):this.state.step===P?i.a.createElement("div",null,i.a.createElement("div",{style:{...L.brioTitle,...L.brioTitleMfa}},h.a._("Two-Factor Authentication Required"))):i.a.createElement("div",null,i.a.createElement("div",{style:L.brioTitle},h.a._("Welcome to Pinterest","Title on desktop signup modal on home page","Title on desktop signup modal on home page")),i.a.createElement("div",{style:L.subtitle},h.a._("Find new ideas to try","Value prop on desktop signup modal on home page","Value prop on desktop signup modal on home page")))}renderMainComponent(){const{step:e,registrationCredentials:t}=this.state;if(e===A){const e={width:"320px",margin:"auto"},t={width:"260px",margin:"auto"},n={width:"268px",margin:"auto",marginTop:"96px"},r=h.a._("We need your email address to complete this signup. Click the button below, and we can use the email associated with your Facebook account.","message to explain reauth step beneath the tagline on homepage","message to explain reauth step beneath the tagline on homepage");return i.a.createElement("div",{style:e},i.a.createElement("div",{style:L.confirmationMessage},r),i.a.createElement("div",{style:t},i.a.createElement(u.a,{isRerequest:!0,container:"FBEmailRerequest",buttonText:h.a._("Continue with Facebook","Button text on facebook connect button on FB email reauth form","Button text on facebook connect button on FB email reauth form"),loadingIndicatorCallback:this.setLoadingIndicator,useGestaltTooltip:!0,handlePostConnectClick:this.handlePostConnectClick,handlePostSuccessConnect:this.handlePostSuccessConnect})),i.a.createElement("div",{style:n},i.a.createElement(c.f,{text:h.a._("Not now","word on not now button to dismiss the FB email reauth form on homepage","word on not now button to dismiss the FB email reauth form on homepage"),onClick:()=>{this.changeStep(j)},color:"gray",size:"md"})))}return e===M&&t?i.a.createElement(c.e,null,i.a.createElement(b.a,{container:this.props.container,loadingIndicatorCallback:this.setLoadingIndicator,registrationCredentials:t,showSignupWelcomeLoadingFn:this.showSignupWelcomeLoadingFn})):e===P?i.a.createElement(g.a,{container:this.props.container||"inspired_banner_mfa",code:this.state.mfaCode,creds:this.state.mfaCreds,email:this.state.email,inputStyleOverrides:L.brioInputFields,onCodeChange:this.handleDataChange.bind(this,"mfaCode"),password:this.state.password,phoneNumberEnd:this.state.mfaPhoneNumberEnd}):i.a.createElement(c.e,null,i.a.createElement(_.a,{age:this.state.age,container:this.props.container,email:this.state.email,emailValidationError:this.state.emailValidationError,gender:this.state.gender,loadingIndicatorCallback:this.setLoadingIndicator,name:this.state.name,passwordValidationError:this.state.passwordValidationError,onAgeChange:this.handleDataChange.bind(this,"age"),onEmailChange:this.handleDataChange.bind(this,"email"),onSocialConnectVerified:this.showAdditionalStep(M),onFBEmailDeniedPerm:()=>this.setState({step:A}),onGenderChange:this.handleDataChange.bind(this,"gender"),onLoginWithMfa:this.handleLoginWithMfa.bind(this),onNameChange:this.handleDataChange.bind(this,"name"),onPasswordChange:this.handleDataChange.bind(this,"password"),password:this.state.password,showSignupWelcomeLoadingFn:this.showSignupWelcomeLoadingFn,setNameFromEmail:this.setNameFromEmail.bind(this),sm:this.props.sm,clearPassword:this.clearPassword}))}renderPartnerTitle(){return i.a.createElement("div",null,i.a.createElement("div",{style:L.brioTitle},h.a._("Welcome to Pinterest")),i.a.createElement("div",{style:L.subtitle},h.a._("Grow your business")))}renderUnifiedSignup(){const{personalAccountType:e}=this.state,t={...L.brioModal,width:"400px"};return i.a.createElement("div",{style:t},this.renderLoadingIndicator(),i.a.createElement(c.e,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center"},i.a.createElement(c.e,{width:400},i.a.createElement("div",{style:L.brioModalWrapper},i.a.createElement("div",{style:L.brioLogo},i.a.createElement(m.a,{size:50})),e?this.renderBrioTitle():this.renderPartnerTitle(),e?this.renderMainComponent():i.a.createElement(a.a,{isAuth:!1,unifiedSignup:!0}),i.a.createElement(c.e,{height:62,marginTop:3,dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 8px 8px"}}}),this.renderBusinessCreateButton()))))}renderWithValueProp(e){const t={...L.brioModal,width:"800px"};return i.a.createElement("div",{style:t},this.renderLoadingIndicator(),i.a.createElement("div",{style:L.brioModalWrapper},i.a.createElement(c.e,{display:"flex"},i.a.createElement(c.l,{span:0,mdSpan:6},i.a.createElement(c.e,{dangerouslySetInlineStyle:{__style:{borderRight:"solid 1px #D8D8D8"}}},"enabled_features_variation"===(n=e)?i.a.createElement(C,null):"enabled_stats_variation"===n?i.a.createElement(x,null):null)),i.a.createElement(c.l,{span:6,mdSpan:6},i.a.createElement(c.e,{display:"flex",direction:"column",alignItems:"center",marginTop:7},i.a.createElement(c.e,null,i.a.createElement("div",{style:L.brioLogo},i.a.createElement(m.a,{size:50})),this.renderPartnerTitle(),i.a.createElement(a.a,{unifiedSignup:!0}),i.a.createElement(c.e,{height:62},i.a.createElement(c.U,{fullHeight:!0,onTap:({event:e})=>{this.setState(({personalAccountType:e})=>({personalAccountType:!0})),Object(T.a)("unauth.home.pinner_business_toggle.business.click"),Object(k.b)(101,{component:13096,element:10773,is_business_signup:!0})}},i.a.createElement(c.e,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},i.a.createElement(c.V,{weight:"bold"},h.a._("Create a personal account")))))))))));var n}renderErrorToast(){const e=this.props.errorMessage||h.a._("Something went wrong.","Default error message","Default error message");return i.a.createElement(c.e,{display:"flex",alignItems:"center",justifyContent:"center",minHeight:73,marginTop:8},i.a.createElement(l,{color:"red",text:e}))}getToggleText(e,t){return"login"===e?h.a._("Sign up","sign up for account toggle on homepage","sign up for account toggle on homepage"):t?h.a._("Log into existing account","business.signup.loginCopyExp","Copy for business sign up page"):h.a._("Log in","Label for log in button","Label for log in button")}render(){const{email:e,hideToggle:t,scaleModal:n,onClose:r,requestContext:o,shouldRenderErrorToast:a,showHPSignupCopy:l,showDismiss:u,nextUrlParam:h}=this.props,{fullPageModalType:f,mfaCreds:g,personalAccountType:m}=this.state,y=!m&&new O.b(o,"smb_login_copy_change").enabled();return i.a.createElement("div",{"data-test-id":"signup-modal-inspired",style:n?{height:"100%",width:"100%"}:{height:"100vh",overflowY:"scroll"}},this.state.showSignupWelcomeLoading?i.a.createElement(v.a,null):i.a.createElement(c.e,{position:"relative",height:"100%",display:"flex",justifyContent:"center"},m?i.a.createElement(c.e,{display:"flex",direction:"column",justifyContent:"center",height:n?"100%":""},a&&this.renderErrorToast(),i.a.createElement("div",{style:l?{...L.signupForm,display:"flex",justifyContent:"center"}:L.signupForm},l&&i.a.createElement("p",{className:"unauth-homepage-signup-title",style:{color:"white",alignSelf:"center",marginLeft:"4%",width:"30%",fontSize:70,fontWeight:600}},Object(w.b)()),i.a.createElement(d.default,{container:"home_page",email:e,signupSource:"homePage",type:f,handleModalTypeSwitch:this.toggleModalType,toggleType:"SMALL_TOGGLE",renderBusinessCreateButton:this.renderBusinessCreateButton,handleShowingSignupWelcomeLoading:this.showSignupWelcomeLoadingFn,mfaCreds:g,toggleModalType:this.toggleModalType,scaleModal:n,nextUrlParam:h,showCloseIcon:u,handleCloseButtonClick:r}))):i.a.createElement("div",{style:this.state.scrolling?L.contentWrapperScrolling:L.contentWrapper},i.a.createElement("div",{style:this.state.scrolling?L.spacingWrapperScrolling:L.spacingWrapper},i.a.createElement(c.e,{position:"relative"},this.renderUnifiedSignup()))),!t&&i.a.createElement(c.e,{alignItems:"stretch","data-test-id":"login"===f?"signup-button":"login-button",height:9,left:!0,top:!0,marginStart:6,marginTop:12,minWidth:130,position:"absolute"},i.a.createElement(c.f,{onClick:()=>{m?(Object(T.a)("unauth.home.toggle.click"),this.toggleModalType()):Object(s.a)(this.getLoginUrl())},text:this.getToggleText(f,y)})),i.a.createElement(p.default,{container:this.CONTAINER_ID,handleSignupError:()=>{},handleLoginWithMfa:e=>{this.setState({step:P,mfaCreds:e,fullPageModalType:"loginMfa"})},handleLoginError:e=>{"email"===e.type?this.setState({emailValidationError:e.message}):"password"===e.type?this.setState({passwordValidationError:e.message}):"login"===e.type&&("invalidEmail"===e.formattedError?this.setState({emailValidationError:e.message}):this.setState({passwordValidationError:e.message}))},handleSignupConfirmed:this.showAdditionalStep(M),handleShowLogin:()=>{Object(s.a)(this.getLoginUrl())}})))}}t.a=Object(I.e)(R)},etmJ:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"g",(function(){return m}));var r=n("gIz7");const i="pin-builder-font-faces",o="licensed",a="system",s="brand",c=4,l=[{fontGroup:o,fontFamily:"A-FRAME",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!0},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik XCond-Black.otf"}]},{fontGroup:o,fontFamily:"Cross-stitch",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"normal",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Medium.otf"}]},{fontGroup:o,fontFamily:"Lagoon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Gabriello-Black.otf"}]},{fontGroup:o,fontFamily:"Lava lamp",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Ultra Italic.otf"}]},{fontGroup:o,fontFamily:"Marathon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Produkt-Super Italic.otf"}]},{fontGroup:o,fontFamily:"Sourdough",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Publico Banner-Bold.otf"}]},{fontGroup:o,fontFamily:"Superglue",format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"",fontWeight:"normal",fontUrl:"https://assets.pinterest.com/fonts/Graphik-Bold+Italic.otf"}]},{fontGroup:a,fontFamily:"Merriweather",fontFaceUrl:"https://fonts.googleapis.com/css?family=Merriweather:700",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:o,fontFamily:"Noto Serif SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o,fontFamily:"Noto Sans SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o,fontFamily:"Noto Serif TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o,fontFamily:"Noto Sans TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o,fontFamily:"Noto Serif KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o,fontFamily:"Noto Sans KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o,fontFamily:"Noto Serif JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o,fontFamily:"Noto Sans JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o,fontFamily:"Noto Serif",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:o,fontFamily:"Noto Sans",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:a,fontFamily:"Playfair Display",fontFaceUrl:"https://fonts.googleapis.com/css?family=Playfair+Display:400",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Raleway",fontFaceUrl:"https://fonts.googleapis.com/css?family=Raleway:900",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Black",fontStyle:"",fontWeight:"900"}]},{fontGroup:a,fontFamily:"Roboto Condensed",fontFaceUrl:"https://fonts.googleapis.com/css?family=Roboto+Condensed:700i",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:a,fontFamily:"Suez One",fontFaceUrl:"https://fonts.googleapis.com/css?family=Suez+One&display=swap",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Domine",fontFaceUrl:"https://fonts.googleapis.com/css?family=Domine&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Overlock",fontFaceUrl:"https://fonts.googleapis.com/css?family=Overlock:900i&display=swap",fontOverrides:{letterSpacing:-1,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Black Italic",fontStyle:"",fontWeight:"400"}]},{fontGroup:a,fontFamily:"Satisfy",fontFaceUrl:"https://fonts.googleapis.com/css?family=Satisfy&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]}];function u(){return l}function d(e,t,n){const r=e.styles.find(e=>e.fontStyle===t&&e.fontWeight===n);return r?r.name:""}function p(e,t){return e.reduce((e,t)=>[...e,...t.fonts],[]).find(e=>e.fontFamily===t)||null}function h(e){return Object(r.a)(e,i)}function f(){return Object(r.a)(u(),"system-font-faces")}function g(){return Object(r.a)([l[c]],"pin-builder-education-font-faces")}function m(e){const t=function(e){const t=u();if(e){const n=t.findIndex(t=>t.localeFilter===e);if(n>=0)return t[n]}return t[6]}(e),n=t.defaultStyle,r=t.styles[n],{fontFamily:i,fontOverrides:a}=t,s=a&&a.textTransform?1:0,c=a&&a.lineHeight||1.2,l=a&&a.letterSpacing||0;return{fontGroupName:o,fontFamilyName:i,fontStyleName:r.name,fontWeight:r.fontWeight,fontSize:50,textColor:"#FFFFFF",marginIndex:1,alignmentIndex:1,positionIndex:2,backgroundColor:"",backgroundTransparencyIndex:0,lineHeight:c,letterSpacing:l,transformIndex:s,showMoreOptions:!1}}},evZB:function(e,t,n){e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},exCO:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),o=n("gTC0");function a({accessibilityLabel:e,handleClick:t,icon:n,isSVG:r,iconOnly:a}){return i.a.createElement(o.a,{accessibilityLabel:e,onClick:t,icon:n,isSVG:r,iconOnly:a})}},fEmT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=g(o),s=g(n("N1c7")),c=n("v83y"),l=g(n("kGJw")),u=g(n("7IEp")),d=g(n("ka8t")),p=g(n("AlZN")),h=g(n("eATT")),f=g(n("vgsE"));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=t.MentionSuggestions=function(e){function t(){var e,n,r;m(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isActive:!1,focusedOptionIndex:0},r.componentDidUpdate=function(e,t){if(r.popover){var n=r.props.suggestions.length;if(n>0&&r.state.focusedOptionIndex>=n&&r.setState({focusedOptionIndex:n-1}),!r.props.store.getAllSearches().has(r.activeOffsetKey))return;var i=r.props.store.getPortalClientRect(r.activeOffsetKey),o=r.props.positionSuggestions({decoratorRect:i,prevProps:e,prevState:t,props:r.props,state:r.state,popover:r.popover});Object.keys(o).forEach((function(e){r.popover.style[e]=o[e]}))}},r.componentWillUnmount=function(){r.props.callbacks.onChange=void 0},r.onEditorStateChange=function(e){var t=r.props.store.getAllSearches();if(0===t.size)return e;var n=function(){return r.props.store.resetEscapedSearch(),r.closeDropdown(),e},i=e.getSelection(),o=i.getAnchorKey(),a=i.getAnchorOffset();if(!i.isCollapsed()||!i.getHasFocus())return n();var s=t.map((function(e){return(0,p.default)(e)})).filter((function(e){return e.blockKey===o})).map((function(t){var n=t.blockKey,r=t.decoratorKey;return e.getBlockTree(n).getIn([r])}));if(s.every((function(e){return void 0===e})))return n();var c=e.getCurrentContent().getPlainText(),u=s.filter((function(e){return void 0!==e})).map((function(e){var t=e.start,n=e.end;return 0===t&&a===r.props.mentionTrigger.length&&c.charAt(a)!==r.props.mentionTrigger&&new RegExp(String.raw({raw:""+(0,l.default)(r.props.mentionTrigger)}),"g").test(c)&&a<=n||a>t+r.props.mentionTrigger.length&&a<=n}));if(u.every((function(e){return!1===e})))return n();var d=r.activeOffsetKey;return r.activeOffsetKey=u.filter((function(e){return!0===e})).keySeq().first(),r.onSearchChange(e,i,r.activeOffsetKey,d),r.props.store.isEscaped(r.activeOffsetKey)||r.props.store.resetEscapedSearch(),!r.state.isActive&&!r.props.store.isEscaped(r.activeOffsetKey)&&r.props.suggestions.length>0&&r.openDropdown(),void 0!==r.lastSelectionIsInsideWord&&u.equals(r.lastSelectionIsInsideWord)||r.setState({focusedOptionIndex:0}),r.lastSelectionIsInsideWord=u,e},r.onSearchChange=function(e,t,n,i){var o=(0,h.default)(e,t,r.props.mentionTrigger).matchingString;r.lastSearchValue===o&&n===i||(r.lastSearchValue=o,r.props.onSearchChange({value:o}))},r.onDownArrow=function(e){e.preventDefault();var t=r.state.focusedOptionIndex+1;r.onMentionFocus(t>=r.props.suggestions.length?0:t)},r.onTab=function(e){e.preventDefault(),r.commitSelection()},r.onUpArrow=function(e){if(e.preventDefault(),r.props.suggestions.length>0){var t=r.state.focusedOptionIndex-1;r.onMentionFocus(t<0?r.props.suggestions.length-1:t)}},r.onEscape=function(e){e.preventDefault();var t=r.lastSelectionIsInsideWord.filter((function(e){return!0===e})).keySeq().first();r.props.store.escapeSearch(t),r.closeDropdown(),r.props.store.setEditorState(r.props.store.getEditorState())},r.onMentionSelect=function(e){if(e){r.props.onAddMention&&r.props.onAddMention(e),r.closeDropdown();var t=(0,d.default)(r.props.store.getEditorState(),e,r.props.mentionPrefix,r.props.mentionTrigger,r.props.entityMutability);r.props.store.setEditorState(t)}},r.onMentionFocus=function(e){var t="mention-option-"+r.key+"-"+e;r.props.ariaProps.ariaActiveDescendantID=t,r.setState({focusedOptionIndex:e}),r.props.store.setEditorState(r.props.store.getEditorState())},r.commitSelection=function(){return r.props.store.getIsOpened()?(r.onMentionSelect(r.props.suggestions[r.state.focusedOptionIndex]),"handled"):"not-handled"},r.openDropdown=function(){r.props.callbacks.handleReturn=r.commitSelection,r.props.callbacks.keyBindingFn=function(e){40===e.keyCode&&r.onDownArrow(e),38===e.keyCode&&r.onUpArrow(e),27===e.keyCode&&r.onEscape(e),9===e.keyCode&&r.onTab(e)};var e="mention-option-"+r.key+"-"+r.state.focusedOptionIndex;r.props.ariaProps.ariaActiveDescendantID=e,r.props.ariaProps.ariaOwneeID="mentions-list-"+r.key,r.props.ariaProps.ariaHasPopup="true",r.props.ariaProps.ariaExpanded=!0,r.setState({isActive:!0}),r.props.onOpen&&r.props.onOpen()},r.closeDropdown=function(){r.props.callbacks.handleReturn=void 0,r.props.callbacks.keyBindingFn=void 0,r.props.ariaProps.ariaHasPopup="false",r.props.ariaProps.ariaExpanded=!1,r.props.ariaProps.ariaActiveDescendantID=void 0,r.props.ariaProps.ariaOwneeID=void 0,r.setState({isActive:!1}),r.props.onClose&&r.props.onClose()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.key=(0,c.genKey)(),this.props.callbacks.onChange=this.onEditorStateChange}},{key:"componentWillReceiveProps",value:function(e){0===e.suggestions.length&&this.state.isActive?this.closeDropdown():e.suggestions.length>0&&e.suggestions!==this.props.suggestions&&!this.state.isActive&&this.openDropdown()}},{key:"render",value:function(){var e=this;if(!this.state.isActive)return null;var t=this.props,n=t.entryComponent,i=t.popoverComponent,o=void 0===i?a.default.createElement("div",null):i,s=(t.onClose,t.onOpen,t.onAddMention,t.onSearchChange,t.suggestions,t.ariaProps,t.callbacks,t.theme),c=void 0===s?{}:s,l=(t.store,t.entityMutability,t.positionSuggestions,t.mentionTrigger,t.mentionPrefix,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["entryComponent","popoverComponent","onClose","onOpen","onAddMention","onSearchChange","suggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTrigger","mentionPrefix"]));return a.default.cloneElement(o,r({},l,{className:c.mentionSuggestions,role:"listbox",id:"mentions-list-"+this.key,ref:function(t){e.popover=t}}),this.props.suggestions.map((function(t,r){return a.default.createElement(u.default,{key:null!=t.id?t.id:t.name,onMentionSelect:e.onMentionSelect,onMentionFocus:e.onMentionFocus,isFocused:e.state.focusedOptionIndex===r,mention:t,index:r,id:"mention-option-"+e.key+"-"+r,theme:c,searchValue:e.lastSearchValue,entryComponent:n||f.default})})))}}]),t}(o.Component);_.propTypes={entityMutability:s.default.oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:s.default.func,onAddMention:s.default.func,suggestions:s.default.array},t.default=_},fEyW:function(e,t,n){var r=n("JL7T"),i=n("VTBg"),o=n("zVay"),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:u(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:u(e,o,r)})})),c(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:l(e,o,r),prevSibling:u(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:l(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:u(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:l(e,o,r),prevSibling:u(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:l(e,o,r),prevSibling:u(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),s(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var d=a?e.get(a):null,p=d?d.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:p})}))})),null!=p){var h=e.get(p);s(p,o,(function(e){return e.merge({children:h.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},p=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),h=t.getEndOffset(),f=o.get(s),g=o.get(u),m=f instanceof r,y=[];if(m){var _=g.getChildKeys(),v=c(u,o);g.getNextSiblingKey()&&(y=y.concat(v)),_.isEmpty()||(y=y.concat(v.concat([u]))),y=y.concat(c(i(g,o),o))}n=f===g?p(f.getCharacterList(),l,h):f.getCharacterList().slice(0,l).concat(g.getCharacterList().slice(h));var b=f.merge({text:f.getText().slice(0,l)+g.getText().slice(h),characterList:n}),w=m&&0===l&&0===h&&g.getParentKey()===s&&null==g.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===u})).filter((function(e,t){return-1===y.indexOf(t)})).concat(a([[u,null]])).map((function(e,t){return t===s?b:null})),E=o.merge(w).filter((function(e){return!!e}));return m&&f!==g&&(E=d(E,f,g,o)),e.merge({blockMap:E,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:l,focusKey:s,focusOffset:l,isBackward:!1})})}},fKCf:function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},fMZg:function(e,t,n){var r=n("2NuI");e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},fOPN:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},fUU4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={handleKeyCommand:function(e,t,n,i){var o=i.setEditorState,a=void 0;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":a=r.RichUtils.onBackspace(t);break;case"delete":case"delete-word":case"delete-to-end-of-block":a=r.RichUtils.onDelete(t);break;default:return"not-handled"}return null!=a?(o(a),"handled"):"not-handled"}}},fZAc:function(e,t,n){var r=n("mjHj"),i=n("2NuI"),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",a="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+a+"]"),c=new RegExp("["+o+a+"]");function l(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=l(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function d(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=u(e);return n===r.NEUTRAL?t:n}function p(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),d(e,t)}var h={firstStrongChar:l,firstStrongCharDir:u,resolveBlockDir:d,getDirection:p,isDirectionLTR:function(e,t){return p(e,t)===r.LTR},isDirectionRTL:function(e,t){return p(e,t)===r.RTL}};e.exports=h},faBS:function(e,t,n){e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=n("exCO"),a=n("7pfs"),s=n("n6mq");const c={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:r,icon:o}){return i.a.createElement(a.a,null,({active:a,focused:l,hovered:u,onBlur:d,onFocus:p,onMouseDown:h,onMouseEnter:f,onMouseLeave:g,onMouseUp:m})=>{let y={borderRadius:24};if(u){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";y={...y,backgroundColor:e}}if(a){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";y={...y,backgroundColor:e}}return l&&(y={...y,...c}),i.a.createElement("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:d,onFocus:p,onMouseDown:h,onMouseEnter:f,onMouseLeave:g,onMouseUp:m,onClick:r},i.a.createElement(s.e,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:y}},i.a.createElement(s.e,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}}},"share"===o&&i.a.createElement(s.e,null,i.a.createElement(s.t,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),i.a.createElement(s.e,{paddingX:3})),i.a.createElement(s.V,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold"},n))))})}var u=n("Ye/N"),d=n("CgR/");const p=({buttonType:e,handleSendShareFlyoutButtonClick:t,svgPath:n,isSVG:r,iconOnly:a})=>{const s="icon"===e,c=r&&n?n:"share",d={accessibilityLabel:u.a._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:t,icon:c};return s?i.a.createElement(o.a,Object.assign({},d,{isSVG:r,iconOnly:a})):i.a.createElement(l,Object.assign({},d,{buttonColor:"lightGray",buttonText:u.a._("Send","Text for button to send this pin","Text for button to send this pin")}))};t.default=d.a.makeSendShareButton(p)},fpRd:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI").memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));r.displayName="DragPreviewImage",t.default=r},fxrM:function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},fyOY:function(e,t,n){var r=n("lFJn"),i=n("M6rc"),o=n("ilWa"),a=n("c203"),s=n("DYKh"),c=n("zVay"),l=n("L2EA"),u=n("81KI"),d=n("2NuI"),p=n("Mh8y"),h=n("bu5B"),f=n("fEyW"),g=n("B0ab"),m=c.OrderedSet,y={replaceText:function(e,t,n,i,o){var a=h(e,t),s=f(a,t),c=r.create({style:i||m(),entity:o||null});return u(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,i){return t.isCollapsed()||d(!1),y.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=s(e,t),i=y.removeRange(e,t,"backward");return y.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=h(e,t),o=f(i,t);return l(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(i);var c=t.getStartOffset(),l=t.getEndOffset(),u=o.getEntityAt(c),d=s.getEntityAt(l-1);if(r===i&&u&&u===d){var p=a(e.getEntityMap(),o,s,t,n);return f(e,p)}var g=h(e,t);return f(g,t)},splitBlock:function(e,t){var n=h(e,t),r=f(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return p(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return p(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return p(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=h(e,t);return o(r,t,n)}};e.exports=y},fyRy:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("YeVe"),a=n("lFJn"),s=n("8uQm"),c=n("JL7T"),l=n("fyOY"),u=n("3sOJ"),d=n("rJY1"),p=n("cwFY"),h=n("zVay"),f=n("I2Ug"),g=p("draft_tree_data_support"),m=g?c:s,y=h.List,_=h.Repeat,v={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),s=e.getSelection(),c=l.removeRange(i,s,"backward"),p=c.getSelectionAfter(),h=l.splitBlock(c,p),f=h.getSelectionAfter(),v=l.setBlockType(h,f,"atomic"),b=a.create({entity:t}),w={key:d(),type:"atomic",text:n,characterList:y(_(b,n.length))},E={key:d(),type:"unstyled"};g&&(w=r({},w,{nextSibling:E.key}),E=r({},E,{prevSibling:w.key}));var S=[new m(w),new m(E)],C=o.createFromArray(S),x=l.replaceWithFragment(v,f,C),O=x.merge({selectionBefore:s,selectionAfter:x.getSelectionAfter().set("hasFocus",!0)});return u.push(e,O,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=f(o,t,s,r)}else{var c=l.removeRange(o,n,"backward"),d=c.getSelectionAfter(),p=c.getBlockForKey(d.getFocusKey());if(0===d.getStartOffset())i=f(c,t,p,"before");else if(d.getEndOffset()===p.getLength())i=f(c,t,p,"after");else{var h=l.splitBlock(c,d),g=h.getSelectionAfter(),m=h.getBlockForKey(g.getFocusKey());i=f(h,t,m,"before")}}var y=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return u.push(e,y,"move-block")}};e.exports=v},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("YO3V"),i=n.n(r);function o(e,t=!1){return n=>{if(!i()(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const r={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);i()(n[a])||t&&Array.isArray(n[a])?r[s]=o(e,t)(n[a]):r[s]=n[a]}),r}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,r)=>t.includes(r)?n:{...n,[r]:e[r]},{})}},gI5O:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("q1tI"),i=n.n(r);const o=Object(r.createContext)(null),a=o.Provider;function s(e){const t=t=>{const n=Object(r.useContext)(o);return i.a.createElement(e,Object.assign({},t,n))};return t.displayName=`FeaturedCommentContext(${String(e.displayName||e.name)})`,t}o.Provider},gIz7:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n("A0Lk"),i=n.n(r);function o(e,t){if("undefined"==typeof window)return Promise.resolve();let n=document.querySelector("#"+t);if(n)return Promise.resolve();n=document.createElement("style"),n.setAttribute("id",t),e.filter(e=>!!e.fontFaceUrl).forEach(e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))});const r=document.head;if(!r)return Promise.resolve();const o=document.createElement("style");o.setAttribute("id",t+"-font-faces"),r.appendChild(n),r.appendChild(o);const a=[];return e.forEach(e=>{e.styles.forEach(t=>{if(e.format&&t.fontUrl&&o&&o.sheet){o.sheet.insertRule(`\n            @font-face {\n              font-family: "${e.fontFamily}";\n              font-style: "${t.fontStyle}";\n              font-weight: "${t.fontWeight}";\n              src: url("${t.fontUrl}") format("${e.format}");\n            }`,0)}a.push(new i.a(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())})}),Promise.all(a)}},gLeT:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/QE7"),a=n("zwad"),s=n("n6mq");const c=Object(r.forwardRef)((e,t)=>{const{accessibilityLabel:n,color:r,__dangerouslyDisableSpammyDomainCheck:c,disabled:l,externalData:u,href:d,iconEnd:p,inline:h,onClick:f,onHistoryChange:g,size:m,tabIndex:y,target:_,text:v}=e,b=a.a.isOffsiteUrl(d);return i.a.createElement(o.a,{__dangerouslyDisableSpammyDomainCheck:b?c:void 0,href:d,isExternalLink:b,externalData:b?u:void 0,onClick:f,onHistoryChange:b?void 0:g,target:b?void 0:_},({handleClick:e})=>i.a.createElement(s.f,{accessibilityLabel:n,color:r,disabled:l,href:d,iconEnd:p,inline:h,onClick:e,ref:t,rel:b?"nofollow":void 0,role:"link",size:m,tabIndex:y,text:v}))});c.displayName="ButtonLink",t.a=c},gTC0:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("1Vso"),a=n("n6mq");const s={borderRadius:"50%"},c={backgroundColor:"rgb(226, 226, 226)"},l={backgroundColor:"rgb(218, 218, 218)"},u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},d={backgroundColor:"rgb(255,255,255)"},p=({accessibilityLabel:e,active:t,focused:n,hovered:r,icon:o,isSVG:p,iconOnly:h})=>{const f=h?{...s,...d}:{...s,...r?c:{},...t?l:{},...n?u:{}};return i.a.createElement(a.e,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:"circle",dangerouslySetInlineStyle:{__style:f}},i.a.createElement(a.e,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:h?30:44,minWidth:h?30:44}}},p?i.a.createElement(a.t,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:o},color:"darkGray",inline:!0,size:h?16:20}):i.a.createElement(a.t,{accessibilityLabel:e,icon:o,color:"darkGray",inline:!0,size:h?16:20})))};t.a=e=>{const{accessibilityLabel:t,onClick:n,icon:r,isSVG:a,shadowType:s,iconOnly:c}=e;return i.a.createElement(o.a,{accessibilityLabel:t,className:s||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"}},({active:e,hovered:n,focused:o})=>i.a.createElement(p,{active:e,accessibilityLabel:t,hovered:n,focused:o,icon:r,isSVG:a,iconOnly:c}))}},gTp2:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("TSYQ"),s=n.n(a),c=n("sEfC"),l=n.n(c),u=n("Up+5"),d=n("4gAt"),p=n("+JjG"),h=n("kMiw"),f=n("7GHV"),g=n("q8wg"),m=n("sH+O"),y=n("n6mq");const _=({pageCount:e,pageNumber:t})=>i.a.createElement(y.e,{left:!0,top:!0,color:"lightGray",marginTop:4,marginStart:4,paddingX:2,paddingY:1,position:"absolute",rounding:4},i.a.createElement(y.V,{size:"md"},t," / ",e));var v=({activePageIndex:e,fontsLoaded:t,index:n,isActive:r,muteVideos:o,onChangeMuteVideo:a,onClickThrough:c,ownerId:l,page:u,pageCount:y,pageWidth:v,pinId:b,showPreview:w,stillLoading:E,templateType:S,version:C})=>{const x=0===u.layout,O={StoryPinSlide:!0,StoryPinSlide__isActive:r},k=x?227:228,T=Object(m.a)(C,"0.8.0"),I=null!=T&&T>=0;return i.a.createElement(g.a,{viewParameter:157,component:k,auxData:{story_pin_page_id:n,story_pin_template_type:S}},i.a.createElement("div",{className:s()(O)},i.a.createElement("div",{className:"StoryPinSlide__pageContainer"},!w&&(I?i.a.createElement(p.a,{activePageIndex:e,fontsLoaded:t,isActive:r,muteVideos:o,onChangeMuteVideo:a,ownerId:l,page:u,pageIndex:n,pageWidth:v,pinId:b,stillLoading:E}):(t=>{switch(t.layout){case 0:case 1:return i.a.createElement(d.a,{activePageIndex:e,hideText:x,isActive:r,isCoverPage:x,muteVideos:o,onClickThrough:c,page:t,pageIndex:n,pageWidth:v,pinId:b});case 4:return t.blocks.length>0&&i.a.createElement(f.a,{blocks:t.blocks,pageId:"text-"+n,pinId:b,onClickThrough:c});case 3:return i.a.createElement(h.a,{page:t});default:return null}})(u)),w&&i.a.createElement(p.a,{activePageIndex:e,isPreview:!0,fontsLoaded:!1,isActive:r,muteVideos:o,onChangeMuteVideo:a,ownerId:l,page:u,pageIndex:n,pageWidth:v,pinId:b}),i.a.createElement(_,{pageNumber:n+1,pageCount:y}))))},b=n("DzJC"),w=n.n(b),E=n("OSge"),S=n("P0Nc"),C=n("U4JR"),x=n("YGxj"),O=n("Ye/N");const k=1,T=-1;function I({disableBackward:e,disableForward:t,paginate:n}){const r=i.a.useRef(null);return i.a.createElement("div",{className:"StoryPinSlideshowControls"},!e&&i.a.createElement("div",{className:"StoryPinSlideshowControls__backward"},i.a.createElement(y.u,{accessibilityLabel:O.a._("Go to previous page","a11y label for Story Pin pagination (previous page)","a11y label for Story Pin pagination (previous page)"),bgColor:"white",icon:"arrow-back",iconColor:"darkGray",onClick:e=>{e.event.stopPropagation(),e.event.preventDefault(),n(T)},size:"md"})),!t&&i.a.createElement("div",{className:"StoryPinSlideshowControls__forward",ref:r},i.a.createElement(y.u,{accessibilityLabel:O.a._("Go to next page","a11y label for Story Pin pagination (next page)","a11y label for Story Pin pagination (next page)"),bgColor:"white",icon:"arrow-forward",iconColor:"darkGray",onClick:e=>{e.event.stopPropagation(),e.event.preventDefault(),n(k)},size:"md"}),r&&r.current&&i.a.createElement(x.a,{anchor:r.current,experienceIds:[501980],placementId:12})))}var D=n("y2Ga"),P=n("pf20");function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=[5,6,2];class A extends r.Component{constructor(e){var t;super(e),t=this,j(this,"slideshowContainerRef",Object(r.createRef)()),j(this,"getRenderablePages",e=>e.filter(e=>!M.includes(e.layout))),j(this,"getFontsUsedAndLoad",(async function(){var e;const{pin:n}=t.props,r=((null===(e=n.story_pin_data)||void 0===e?void 0:e.pages)||[]).reduce((e,t)=>{const n=t.blocks.find(e=>["story_pin_paragraph_block","story_pin_heading_block"].includes(e.type));if("story_pin_paragraph_block"===(null==n?void 0:n.type)||"story_pin_heading_block"===(null==n?void 0:n.type)){var r;const t=(null===(r=n.style)||void 0===r?void 0:r.font)||E.b.font;e[t.name]||(e[t.name]=t)}return e},{});if(Object.keys(r).length>0){const e=Object.keys(r).map(e=>{const t=r[e];return Object(S.b)({letterSpacing:t.letter_spacing,lineHeight:t.line_height,name:t.name,url:t.url})});await Object(u.a)(e),t.setState({fontsLoaded:!0})}})),j(this,"handleChangeMuteVideos",e=>{this.setState({muteVideos:e})}),j(this,"handleResize",l()(()=>{const e=this.getPageWidth();e&&this.setState({pageWidth:e}),this.scrollToSlide(this.state.activePageIndex)},200)),j(this,"handleScrollEnd",l()(()=>{this.setState({isScrolling:!1})},200)),j(this,"handleScroll",w()(()=>{this.logScrollEngagement();const{activePageIndex:e,pageWidth:t,prevScrollLeft:n}=this.state,r=this.slideshowContainerRef.current&&this.slideshowContainerRef.current.scrollLeft||0,i=r>n?"forward":"backward",o=Math.floor((r+.5*t)/t);e!==o&&this.startStoryPinStepPwtTiming(o),this.setState({activePageIndex:o,scrollDirection:i,isScrolling:!0,prevScrollLeft:r})},16)),j(this,"logScrollEngagement",()=>{const{pin:{id:e}}=this.props;Object(C.b)(7588,{view:3,viewParameter:157,objectId:e}),this.logScrollEngagement=()=>{}}),j(this,"setGradientHeight",()=>{const e=document.getElementsByClassName("closeupLegoContainer")[0],t=e&&e.offsetHeight,{current:n}=this.slideshowContainerRef;if(n){if(t>n.offsetHeight-20){document.querySelectorAll('[data-test-id="gradient"]')[0].style.height=t+52+"px"}}}),j(this,"scrollToSlide",e=>{const t=Math.ceil(e*this.state.pageWidth);this.slideshowContainerRef.current&&this.slideshowContainerRef.current.scrollTo({left:t,behavior:"smooth"})}),j(this,"startStoryPinStepPwtTiming",e=>{const{pin:t,pwtSurfaceContext:n,storyPinStepStopwatch:r}=this.props,{pages:i=[]}=t.story_pin_data||{};if(n&&n.abort("startNewPwt"),r){const t=this.getRenderablePages(i);r.abort("startNewPwt"),r.start(),r.addBinaryAnnotation("page.current.index",e,"I16"),r.addBinaryAnnotation("page.count",t.length,"I16")}}),j(this,"handlePaginate",e=>{this.slideshowContainerRef.current&&(this.slideshowContainerRef.current.scrollLeft+=e*this.state.pageWidth)}),this.state={activePageIndex:0,fontsLoaded:!1,isScrolling:!1,mediaDataReceived:!!e.pin&&this.checkMediaDataReceived(e.pin),muteVideos:e.isLandingPage,pageWidth:0,prevScrollLeft:0,scrollDirection:"forward"}}componentDidMount(){const e=this.getPageWidth();e&&this.setState({pageWidth:e}),this.slideshowContainerRef.current&&this.slideshowContainerRef.current.addEventListener("scroll",this.handleScroll),this.slideshowContainerRef.current&&this.slideshowContainerRef.current.addEventListener("scroll",this.handleScrollEnd),window.addEventListener("resize",this.handleResize),this.setGradientHeight(),this.getFontsUsedAndLoad(),setTimeout(()=>this.setState({mediaDataReceived:!0}),2e3)}componentDidUpdate(e){const{activePageIndex:t,mediaDataReceived:n}=this.state,{pin:r,pwtSurfaceContext:i}=this.props,{pages:o=[]}=r.story_pin_data||{},a=this.getPageWidth();if(a&&!this.state.pageWidth&&this.setState({pageWidth:a}),r!==e.pin&&!n){if(this.setState({mediaDataReceived:this.checkMediaDataReceived(r)}),i){const e=this.getRenderablePages(o);i.addBinaryAnnotation("page.current.index",t,"I16"),i.addBinaryAnnotation("page.count",e.length,"I16")}this.getFontsUsedAndLoad()}}componentWillUnmount(){this.slideshowContainerRef.current&&this.slideshowContainerRef.current.removeEventListener("scroll",this.handleScroll),this.slideshowContainerRef.current&&this.slideshowContainerRef.current.removeEventListener("scroll",this.handleScrollEnd),window.removeEventListener("resize",this.handleResize)}checkMediaDataReceived(e){const{story_pin_data:t}=e;if(!t)return!1;return t.pages.map(e=>!!e.blocks.find(e=>!!("story_pin_image_block"===e.type&&e.image||"story_pin_video_block"===e.type&&e.video))).filter(e=>!!e).length>0}getPageWidth(){const{current:e}=this.slideshowContainerRef;if(e){const t=(e?Array.from(e.getElementsByClassName("StoryPinSlide")):[]).find(e=>e.classList.contains("StoryPinSlide__isActive"));if(t)return t.getBoundingClientRect().width}return null}render(){const{pin:e,onClickThrough:t}=this.props,{activePageIndex:n,fontsLoaded:r,isScrolling:o,mediaDataReceived:a,muteVideos:c,pageWidth:l}=this.state,{metadata:u,pages:d=[]}=e.story_pin_data||{},{template_type:p=null,version:h}=e.story_pin_data?u:{},f=s()("StoryPinSlideshow",{StoryPinSlideshow__is_scrolling:o}),m=this.getRenderablePages(d),_=m.slice(0,Math.min(n+4,m.length));return i.a.createElement(g.a,{view:3,viewParameter:140,component:85},i.a.createElement("div",{className:"StoryPinSlideshow_container","data-test-id":"story-pin-slideshow"},i.a.createElement("div",{className:f,ref:this.slideshowContainerRef},m.map((o,s)=>i.a.createElement(y.U,{disabled:s===n,fullWidth:!1,key:`${e.id}${o.id}`,onTap:s!==n?()=>{this.scrollToSlide(s)}:void 0},i.a.createElement(v,{fontsLoaded:r,activePageIndex:n,index:s,isActive:s===n,muteVideos:c,onChangeMuteVideo:this.handleChangeMuteVideos,onClickThrough:t,ownerId:e.native_creator?e.native_creator.id:"",page:o,pageCount:m.length,pageWidth:l,pinId:e.id,showPreview:s>=_.length,stillLoading:!a,templateType:p,version:h})))),i.a.createElement(I,{paginate:this.handlePaginate,disableBackward:0===n,disableForward:n>=m.length-1})))}}t.a=Object(o.connect)(e=>({isLandingPage:0===e.history.previous.length}),()=>({}))((function(e){const t=Object(P.b)(),n=Object(D.c)();return i.a.createElement(A,Object.assign({},e,{pwtSurfaceContext:n,storyPinStepStopwatch:t}))}))},gWRK:function(e,t,n){e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},"h/2P":function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("CYTE"),a=n("hpMJ"),s=n("T401"),c=n("Yrnb"),l=n("gWRK"),u=n("eOzY"),d=o.isBrowser("Firefox");function p(e,t,n,o,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return i.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var o=n.getSelection(),h=o.getStartOffset(),f=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void e.update(p(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var g,m=p(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),y=!1;if(y||(y=c(e._latestCommittedEditorState)),!y){var _=n.getBlockTree(f),v=m.getBlockTree(f);y=_.size!==v.size||_.zip(v).some((function(e){var t=e[0],n=e[1],i=t.get("start"),o=i+(i>=h?r.length:0),a=t.get("end"),s=a+(a>=h?r.length:0),c=n.get("start"),l=n.get("end"),u=n.get("decoratorKey");return t.get("decoratorKey")!==u||t.get("leaves").size!==n.get("leaves").size||o!==c||s!==l||null!=u&&l-c!=a-i}))}if(y||(g=r,y=d&&("'"==g||"/"==g)),y||(y=l(m.getDirectionMap()).get(f)!==l(n.getDirectionMap()).get(f)),y)return t.preventDefault(),m=i.set(m,{forceSelection:!0}),void e.update(m);m=i.set(m,{nativelyRenderedContent:m.getCurrentContent()}),e._pendingStateFromBeforeInput=m,u((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},h2as:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default=function(e){var t=e.getCurrentContent().getBlockMap(),n=t.last().getKey(),i=t.last().getLength(),o=new r.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i});return r.EditorState.acceptSelection(e,o)}},h7e3:function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m}));var r=n("3R0Q"),i=n("EHyI"),o=n("SyXB"),a=n("FylZ"),s=n("mRg4"),c=n("XtwW"),l=n("fZG9"),u=n("3/Bf");const d={},p=(e,t)=>{t.forEach(t=>{d[t]=(({name:e,pwtStaticContext:t})=>{if(!c.a||!Object(i.a)())return null;const n={type:"stopwatch",name:e},o=[];let u=!0;return{abort:e=>{u&&(u=!1,Object(s.a)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{u&&o.push({label:e,timestamp:c.a.now()})},stop:()=>{if(!u)return;u=!1;const e={type:"COMPLETE",traceId:Object(a.a)(),startTime:0,endTime:c.a.now(),spans:[],annotationMap:Object(r.a)(o),binaryAnnotationMap:Object(l.a)({metricId:n,pwtStaticContext:t})};Object(s.a)({metricId:n,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})})},h=e=>d[e],f=(e,t)=>{const n=h(e);if(n)try{n.abort(t)}catch(r){Object(u.b)("app_load_stopwatch_error",{name:e,result:"abort"})}},g=(e,t)=>{const n=h(e);n&&(n.annotate(t),Object(o.c)(`stopwatch_${e}_${t}`))},m=e=>{const t=h(e);if(t)try{t.stop()}catch(n){Object(u.b)("app_load_stopwatch_error",{name:e,result:"complete"})}}},hM3f:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h}));var r=n("aAE7"),i=n.n(r),o=n("n6mq"),a=n("v83y"),s=n("TgLd");const c=5,l=5,u=({text:e,mentions:t})=>{const n=[],r={},i=[];t&&t.forEach((e,t)=>{const{length:n,offset:o,object_id:a}=e;r[t]={data:{mention:{id:a}},mutability:"IMMUTABLE",type:"mention"},i.push({key:t,length:n,offset:o})}),n.push({text:e,key:null,depth:null,inlineStyleRanges:null,type:"unstyled",entityRanges:i});return Object(a.convertFromRaw)({entityMap:r,blocks:n})},d=e=>{const t=[];let n=0;return e.getBlocksAsArray().forEach((r,i)=>{let o=null;r.findEntityRanges(t=>{const n=t.getEntity();if(!n)return!1;const r=e.getEntity(n);return"mention"===r.getType()&&(o=r.data.mention,!0)},(e,r)=>{o&&t.push({object_id:o.id,offset:n+e,length:r-e,tag_type:1})}),n+=1+r.getLength()}),t},p=({suggestions:e})=>e.map(e=>({...e,name:e.username})),h=({decoratorRect:e,popover:t,state:n,props:r,...a})=>{const c=(e.x||e.left)+t.offsetWidth,l=(e.y||e.top)+t.offsetHeight,{top:u,left:d}=i()({decoratorRect:e,popover:t,state:n,props:r});let p=null;c>window.innerWidth&&(p=parseFloat(d)-c%window.innerWidth+"px");let h="",f=parseFloat(u)+5+"px";return l>window.innerHeight&&(h="translateY(-100%)",f=parseFloat(u)-20+"px"),{display:"block",top:f,left:p||d,zIndex:new o.m([s.a]).index(),transform:h}}},hMpd:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n("zVay").Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},hUD8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVT4"),i=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=r.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=r.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=i},he3k:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s}));const r=48,i=r+8,o=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),a="comment_featured_ids",s="did_it_featured_ids"},hpMJ:function(e,t,n){var r=n("Gn5D").notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:i(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),i(e.getEntityMap(),n)}},htxO:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("zwad");function i(e){const t=function(e){const{hostname:t}=r.a.parse(e,!0);if(t&&e){if(e.match(/^(http|https):\/\/(www.)?google\.com$|google\.(co|com)\.[a-z]{2}$|google\.[a-z]{2}$/))return"GOOGLE";if(t.includes("bing."))return"BING";if(t.includes("yahoo."))return"YAHOO"}return""}(e);return["GOOGLE","BING","YAHOO"].includes(t)}function o(e,t){const n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>n.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}},hwQX:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("a8hX"),s=n("EXPn"),c=n("Klk4"),l=n("Ye/N"),u=n("TgLd"),d=n("HTqQ"),p=n("eBDd"),h=n("M1Uz"),f=n("DR2l"),g=n("he3k"),m=n("CONZ"),y=n("prCw"),_=n("U4JR"),v=n("AnoD"),b=n("xmd6"),w=n("WgbR"),E=n("Q7+p"),S=n("GaY9"),C=n("DfJT"),x=n("OI9p"),O=n("tiNQ"),k=n("BJm1"),T=n("nGHF"),I=n("n6mq"),D=n("ANjH");function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.a.PureComponent{constructor(...e){var t;super(...e),t=this,P(this,"state",{inEditMode:!1,isLoadingNewCreatedComment:!1,renderActiveModal:()=>null,showReplyComposer:!1}),P(this,"componentDidMount",()=>{const{onUpdate:e,parentObjectId:t}=this.props;this.parentObjectTemp.id=t,e&&e()}),P(this,"parentObjectTemp",{}),P(this,"handleClickLike",()=>{const{aggregatedCommentId:e,comment:{reaction_by_me:t},toggleLikeComment:n}=this.props;n({aggregatedCommentId:e,isLikedByMe:!!t})}),P(this,"handleClickHelpful",()=>{const{aggregatedCommentId:e,comment:{marked_helpful_by_me:t},toggleHelpful:n}=this.props;n({aggregatedCommentId:e,isMarkedHelpfulByMe:!!t})}),P(this,"toggleReplyComposer",()=>this.setState({showReplyComposer:!this.state.showReplyComposer})),P(this,"handleAddComment",(async function(e){const{aggregatedCommentId:n,createComment:r,parentObjectId:i,updateCommentCount:o}=t.props;let a,s=n;t.toggleReplyComposer(),t.setState({isLoadingNewCreatedComment:!0}),t.isReply&&(s=i,a=n),await r({objectType:b.a.aggregatedComment,objectId:s,tags:e.tags,text:e.contentMarkdown,replyToCommentId:a}),o(t.isReply?i:n,1),t.setState({isLoadingNewCreatedComment:!1})})),P(this,"handleDelete",()=>{const{aggregatedCommentId:e,deleteComment:t,updateParentCommentCount:n,parentObjectId:r}=this.props;t({aggregatedCommentId:e,feedType:"aggregatedComments",type:this.isReply?g.c.REPLY_TO_AGGREGATED:g.c.TOP,parentId:r}),n(r,-1)}),P(this,"handleOnEdit",()=>{this.setState({inEditMode:!0})}),P(this,"handleOnEdited",e=>{const{aggregatedCommentId:t,updateComment:n}=this.props;this.setState({inEditMode:!1}),n({commentId:t,tags:e.tags,text:e.contentMarkdown})}),P(this,"handleOnEditCancel",()=>{this.setState({inEditMode:!1})}),P(this,"handleRemoveMention",()=>{const{aggregatedCommentId:e,deleteCommentMention:t,toastManagerContext:{showOneToast:n},viewerId:r}=this.props;t(e),Object(_.b)(8909,{component:13464,tag_id:r,tag_type:1,view:3,viewParameter:140}),n(({onHide:e})=>i.a.createElement(h.a,{onHide:e,text:l.a._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")}))}),P(this,"showConfirmDeleteModal",()=>{this.setState({renderActiveModal:this.renderConfirmDeleteModal})}),P(this,"showLikeListModal",()=>{this.setState({renderActiveModal:this.renderLikeListModal})}),P(this,"hideModal",()=>{this.setState({renderActiveModal:()=>null})}),P(this,"renderFlyout",()=>{const{comment:e,creatorId:t,didItOwnerId:n,pinDomainOwnerId:r,reportComment:o,viewerId:a}=this.props,{tagged_users:c,user:{id:l}}=e,u=a===l||a===n||a===r||a===t,d=a===l,p=a!==l,h=c.filter(e=>e.id===a).length>0;return i.a.createElement(s.a,{handleClickReport:p?o:null,handleDelete:u?this.showConfirmDeleteModal:null,handleOnEdit:d?this.handleOnEdit:null,handleRemoveMention:h?this.handleRemoveMention:null,small:!0})}),P(this,"renderConfirmDeleteModal",()=>i.a.createElement(a.a,{accessibilityModalLabel:l.a._("Deleting a comment","Label for deleting a comment","Label for deleting a comment"),heading:l.a._("Are you sure?","Are you sure to remove post or comment","Are you sure to remove post or comment"),cancelButtonText:l.a._("Cancel","Cancel deleting comment","Cancel deleting comment"),confirmButtonText:l.a._("Delete","Delete comment","Delete comment"),detail:l.a._("This comment will be deleted","confirmation before deleting comment","confirmation before deleting comment"),onConfirm:this.handleDelete,onDismiss:this.hideModal})),P(this,"renderLikeListModal",()=>{const{aggregatedCommentId:e,comment:{reaction_counts:t}}=this.props,n=t[1];return i.a.createElement(u.b,{accessibilityModalLabel:l.a._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item Comment","Label for a modal showing a list of users who have liked a Tried Item Comment"),heading:Object(p.a)(l.a.ngettext("{{count}} Like","{{count}} Likes",n),{count:n.toString()}),onDismiss:this.hideModal,size:"md"},i.a.createElement(f.a,{id:e}),",")})}get isReply(){const{depth:e}=this.props;return e===C.d}render(){if(!this.props.comment||!this.props.comment.user)return null;const{aggregatedCommentId:e,comment:{comment_count:t,created_at:n,reaction_by_me:r,reaction_counts:o,marked_helpful_by_me:a,helpful_count:s,tags:u,tagged_users:d,text:p,user:{full_name:h}},comment:f,creatorId:g,depth:m,didItOwnerId:y,isManagedView:_,onUpdate:w,parentObjectId:E,pinDomainOwnerId:S}=this.props,{inEditMode:x,isLoadingNewCreatedComment:O,renderActiveModal:k,showReplyComposer:T}=this.state,D=t>0,P=this.isReply?0:48;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{avatarSize:this.isReply?"sm":"md",commentAuthor:f.user,commentCount:t,commentId:e,contentText:p,createdAt:n,flyout:this.renderFlyout(),handleHelpfulClick:this.handleClickHelpful,handleLikeClick:this.handleClickLike,handleLikeCountClick:this.showLikeListModal,handleOnEditCancel:this.handleOnEditCancel,handleOnEdited:this.handleOnEdited,handleReplyClick:this.toggleReplyComposer,helpfulCount:s,hideAddObjects:!0,hideReplyCount:!0,inEditMode:x,isLikedByMe:!!r,isMarkedHelpfulByMe:a,parentObject:this.parentObjectTemp,reactionCounts:o,taggedUsers:d,tags:u,truncateText:!0,type:b.a.aggregatedComment}),T&&i.a.createElement(I.e,{dangerouslySetInlineStyle:{__style:{paddingLeft:P}},"data-test-id":"reply-composer"},i.a.createElement(I.e,{display:"flex",marginTop:2},i.a.createElement(I.e,{flex:"grow"},i.a.createElement(v.a,{avatarSize:"sm",hideAddObjects:!0,onAddItem:this.handleAddComment,onCancelItem:this.toggleReplyComposer,onEnter:()=>{},objectType:b.a.aggregatedComment,parentObjectId:this.parentObjectTemp.id,replyToObject:this.isReply?f:null,statusType:"textInflightCreation"})))),D&&i.a.createElement(I.e,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}}},i.a.createElement(C.e,{comment:f,commentCount:t,creatorId:g,didItOwnerId:y,depth:m,isManagedView:_,objectId:e,objectType:b.a.aggregatedComment,onUpdate:w,parentObjectId:E,pinDomainOwnerId:S,replyToName:h,variant:"legacy"}),i.a.createElement(I.O,{accessibilityLabel:l.a._("Comments loading"),show:O})),k())}}t.a=Object(D.compose)(Object(o.connect)((e,t)=>({comment:e.aggregatedComments[t.aggregatedCommentId]}),(e,t)=>{const{aggregatedCommentId:n,objectType:r}=t,i={[b.a.aggregatedComment]:Object(D.bindActionCreators)(O.a,e),[b.a.didIt]:Object(D.bindActionCreators)(k.e,e),[b.a.pin]:Object(D.bindActionCreators)(y.a,e)};return{createComment:Object(D.bindActionCreators)(w.a,e),deleteComment:Object(D.bindActionCreators)(E.a,e),deleteCommentMention:t=>e(Object(m.a)(t)),toggleLikeComment:Object(D.bindActionCreators)(x.b,e),toggleHelpful:Object(D.bindActionCreators)(x.a,e),updateComment:Object(D.bindActionCreators)(x.c,e),hideComment:Object(D.bindActionCreators)(S.b,e),updateCommentCount:Object(D.bindActionCreators)(O.a,e),updateParentCommentCount:i[r],reportComment:()=>e(Object(d.a)({id:n,viewType:null,viewParameter:null}))}}),T.c)(j)},hyAj:function(e,t,n){var r=n("DYKh");e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},i9Af:function(e,t,n){n.r(t),n.d(t,"exchangeTokenAndSetSession",(function(){return u})),n.d(t,"verifyLoggedInStatus",(function(){return d})),n.d(t,"registerUser",(function(){return p})),n.d(t,"loginUser",(function(){return h}));var r=n("T0g9"),i=n("eOdZ"),o=n("kmwA"),a=n("28DW"),s=n("J8m7");const c=o.a.settings.ACCOUNTS_PINTEREST_URL,l=(e,t,n,r)=>{const i=e=>{const t=new Error(e.statusText);throw t.response=e,!t.api_error_code&&t.response&&(t.api_error_code=t.response.code,t.message=t.response.message),t},o={credentials:"include",mode:"cors"};return"POST"===n&&(o.method="POST",o.body=t,o.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":r},r||Object(a.a)("unauth.auth_handshake.cross_domain.no_unauth_id."+n)),fetch(e,o).then(e=>200===e.status||401===e.status?e:(i(e),{})).then(e=>e.json()).then(e=>"success"===e.status?Promise.resolve(e):e.code===s.r?(e.api_error_code=e.code,Promise.reject(e)):(i(e),{})).catch(e=>{throw e})},u=(e,t=!1)=>i.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),d=e=>{l(c+"/v3/handshake/verify/","","GET",e).then(e=>{if(e&&e.data){const t=e.data;u(t).then(e=>{window.location.reload()},e=>{})}},e=>{})},p=(e,{facebookToken:t,inviteCode:n,locale:i,referrer:a,unauthId:s})=>{const c=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",u={};if(u.email=e.email||"",u.username=e.username||"",u.password=e.password||"",u.first_name=e.first_name||"",u.last_name=e.last_name||"",u.country=e.country||"",u.locale=i,u.referrer=a,e.age){const t=new Date;t.setFullYear(t.getFullYear()-e.age);const n=parseInt(t/1e3,10);u.birthday=n.toString()}if(e.custom_gender&&(u.custom_gender=e.custom_gender),e.gender&&(u.gender=e.gender),e.business_name&&(u.account_type=e.account_type,u.business_name=e.business_name,u.first_name=e.business_name),n&&(u.invite_code=n),e.facebook_id){const n=t||e.facebook_token||"";u.facebook_id=e.facebook_id,u.facebook_token=n,u.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(u.password=e.password||"",u.one_time_code=e.gplus_code,u.id_token=e.gplus_id_token,u.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(u.recaptcha_v3_token=e.recaptchaV3Token),l(`${o.a.settings.ACCOUNTS_PINTEREST_URL}/v3/register/${c}/`,Object(r.a)(u),"POST",s)},h=(e,{facebookToken:t,recaptchaV3Token:n,referrer:i,unauthId:a})=>{const s=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",c={};if(e.username_or_email&&(c.username_or_email=e.username_or_email.trim(),c.password=e.password,c.referrer=i),e.facebook_id){const n=t||e.facebook_token||"";c.facebook_id=e.facebook_id,c.facebook_token=n,c.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(c.gplus_id_token=e.gplus_id_token,c.gplus_access_token=e.gplus_access_token,c.gplus_expires_at=e.gplus_expires_at,c.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(c.mfa_token=e.mfa_token),n&&(c.token=n),l(`${o.a.settings.ACCOUNTS_PINTEREST_URL}/v3/login/${s}/`,Object(r.a)(c),"POST",a)}},i9se:function(e,t,n){n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n("Y+p1"),i=n.n(r),o=n("QkVN"),a=n.n(o),s=n("KFEb");const c={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},l={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},u={[l.BOARD]:s.a.BOARD_ACTIVITYITEMS,[l.BOARD_ACTIVITY]:s.a.BOARD_ACTIVITYCOMMENTS,[l.BOARD_ACTIVITY_COMMENT]:s.a.BOARD_ACTIVITYCOMMENTS},d={},p=(e,t)=>{const n={...a()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return i()(e,n)?e:n},h=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,r=t.ref_board_activity;n&&r&&(e.push({...n,user:t.user}),e.push(r),e.push({...t,comment:{id:n.id},ref_board_activity:{id:r.id}}))}else e.push(t);return e},[]);t.d=(e=d,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:r,options:i}}=t;if("BoardActivityCommentFeedResource"===r){const t=(n||[]).reduce((t,n)=>(t[n.id]=p(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===r){const t=h(n||[]).reduce((t,n)=>(t[n.id]=p(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===r&&n){const t=n;return{...e,[t.id]:p(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===r){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:p(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===r&&n){const t=n,r={[t.id]:p(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;r[n]=p(e[n],t.root_board_activity)}return{...e,...r}}if("NewsHubDetailsResource"===r&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===l.BOARD_ACTIVITY_COMMENT||n===l.BOARD_ACTIVITY){const n=e.content_object;h([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(r)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:p(e[t.id],t)}}if(("BoardFeedResource"===r||"BoardSectionPinsResource"===r)&&("react_grid_pin_with_board_activity"===i.field_set_key||"partner_react_grid_pin_with_board_activity"===i.field_set_key)||"BoardActivityPinsFeedResource"===r){const t=(n||[]).reduce((t,n)=>{const r=n.board_activity;return r&&r.id&&(t[r.id]=p(e[r.id],r)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:r}}=t;if(r===l.BOARD_ACTIVITY_COMMENT||r===l.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:p(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:r}}=t,i=e[r];if(i&&[l.BOARD_ACTIVITY_COMMENT,l.BOARD_ACTIVITY].includes(i.type)){const t={...i,comment_count:n?i.comment_count+1:i.comment_count-1};return{...e,[r]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:r,reactionType:i}}=t,o=e[r]||{},{reaction_counts:a={}}=o,s=a[i]||0,c=n?s+1:Math.max(s-1,0),l=n?i:0,u={...o,reaction_counts:{...a,[i]:c},reaction_by_me:l};return{...e,[r]:u}}}}return e}},iBcn:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y");t.default={keyBindingFn:function(e){return(0,r.getDefaultKeyBinding)(e)}}},iE4i:function(e,t,n){t.a="*Spend $30 in your first 7 days to receive a $20 refund on your bill. There’s a 1 offer limit per account. New accounts only. You must be a legal resident of the 50 United States or DC, and at least 18 years old to be eligible for this offer."},iUzq:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("q1tI"),i=n.n(r),o=n("Lfjc"),a=n("pLLR"),s=n("szi8");function c(e,t){const n=e.page_metadata,r=n?n.metatags.title:e.title,i=r&&r.trim()||"Pinterest Video",o=n?n.metatags.description:e.description,a=o&&o.trim()||"Pinterest Video",s=t.hls||{},c=s.url,l=(e=>{if(e)return"PT"+Math.floor(e/1e3)+"S"})(((e.videos.video_list||{}).V_720P||{}).duration);return{name:i,description:a,thumbnailUrl:s.thumbnail||"",uploadDate:new Date(Date.parse(e.created_at)).toISOString(),duration:l||void 0,contentUrl:c||void 0}}function l(e){const t=Object(a.d)(),{currentUrl:n}=Object(s.b)()||{},{isAuthenticated:r}=t;if(r)return null;const l={"@type":"VideoObject","@context":"http://schema.org/","@id":n,...c(e.pin,e.video)};return i.a.createElement(o.a,{type:"application/ld+json",value:l})}},iatg:function(e,t,n){var r=n("TWoB");e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},ilWa:function(e,t,n){var r=n("vYwu"),i=n("zVay");e.exports=function(e,t,n){var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=o.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(i.OrderedMap([[c,o.get(c)]])).map((function(e,t){var i=t===a?s:0,o=t===c?l:e.getLength();return r(e,i,o,n)}));return e.merge({blockMap:o.merge(u),selectionBefore:t,selectionAfter:t})}},ipvL:function(e,t,n){var r=n("0G5S"),i=n("zRck");const o=e=>"undefined"!=typeof window?Object(r.a)(e):null,a=(e,t)=>{"undefined"!=typeof window&&Object(r.c)(e,t)},s={getAccounts:()=>o(i.q),getAccountsJSON:()=>s.getAccounts()?JSON.parse(s.getAccounts()):{},getGroupId:()=>{const e=o(i.r);return e?JSON.parse(e):null},setAccounts:e=>a(i.q,e),setGroupId:e=>a(i.r,JSON.stringify(e))};t.a=s},iuhU:function(e,t,n){function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.r(t),t.default=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},"j+6V":function(e,t,n){var r=n("fxrM");function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},jH4x:function(e,t,n){var r=n("3sOJ");e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},jLRO:function(e,t,n){var r=n("2NuI"),i=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function a(e){return i.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=s(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=s(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(e,o);return e.substring(i,o)}var l={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=l},jZTy:function(e,t,n){t.a=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?2:1}},jaOL:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fOPN");t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},jirY:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),i=n("H3Jb"),o=n("q1tI"),a=n("2S0S");t.useDrag=function(e){var t=o.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=i.useDragSourceMonitor(),s=n[0],c=n[1];i.useDragHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),u=o.useMemo((function(){return c.hooks.dragSource()}),[c]),d=o.useMemo((function(){return c.hooks.dragPreview()}),[c]);return o.useEffect((function(){c.dragSourceOptions=t.current.options||null,c.reconnect()}),[c]),o.useEffect((function(){c.dragPreviewOptions=t.current.previewOptions||null,c.reconnect()}),[c]),[l,u,d]}},jl1W:function(e,t,n){var r=n("4XrY"),i=n("fyOY"),o=n("Iq8E"),a=n("3sOJ"),s=n("7wDu"),c=n("WJOU"),l=n("0IKU"),u=n("Zgb7"),d=n("hpMJ"),p=n("gWRK"),h=!1,f=!1,g=null;var m={onCompositionStart:function(e){f=!0,function(e){g||(g=new r(l(e))).start()}(e)},onCompositionEnd:function(e){h=!1,f=!1,setTimeout((function(){h||m.resolveComposition(e)}),20)},onSelect:c,onKeyDown:function(e,t){if(!f)return m.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!f){var t=p(g).stopAndFlushMutations();g=null,h=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),c=s.blockKey,l=s.decoratorKey,u=s.leafKey,p=n.getBlockTree(c).getIn([l,"leaves",u]),h=p.start,f=p.end,g=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:h,focusOffset:f,isBackward:!1}),m=d(r,g),y=r.getBlockForKey(c).getInlineStyleAt(h);r=i.replaceText(r,g,e,y,m),n=a.set(n,{currentContent:r})}));var s=u(n,l(e)).selectionState;e.restoreEditorDOM();var c=a.acceptSelection(n,s);e.update(a.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=m},jl2H:function(e,t,n){e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},johb:function(e){e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')},jxrL:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("X6C7")),r(n("1tpI")),r(n("eiom"))},jyDg:function(e,t,n){var r=n("fyOY"),i=n("Iq8E"),o=n("3sOJ"),a=n("CYTE"),s=n("Gn5D").notEmptyKey,c=n("kc9Y"),l=n("3Br+"),u=n("gWRK"),d=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,p=n.isCollapsed,h=(null==a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null==a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!h){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var f=a.parentNode;if(null==f)return;a.nodeValue=f.textContent;for(var g=f.firstChild;null!=g;g=g.nextSibling)g!==a&&f.removeChild(g)}var m=a.textContent,y=e._latestEditorState,_=u(c(a)),v=i.decode(_),b=v.blockKey,w=v.decoratorKey,E=v.leafKey,S=y.getBlockTree(b).getIn([w,"leaves",E]),C=S.start,x=S.end,O=y.getCurrentContent(),k=O.getBlockForKey(b),T=k.getText().slice(C,x);if(m.endsWith("\n\n")&&(m=m.slice(0,-1)),m!==T){var I,D,P,j,M=y.getSelection(),A=M.merge({anchorOffset:C,focusOffset:x,isBackward:!1}),L=k.getEntityAt(C),R=s(L)?O.getEntity(L):null,F="MUTABLE"===(null!=R?R.getMutability():null),B=F?"spellcheck-change":"apply-entity",z=r.replaceText(O,A,m,k.getInlineStyleAt(C),F?k.getEntityAt(C):null);if(d)I=n.anchorOffset,D=n.focusOffset,j=(P=C+Math.min(I,D))+Math.abs(I-D),I=P,D=j;else{var N=m.length-T.length;P=M.getStartOffset(),j=M.getEndOffset(),I=p?j+N:P,D=j+N}var U=z.merge({selectionBefore:O.getSelectionAfter(),selectionAfter:M.merge({anchorOffset:I,focusOffset:D})});e.update(o.push(y,U,B))}else{var V=t.nativeEvent.inputType;if(V){var W=function(e,t){switch(e){case"deleteContentBackward":return l(t)}return t}(V,y);if(W!==y)return e.restoreEditorDOM(),void e.update(W)}}}}},kDkJ:function(e,t,n){var r=n("YeVe"),i=n("lFJn"),o=n("QvxS"),a=n("fyOY"),s=n("PQhE"),c=n("3sOJ"),l=n("Nx4+"),u=n("hpMJ"),d=n("HKS5"),p=n("T401"),h=n("RK+W");function f(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var g=n.getFiles(),m=n.getText();if(g.length>0){if(e.props.handlePastedFiles&&p(e.props.handlePastedFiles(g)))return;return void d(g,(function(t){if(t=t||m){var n=e._latestEditorState,o=h(t),d=i.create({style:n.getCurrentInlineStyle(),entity:u(n.getCurrentContent(),n.getSelection())}),p=l.getCurrentBlockType(n),f=s.processText(o,d,p),g=r.createFromArray(f),y=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),g);e.update(c.push(n,y,"insert-fragment"))}}))}}var y=[],_=n.getText(),v=n.getHTML(),b=e._latestEditorState;if(!e.props.handlePastedText||!p(e.props.handlePastedText(_,v,b))){if(_&&(y=h(_)),!e.props.stripPastedStyles){var w=e.getClipboard();if(n.isRichText()&&w){if(-1!==v.indexOf(e.getEditorKey())||1===y.length&&1===w.size&&w.first().getText()===_)return void e.update(f(e._latestEditorState,w))}else if(w&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(y,w))return void e.update(f(e._latestEditorState,w));if(v){var E=s.processHTML(v,e.props.blockRenderMap);if(E){var S=E.contentBlocks,C=E.entityMap;if(S){var x=r.createFromArray(S);return void e.update(f(e._latestEditorState,x,C))}}}e.setClipboard(null)}if(y.length){var O=i.create({style:b.getCurrentInlineStyle(),entity:u(b.getCurrentContent(),b.getSelection())}),k=l.getCurrentBlockType(b),T=s.processText(y,O,k),I=r.createFromArray(T);e.update(f(e._latestEditorState,I))}}}},kE58:function(e,t,n){var r=n("7wDu");e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},kGJw:function(e,t,n){var r=n("dt0z"),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},kIwf:function(e,t,n){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return I}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("LOQM"),s=n("FDmi"),c=n("EC51"),l=n("EC67"),u=n("n6mq");function d({block:e,scaleFactor:t}){const[n,o]=Object(r.useState)(!1),a=Object(r.useRef)(),d=Object(l.g)(),{block_style:{height:p=0,width:h=0,x_coord:f=0,y_coord:g=0}={},user:{image_small_url:m,full_name:y,username:_}={}}=e,v=`/${_}/`,b=x/(C/S),w=h*x*t/100,E=p*b*t/100,k=f*x*t/100,T=g*b*t/100;return i.a.createElement(u.e,{ref:a,display:"flex",dangerouslySetInlineStyle:{__style:{left:k,top:T}},height:E,position:"absolute",width:w,rounding:2,zIndex:O},i.a.createElement(u.U,{onTap:()=>o(!n),rounding:"pill"}),n&&i.a.createElement(u.x,null,i.a.createElement(c.a,{href:v,onClick:({event:e})=>{e.preventDefault(),d.push(v)}},i.a.createElement(u.q,{anchor:a.current,onDismiss:()=>o(!1),positionRelativeToAnchor:!1,idealDirection:"up"},i.a.createElement(u.e,{display:"flex",alignItems:"center",padding:3,width:"100%"},i.a.createElement(u.e,{flex:"none"},i.a.createElement(s.a,{size:"sm",name:y,src:m})),i.a.createElement(u.e,{flex:"grow",paddingX:2},i.a.createElement(u.V,{weight:"bold",size:"md"},y)),i.a.createElement(u.e,{flex:"none"},i.a.createElement(u.F,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})))))))}var p=n("wtY2"),h=n("OSge"),f=n("ZVWG"),g=n("P0Nc");function m({block:e,fontsLoaded:t,scaleFactor:n}){const{block_style:o,style:a=h.b,text:s}=e,{alignment:c,font:l,font_size:d,hex_color:m=h.b.hex_color,highlight_color:y,vertical_alignment:_=h.b.vertical_alignment}=a,[v,b]=Object(r.useState)(0),[w,E]=Object(r.useState)([]),S=l||h.b.font,{name:C,default_size:x,letter_spacing:O,line_height:k}=S,T=Object(f.c)(S),I=Math.round(100*((null==o?void 0:o.width)||100))/1e4,D=Math.round(100*((null==o?void 0:o.height)||100))/1e4,P=Math.round(100*((null==o?void 0:o.x_coord)||0))/1e4,j=Math.round(100*((null==o?void 0:o.y_coord)||0))/1e4;Object(r.useEffect)(()=>{if(t){const e=Object(f.a)({text:s,boxHeight:p.f*D,boxWidth:p.i*I,font:T,startFontSize:Math.floor(d||x)});E(e.lines),b(e.fontSize)}},[t]);const M=v*n,A=y?Object(h.e)(M,k):{x:0,y:0},L=I*p.i*n+2*A.x,R=D*p.f*n+2*A.y,F=P*p.i*n-A.x,B=j*p.f*n-A.y;return i.a.createElement(u.e,{dangerouslySetInlineStyle:{__style:{left:F,top:B}},display:"flex",height:R,position:"absolute",width:L},i.a.createElement(u.e,{dangerouslySetInlineStyle:{__style:Object(g.a)({alignment:c,verticalAlignment:_})}},i.a.createElement(u.e,{display:"inlineBlock",maxWidth:"100%"},i.a.createElement("p",{style:Object(g.d)({fontSize:M,hexColor:m,letterSpacing:O,lineHeight:k,name:C})},w.map((e,t)=>i.a.createElement("span",{key:`paragraphLine-${t}-${s.substr(0,9)}`,style:Object(g.c)({fontSize:M,hasText:e.text.length>0,highlightColor:y||null,lineHeight:k})},t===w.length-1?e.text:i.a.createElement(r.Fragment,null,e.text," ",i.a.createElement("br",null))))))))}var y=n("wvsB"),_=n("v/Q4");function v({ownerId:e}){const t=Object(_.a)(),n=t.isAuth&&t.id===e;return i.a.createElement(u.e,{alignItems:"center",color:"gray",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%"},i.a.createElement(u.V,{color:"white"},n?o.a._("Your video is processing!","closeup.storyPin.videoPlaceholder","Let user know that their video is still processing"):o.a._("This video is still processing!","closeup.storyPin.videoPlaceholder","Let user know that this video is still processing")),i.a.createElement(u.V,{color:"white"},o.a._("Check back in a few minutes.","closeup.storyPin.videoPlaceholder","Let user know to come back in a couple of minutes to view the video")))}var b=n("y2Ga"),w=n("pf20"),E=n("WnLB");const S=16,C=9,x=375,O=new u.p(1);function k({block:e,isActive:t,pwtTrackImageLoad:n}){if(!e.image)return null;const r=e.image.images["750x"]||e.image.images["474x"];return i.a.createElement(a.a,{alt:o.a._("Story pin image","closeup.storypin.renderer","Alt text for story pin image"),isActive:t,naturalHeight:r.height,naturalWidth:r.width,src:r.url,onLoad:n})}function T({activePageIndex:e,block:t,isActive:n,musicRecordingId:r,muted:o,ownerId:a,pageIndex:s,pinId:c,scaleFactor:l,stillLoading:d}){const{block_style:{height:p=100,width:h=100,x_coord:f=0,y_coord:g=0}={},video:m}=t,_=x/(C/S),b=h*x*l/100,w=p*_*l/100,E=f*x*l/100,O=g*_*l/100,k=h<100?Math.min(Math.max(100,h)-Math.abs(f),h):Math.min(Math.max(h-Math.abs(f),0),100),T=(p<100?Math.min(Math.max(100,p)-Math.abs(g),p):Math.min(Math.max(p-Math.abs(g),0),100))*_*l/100,I=k*x*l/100,D=Math.max(g,0)*_*l/100,P=Math.max(f,0)*x*l/100;if(d)return null;if(!m)return i.a.createElement(u.e,{dangerouslySetInlineStyle:{__style:{left:P,top:D}},height:T,position:"absolute",width:I},i.a.createElement(v,{ownerId:a}));return!!(m.video_list.V_HLSV3_MOBILE||m.video_list.V_720P)&&i.a.createElement(u.e,{dangerouslySetInlineStyle:{__style:{left:P,top:D}},height:T,overflow:"hidden",position:"absolute",width:I},i.a.createElement(y.a,{activePageIndex:e,blockHeight:w,blockPosition:{left:E,top:O},blockWidth:b,isPlaying:n,musicRecordingId:r,muted:o,pageIndex:s,pinId:c,video:m}))}function I({activePageIndex:e,block:t,fontsLoaded:n,isActive:r,musicRecordingId:o,muteVideos:a,ownerId:s,pageIndex:c,pageWidth:l,previewOnly:u,pinId:p,stillLoading:f=!1}){const{block_style:{height:g=100,width:y=100,x_coord:_=0,y_coord:v=0}={}}=t,S=Object(w.b)(),C=Object(b.c)(),O=()=>{S&&r&&(S.addBinaryAnnotation("pin.id",p,"STRING"),S.addBinaryAnnotation("video",!1,"BOOL"),S.stop()),C&&r&&(C.addBinaryAnnotation("pin.id",p,"STRING"),C.addBinaryAnnotation("video",!1,"BOOL"),C.removeConstraint(E.e),C.markConstraintComplete(E.c))};if(0===g||0===y)return null;const I=l/x,D={height:g+"%",left:_+"%",overflow:"hidden",position:"absolute",top:v+"%",width:y+"%"};switch(t.type){case h.a.PARAGRAPH:case h.a.HEADING:return i.a.createElement(m,{block:t,fontsLoaded:n,scaleFactor:I});case h.a.VIDEO:return i.a.createElement(T,{activePageIndex:e,block:t,isActive:r,musicRecordingId:o,muted:a,ownerId:s,pageIndex:c,pinId:p,scaleFactor:I,stillLoading:f});case h.a.IMAGE:return i.a.createElement("div",{style:D},i.a.createElement(k,{block:t,isActive:r,pwtTrackImageLoad:O}));case h.a.MENTION_STICKER:return!u&&i.a.createElement(d,{block:t,scaleFactor:I});default:return null}}},kMiw:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("n6mq");function a(e){return e.map(e=>e.text||"").join()}t.a=e=>{const{page:{image_adjusted:t,blocks:n}}=e,s=t||{},{images:c={}}=s,l=c["750x"];if(!l)return null;const{width:u,height:d}=l;return i.a.createElement(r.Fragment,null,l&&i.a.createElement(o.v,{src:l.url,alt:a(n),naturalWidth:u,naturalHeight:d,fit:"contain"}))}},kWjT:function(e,t,n){n("2mcs");e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(t>o){var c=r.getKeyBefore(i);if(null==c)a=i;else a=c,s=r.getBlockForKey(c).getText().length}else s=o-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},kWmd:function(e,t,n){t.a=(e,t)=>n.e("facebookEnsureInitForDesktop").then(n.bind(null,"TvzZ")).then(({default:t})=>new Promise((n,r)=>{t(e=>{e.getLoginStatus(t=>{if(!t.authResponse)return r(new Error("not authed"));const i="/me?fields="+["picture.type(large)","id","first_name","last_name","email","gender","birthday"].join(",");e.api(i,e=>!e||e.error?r(new Error("FB.api errored: "+e.error)):(e.picture&&e.picture.data&&e.picture.data.url&&!e.picture.data.is_silhouette&&(e.image_url=e.picture.data.url),n(e)))},!0)},e)})).then(e=>e.email||t?Promise.resolve(e):Promise.reject({error:new Error("Email required to sign up."),socialConnectData:e}))},ka8t:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("v83y"),i=a(n("eATT")),o=a(n("P1kZ"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n,a,s){var c=e.getCurrentContent().createEntity((0,o.default)(a),s,{mention:t}).getLastCreatedEntityKey(),l=e.getSelection(),u=(0,i.default)(e,l,a),d=u.begin,p=u.end,h=l.merge({anchorOffset:d,focusOffset:p}),f=r.Modifier.replaceText(e.getCurrentContent(),h,""+n+t.name,null,c),g=h.getAnchorKey();e.getCurrentContent().getBlockForKey(g).getLength()===p&&(f=r.Modifier.insertText(f,f.getSelectionAfter()," "));var m=r.EditorState.push(e,f,"insert-mention");return r.EditorState.forceSelection(m,f.getSelectionAfter())}},kc9Y:function(e,t,n){var r=n("F09w"),i=n("zORg");e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}},kd2E:function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,p,h,f,g=e[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),p=g.substr(m+1)):(d=g,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),r(a,h)?i(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"l/EB":function(e,t,n){t.a=e=>/^\d{2}\/\d{2}\/\d{4}$/.test(e)},lEeg:function(e,t,n){var r=n("nhss"),i=n("yjg8");t.a=({hideMeta:e=!1,hideAllMeta:t,isPaidTraffic:n=!1,isBot:o,locale:a,numServerRenderedPins:s,pageType:c,pins:l,seoUnauthExperiments:u})=>{let d="";const p=i.c,h=i.e,f=i.i,g=s||l.length,m=("pin"===c||"board"===c||"topic"===c)&&o?Math.min(l.length,5):l.length,y=Object(i.n)(m),_=h+p;let v=0,b=f*_+_-1;const w=l.map(o=>Object(r.a)(o,i.h,c,u,e,t,n,a));let E,S=[],C=[];const x=(e,t)=>{if(!o&&t>g)return;d+=`\n      .Pin__${t} {\n        left: ${S[E]}px;\n        top: ${C[E]}px;\n      }`,C[E]=C[E]+e+p;let n=C[E];for(let r=0;r<C.length;r+=1)C[r]<n&&(E=r,n=C[r])};for(let r=f;r<y+1;r+=1){d+=`@media (min-width: ${v}px) `,d+=r<y?`and (max-width: ${b}px) {`:"{",S=[],C=[];for(let t=0;t<r;t+=1)S.push(t*_),C.push(0);E=0,w.map(x);let e=C[E];for(let t=0;t<C.length;t+=1)C[t]>e&&(e=C[t]);d+=`\n    .pinGrid {\n      width: ${r*_-p}px;\n      height: ${e}px;\n    }\n    .gridCentered {\n      width: ${r*_}px;\n    }\n    `,d+="}",v=b+1,b+=_}return d+="\n.gridCentered {\n  margin: 0 auto;\n}\n.itemCentered {\n  margin: 0 auto;\n}\n.Grid__Container {\n  height: 100%;\n  margin: 0 auto;\n  position: relative;\n}\n\n.Grid__Item {\n  position: absolute;\n}\n  ",d}},lFJn:function(e,t,n){var r=n("zVay"),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),c={style:s,entity:null},l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return u;var t=i({style:s,entity:null}).merge(e),n=d.get(t);if(n)return n;var o=new r(t);return d=d.set(t,o),o},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?o(t):t,entity:Array.isArray(n)?o(n):n})},r}(a(c)),u=new l,d=i([[i(c),u]]);l.EMPTY=u,e.exports=l},lh2y:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("Bfq7"),i=n("NFjV");t.createNativeDragSource=function(e){return new i.NativeDragSource(r.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter((function(e){return r.nativeTypesConfig[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}},lihF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},lnDX:function(e,t,n){n.d(t,"a",(function(){return Z}));var r=n("q1tI"),i=n.n(r),o=n("o9su"),a=n("B/lV"),s=n("pody"),c=n("SyXB"),l=n("+lzj");const u=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(l.b)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},d=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{});var p=(e,t,n,r)=>{return{...d("constraint_",t),...d("mark_",Object(c.d)()),...d("browser_",{...r?(i=r,{...Object(s.a)(i),domComplete:i.domComplete||0,domContentLoadedEventEnd:i.domContentLoadedEventEnd||0,domContentLoadedEventStart:i.domContentLoadedEventStart||0,domInteractive:i.domInteractive||0,loadEventEnd:i.loadEventEnd||0,loadEventStart:i.loadEventStart||0}):{},...d("entryChunk_",n?Object(s.a)(n):{}),...u()})};var i},h=n("LvPn");var f=e=>{const{firstInputDelay:t}=Object(l.b)();return[...e.map(e=>Object(h.a)(e)).filter(Boolean),...t?[{name:"fid",startTime:t.startTime,endTime:t.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]},g=n("HMdf"),m=n("fZG9"),y=n("3/Bf");var _=({annotateExperiments:e,binaryAnnotations:t,constraintMap:n,endTime:r,imageTimings:i,metricId:s,pwtStaticContext:c,startTime:l,traceId:u,spans:d})=>{const h=Object(g.c)();let _,v,b=null;"initial_app_load"===s.navigationType&&(_=h.find(e=>(e=>{const t=e.name.replace(/.*\//,"");return/^entryChunk-.+\.m?js$/.test(t)})(e)),v=Object(o.a)(),_&&v&&(_.responseEnd||Object(y.c)("scripts.entryChunkTiming.noResponseEnd"),b=_.responseEnd>v.domInteractive));const w=i.map(({name:e})=>e),E=h.map(e=>Object(a.a)(e,w)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:l,endTime:r}));return{type:"COMPLETE",traceId:u,startTime:l,endTime:r,spans:f(E).concat(d),annotationMap:p(s,n,_,v),binaryAnnotationMap:Object(m.b)({annotateExperiments:e,binaryAnnotations:t,entries:h,entryChunkAfterDoc:b,metricId:s,performanceResources:E,pwtEndTime:r,pwtStaticContext:c})}},v=n("FylZ");let b=!1;var w=(e,t)=>e&&t?b?(Object(y.b)("duplicated_initial_app_load_surface_pwt"),Object(v.a)()):(b=!0,t):Object(v.a)(),E=n("n6mq"),S=n("bNC6");function C({children:e,heading:t}){return i.a.createElement("table",{style:{width:"100%"},cellPadding:4},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:2,style:{background:"#efefef"}},i.a.createElement(E.V,{weight:"bold",align:"center"},t)))),i.a.createElement("tbody",null,e))}function x({name:e,children:t}){return i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(E.V,{weight:"bold"},e)),i.a.createElement("td",null,"string"==typeof t?i.a.createElement(E.V,null,t):t))}function O({result:e}){return"ABORT"===e.type?i.a.createElement(x,{name:"Abort Reason"},e.reason):i.a.createElement(r.Fragment,null,i.a.createElement(x,{name:"PWT (ms)"},i.a.createElement(E.V,{align:"right"},Math.round(e.endTime-e.startTime))),i.a.createElement(x,{name:"PinTrace"},i.a.createElement(E.V,{italic:!0},i.a.createElement(E.z,{href:"https://pintrace.pinadmin.com/zipkin/traces/"+e.traceId,target:"blank",inline:!0},"Open in a new tab"))))}function k({data:e}){const{metricId:t,constraints:n,constraintMap:r,startTime:o,result:a}=e;return i.a.createElement(E.e,null,i.a.createElement(C,{heading:Object(S.b)(t)},i.a.createElement(x,{name:"Thrift Id"},String(Object(S.a)(t))),i.a.createElement(x,{name:"Surface"},t.surface),i.a.createElement(x,{name:"Navigation Type"},t.navigationType),i.a.createElement(x,{name:"Viewer Authed"},String(t.isAuthenticated))),i.a.createElement(C,{heading:"Constraints"},n.map(e=>i.a.createElement(x,{key:"constraint_"+e,name:e},i.a.createElement(E.V,{align:"right"},r[e]?Math.round(r[e]-o):"pending...")))),i.a.createElement(C,{heading:"Result"},a?i.a.createElement(O,{result:a}):i.a.createElement(x,{name:"result"},i.a.createElement(E.O,{accessibilityLabel:"profiling PWT",show:!0}))))}var T=n("LT60");const I=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function D({data:e}){const[t,n]=Object(r.useState)(!1);return i.a.createElement(T.a,null,i.a.createElement(E.x,null,i.a.createElement(E.e,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}}},i.a.createElement(E.u,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:I(e),icon:"flash",size:"lg",onClick:()=>n(!0)})),t&&i.a.createElement("div",{style:{position:"absolute",zIndex:2e3}},i.a.createElement(E.E,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm"},i.a.createElement(E.e,{padding:6},i.a.createElement(k,{data:e}))))))}var P=n("mRg4");var j=(e,t)=>{const n=Object(r.useRef)(e);Object(r.useEffect)(()=>{n.current=e},[e]);const i=Object(r.useRef)(t);Object(r.useEffect)(()=>{i.current=t},[t]),Object(r.useEffect)(()=>()=>i.current(n.current),[])};var M=(e,t)=>{const[n,i]=Object(r.useState)(t);return{state:n,dispatch:t=>i(n=>e(n,t))}},A=n("XtwW"),L=n("FZ8N"),R=n("LrH5"),F=n("6lKZ"),B=n("PioT"),z=n("CP5N"),N=n("ONNR");const U=["pin_closeup"],V=e=>{const{surface:t}=e,n=Object(r.useRef)({isStarted:!1}),i=t+"_lcp",o=t+"_fid",a=Object(z.a)(i),s=Object(z.a)(o);return!n.current.isStarted&&a&&s&&(n.current.isStarted=!0,a.start(0),s.start(0),Object(N.getLCP)(({value:e})=>{const t=10*Math.round(e/10);a.stop(t)}),Object(N.getFID)(({value:e})=>{const t=Number(e.toFixed(2));s.stop(t)})),null};var W=n("y2Ga"),q=n("xfna");const K=["initial_app_load","client_route_push"],H=Object(R.a)("PwtSurface"),G="NavigationComplete",Y="VisuallyComplete",J=(e,t)=>{e.isSampled&&Object(P.a)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},$=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){const t=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return((e,t)=>{var n;const{metricConfig:{metricId:r,pwtStaticContext:i,annotateExperiments:o},binaryAnnotations:a,constraintMap:s,startTime:c,imageTimings:l,isSampled:u,spans:d}=e,p=w("initial_app_load"===r.navigationType,null===(n=i.serverData)||void 0===n?void 0:n.trace_id),h=_({annotateExperiments:o,binaryAnnotations:a,constraintMap:s,endTime:t,imageTimings:l,metricId:r,pwtStaticContext:i,startTime:c,traceId:p,spans:d});return u&&Object(P.a)({metricId:r,pwtStaticContext:i,result:h}),{...e,result:h,status:"DONE"}})(e,t)}return e},X=(e,t)=>{const{constraint:n,time:r}=t,i=Object(S.b)(e.metricConfig.metricId);return A.a?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(H(`constraint "${n}" is already complete.`),Object(y.b)("duplicated_constraint_complete",{constraint:n,action:i}),e):(H(`marking constraint "${n}" as complete`),$({...e,constraintMap:{...e.constraintMap,[n]:r||A.a.now()}})):(H(`marked constraint "${n}" is not a required constraint.`),e):(Object(y.b)("missing_window_performance",{action:i}),e)},Q=(e,t)=>{if(H("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:r,isSampled:i}=t;if("TIMING"===e.status&&r!==e.startTime&&J(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const o=Object(S.b)(n.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap.NavigationComplete?(Object(y.b)("duplicated_init_route_action",{action:o}),e):(Object(y.c)("TIMING."+o),X({status:"TIMING",metricConfig:n,startTime:r,constraintMap:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:G}))})(e,t.payload);if("TIMING"!==e.status)return H("ignoring action due to invalid state "+e.status,t),e;switch(t.type){case"ABORT":J(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"BINARY_ANNOTATE":const{name:r,value:i,annotationType:o}=t.payload;return H(`adding binary annotation {${r}: ${i}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:i,type:o}}};case"MARK_CONSTRAINT_COMPLETE":return X(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!A.a){const t=Object(S.b)(e.metricConfig.metricId);Object(y.b)("missing_window_performance",{action:t})}H(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:r,...i}=e.constraintMap;return $({...e,constraintMap:i,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!A.a){const t=Object(S.b)(e.metricConfig.metricId);Object(y.b)("missing_window_performance",{action:t})}H(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){J(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const r=Math.max(...n.map(e=>e.responseEnd||0));return X({...e,imageTimings:n},{constraint:Y,time:r})}case"ADD_SUBSPAN":const{startTime:a}=e,{payload:{name:s,startTime:c,endTime:l,annotations:u,binaryAnnotations:d}}=t;return{...e,spans:[...e.spans,{name:s,startTime:c||a,endTime:l,annotationMap:{...u},binaryAnnotationMap:{...d}}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,startTime:A.a?A.a.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations}}]};case"STOP_SUBSPAN":const p=e.spans.findIndex(e=>e.name===t.payload.name);return p>-1?(e.spans[p].endTime=A.a?A.a.now():0,t.payload.annotations&&(e.spans[p].annotationMap={...e.spans[p].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[p].binaryAnnotationMap={...e.spans[p].binaryAnnotationMap,...t.payload.binaryAnnotations})):Object(y.b)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const h=Object(S.b)(e.metricConfig.metricId);return Object(y.b)("invalid_pwt_surface_action",{action:h}),e}};function Z({children:e,...t}){const{state:n,context:o}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:i,annotateExperiments:o,customEnabledNavigationTypes:a,sampleRate:s})=>{const c=Object(q.b)(),l=Object(r.useRef)("NOT_SET"),u=Object(q.c)(),{state:d,dispatch:p}=M(Q,{status:"DISABLED",metricConfig:null});if(l.current!==c&&(l.current=c,c||Object(y.g)(e),u)){const{isAuthenticated:r}=u,l=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(c),d=a||K,h=e&&l&&d.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:r,segment:n},annotateExperiments:o,constraints:[G,...t||[],...i?[Y]:[]],pwtStaticContext:u}:null;p({type:"INIT_ROUTE",payload:{metricConfig:h,startTime:c?c.time:0,isSampled:!s||Math.random()<s}})}if(Object(r.useEffect)(()=>{const e=e=>{p({type:"ABORT",reason:e})};F.a.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),p({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{F.a.removePauseListener(e),window.removeEventListener("resize",t)}},[]),j(d,e=>{H("handling unmount",e),"TIMING"===e.status&&J(e,"unmount")}),"TIMING"!==d.status||!d.constraintMap.NavigationComplete)return{state:d,context:null};const{startTime:h,metricConfig:f}=d;return{state:d,context:{id:h,metricId:f.metricId,abort:e=>p({type:"ABORT",reason:e}),addBinaryAnnotation:(e,t,n)=>p({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:f.constraints.includes(Y)?e=>p({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>p({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:A.a?A.a.now():0}}),removeConstraint:e=>p({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>p({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,r={},i={})=>p({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:r,binaryAnnotations:i}}),startSubspan:(e,t={},n={})=>p({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n}}),stopSubspan:(e,t={},n={})=>p({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n}})}}})(t);(()=>{const e=Object(W.c)(),t=!!e;Object(r.useEffect)(()=>{if(t){const t=(null==e?void 0:e.metricId)?Object(S.b)(e.metricId):null;Object(y.b)("nested_pwt_surface",{action:t})}},[t])})();const a=t.surface;return i.a.createElement(r.Fragment,null,i.a.createElement(W.b,{value:o},((e,t)=>{const{navigationType:n=""}=(null==t?void 0:t.metricId)||{},{browserName:r=null}=(null==t?void 0:t.pwtStaticContext)||{},i="Chrome"===r||!r&&B.b.isChrome();return!(!U.includes(e)||!i||n.includes("client_route"))})(a,n.metricConfig)&&i.a.createElement(V,{surface:a}),e),L.b&&"DISABLED"!==n.status&&i.a.createElement(D,{data:{metricId:n.metricConfig.metricId,constraints:n.metricConfig.constraints,constraintMap:n.constraintMap,startTime:n.startTime,result:"DONE"===n.status?n.result:null}}))}},m75S:function(e,t,n){e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},mG99:function(e,t,n){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n("q1tI"),i=n.n(r),o=n("JK01"),a=n("/vD9");var s=(e,t)=>{let n="";return[{name:"UnauthPinPageSkeletonLoader__closeup",width:806,height:403,borderRadius:"24px"},{name:"UnauthPinPageSkeletonLoader__action_bar",width:350,height:40},{name:"UnauthPinPageSkeletonLoader__detail",width:350,height:300},{name:"UnauthPinPageSkeletonLoader__visit_button",width:350,height:40},...Object(a.b)("UnauthPinPageSkeletonLoader__pin_grid_pin",e,t)].forEach(e=>{n+=Object(o.a)(e.name,e.width,e.height,!1,e.borderRadius||"")}),n},c=n("Ye/N"),l=n("ihsa"),u=n("n6mq");const d=()=>i.a.createElement(u.e,{display:"flex",direction:"row","data-test-id":"UnauthPinPageSkeletonHeader"},i.a.createElement(u.e,{marginTop:4,marginEnd:3},i.a.createElement("div",{className:"UnauthPinPageSkeletonLoader__closeup"})));function p(e){const{windowWidth:t=1920,windowHeight:n=1080,hasTitle:r=!0}=e;return i.a.createElement(u.e,null,i.a.createElement(l.a,{unsafeCSS:s(t,n)}),Object(a.a)(),i.a.createElement(u.e,{alignContent:"center",justifyContent:"center",display:"flex",color:"white",direction:"row",position:"relative"},i.a.createElement(u.e,null,i.a.createElement(d,null))),i.a.createElement(u.e,{marginTop:3,marginStart:5,alignItems:"start",justifyContent:"between"},Object(a.c)("UnauthPinPageSkeletonLoader__pin_grid_pin",r,"white",t,n)))}const h=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{unsafeCSS:s(window.innerWidth,window.innerHeight)}),i.a.createElement("section",{style:{marginTop:"23px"}},i.a.createElement(u.e,{marginBottom:2,marginStart:2},i.a.createElement("h2",{className:"gridCentered",style:{textAlign:"center",color:"#555555"}},c.a._("People also love these ideas","Heading for Related Pins beneath pin closeup","Heading for Related Pins beneath pin closeup"))),Object(a.c)("UnauthPinPageSkeletonLoader__pin_grid_pin",!1,"white",window.innerWidth,window.innerHeight)))},mQlh:function(e,t,n){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("tXUN"),a=(r=o)&&r.__esModule?r:{default:r};var s="-",c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorators=a.default.List(t)}return i(e,[{key:"getDecorations",value:function(e,t){var n=new Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,i){r.getDecorations(e,t).forEach((function(e,t){e&&(n[t]=i+s+e)}))})),a.default.List(n)}},{key:"getComponentForKey",value:function(t){return this.getDecoratorForKey(t).getComponentForKey(e.getInnerKey(t))}},{key:"getPropsForKey",value:function(t){return this.getDecoratorForKey(t).getPropsForKey(e.getInnerKey(t))}},{key:"getDecoratorForKey",value:function(e){var t=e.split(s),n=Number(t[0]);return this.decorators.get(n)}}],[{key:"getInnerKey",value:function(e){return e.split(s).slice(1).join(s)}}]),e}();e.exports=c},mc7v:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}},mjHj:function(e,t,n){var r=n("2NuI"),i="LTR",o=null;function a(e){return e===i||"RTL"===e}function s(e){return a(e)||r(!1),e===i?"ltr":"rtl"}function c(e){o=e}var l={NEUTRAL:"NEUTRAL",LTR:i,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:s(e)},setGlobalDir:c,initGlobalDir:function(){c(i)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};e.exports=l},mvLR:function(e,t,n){function r(e){let t=!1;return{promise:new Promise((n,r)=>{e.then(e=>t?r({isCanceled:!0}):n(e),e=>r(t?{isCanceled:!0}:e))}),cancel(){t=!0}}}n.d(t,"a",(function(){return r}))},mxGF:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("P1kZ"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(t,n,r){t.findEntityRanges((function(t){var n=t.getEntity();return null!==n&&r.getEntity(n).getType()===(0,o.default)(e)}),n)}}},nEfj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("tXUN"),i=a(n("WPzw")),o=a(n("mQlh"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return"function"==typeof e.getDecorations&&"function"==typeof e.getComponentForKey&&"function"==typeof e.getPropsForKey},c=function(e){var t=e.decorators,n=e.plugins;return(0,r.List)([{decorators:t}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))).filter((function(e){return void 0!==e.decorators})).flatMap((function(e){return e.decorators}))};t.default=function(e,t,n){var r=c(e),a=(0,i.default)(r.filter((function(e){return!s(e)})),t,n),l=r.filter((function(e){return s(e)}));return new o.default(l.push(a))}},noU3:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{static reportGoogleConversion(e,t,n){void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):i.queuedGoogleConversions.push({id:e,label:t,url:n})}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):i.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):i.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):i.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid="+e+`&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const r=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${r}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e){const t=document.createElement("script");t.setAttribute("async",""),t.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-"+e),t.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const t=i.queuedGoogleConversions;for(let n=0;n<t.length;n+=1){const r=t[n];r.id===e&&i.reportGoogleConversion(r.id,r.label,r.url)}},document.body.insertBefore(t,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,r,o,a,s;t=window,n=document,r="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=n.createElement(r)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(r)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");const c=i.queuedFacebookConversions;for(let l=0;l<c.length;l+=1){const t=c[l];t.id===e&&(t.isCustomEvent?i.reportCustomFacebookConversion(e,t.event,t.data):i.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,r,i,o,a;t=window,n=document,r="script",t.twq||((i=t.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)}).version="1.1",i.queue=[],(o=n.createElement(r)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(o,a)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=i.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const r=t[n];r.id===e&&i.reportPinterestConversion(e,r.event,r.data)}}}r(i,"queuedGoogleConversions",[]),r(i,"queuedFacebookConversions",[]),r(i,"queuedPinterestConversions",[]),r(i,"queuedTwitterConversions",[]),t.a=i},nokP:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSuggestionsFilter=t.defaultTheme=t.MentionSuggestions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("fEmT");Object.defineProperty(t,"MentionSuggestions",{enumerable:!0,get:function(){return _(i).default}});var o=_(n("q1tI")),a=n("s5IZ"),s=_(n("z2oT")),c=_(i),l=_(n("16ai")),u=_(n("aAL+")),d=_(n("mxGF")),p=_(n("5Wuq")),h=_({mention:"draftJsMentionPlugin__mention__29BEd"}),f=_({mentionSuggestions:"draftJsMentionPlugin__mentionSuggestions__2DWjA"}),g=_({mentionSuggestionsEntry:"draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryFocused:"draftJsMentionPlugin__mentionSuggestionsEntryFocused__3LcTd draftJsMentionPlugin__mentionSuggestionsEntry__3mSwm",mentionSuggestionsEntryText:"draftJsMentionPlugin__mentionSuggestionsEntryText__3Jobq",mentionSuggestionsEntryAvatar:"draftJsMentionPlugin__mentionSuggestionsEntryAvatar__1xgA9"}),m=_(n("9qGe")),y=_(n("aAE7"));function _(e){return e&&e.__esModule?e:{default:e}}var v=t.defaultTheme={mention:h.default.mention,mentionSuggestions:f.default.mentionSuggestions,mentionSuggestionsEntry:g.default.mentionSuggestionsEntry,mentionSuggestionsEntryFocused:g.default.mentionSuggestionsEntryFocused,mentionSuggestionsEntryText:g.default.mentionSuggestionsEntryText,mentionSuggestionsEntryAvatar:g.default.mentionSuggestionsEntryAvatar};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},n={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},i=(0,a.Map)(),h=void 0,f=(0,a.Map)(),g=void 0,m={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(e){return f.get(e)()},getAllSearches:function(){return i},isEscaped:function(e){return h===e},escapeSearch:function(e){h=e},resetEscapedSearch:function(){h=void 0},register:function(e){i=i.set(e,e)},updatePortalClientRect:function(e,t){f=f.set(e,t)},unregister:function(e){i=i.delete(e),f=f.delete(e)},getIsOpened:function(){return g},setIsOpened:function(e){g=e}},_=e.mentionPrefix,b=void 0===_?"":_,w=e.theme,E=void 0===w?v:w,S=e.positionSuggestions,C=void 0===S?y.default:S,x=e.mentionComponent,O=e.mentionSuggestionsComponent,k=void 0===O?c.default:O,T=e.entityMutability,I=void 0===T?"SEGMENTED":T,D=e.mentionTrigger,P=void 0===D?"@":D,j=e.mentionRegExp,M=void 0===j?u.default:j,A=e.supportWhitespace,L=void 0!==A&&A,R={ariaProps:n,callbacks:t,theme:E,store:m,entityMutability:I,positionSuggestions:C,mentionTrigger:P,mentionPrefix:b},F=function(e){return o.default.createElement(k,r({},e,R))},B=function(e){return o.default.createElement(s.default,r({},e,{theme:E,mentionComponent:x}))},z=function(e){return o.default.createElement(l.default,r({},e,{store:m}))};return{MentionSuggestions:F,decorators:[{strategy:(0,d.default)(P),component:B},{strategy:(0,p.default)(P,L,M),component:z}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:n.ariaHasPopup,ariaExpanded:n.ariaExpanded,ariaActiveDescendantID:n.ariaActiveDescendantID,ariaOwneeID:n.ariaOwneeID}},initialize:function(e){var t=e.getEditorState,n=e.setEditorState;m.getEditorState=t,m.setEditorState=n},keyBindingFn:function(e){return t.keyBindingFn&&t.keyBindingFn(e)},handleReturn:function(e){return t.handleReturn&&t.handleReturn(e)},onChange:function(e){return t.onChange?t.onChange(e):e}}};t.defaultSuggestionsFilter=m.default},nrB0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("2S0S"),i=!1,o=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){r(!i,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{i=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;r(!o,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{o=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},nwWm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QWk2"),i=n("TT16"),o=n("Gytx"),a=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dragSource:function(e,n){t.dragSourceOptions=n||null,i.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,i.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!o(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!o(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},o0wi:function(e,t,n){n.d(t,"a",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("v/Q4"),s=n("U4JR"),c=n("n6mq");function l({breadcrumb:e,isIdeasPage:t=!1,isLastBreadcrumb:n,textSize:l="lg",useBulletSeparator:u=!1}){const[d,p]=Object(r.useState)(!1),h=!t&&n?"darkGray":"gray",f=Object(a.a)();return i.a.createElement(c.e,{display:"inlineBlock"},i.a.createElement(c.e,{display:"flex",alignItems:"center"},!t&&n?i.a.createElement(c.V,{size:l,color:h,inline:!0,weight:"bold"},e.name):i.a.createElement(c.U,{onBlur:()=>p(!1),onFocus:()=>p(!0),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTap:()=>{Object(s.b)(101,{component:176,element:1155,is_auth:f.isAuth,view:442,viewParameter:3475,sanitized_url:e.url})}},i.a.createElement("a",{href:e.url,style:{textDecoration:d?"underline":"none"}},i.a.createElement(c.V,{size:l,color:d?"darkGray":h,inline:!0,weight:"bold"},e.name))),!n&&i.a.createElement(c.e,{paddingX:2,display:"inlineBlock"},u?i.a.createElement(c.V,{size:l,color:"gray",inline:!0,weight:"bold"},"•"):i.a.createElement(c.t,{icon:"arrow-forward",accessibilityLabel:o.a._("Navigation Arrow","Arrow pointing to next interest","Arrow pointing to next interest"),size:8,color:"gray"}))))}var u=n("Lfjc"),d=n("pLLR");function p({breadcrumbs:e,isIdeasPage:t}){const{origin:n}=Object(d.d)();if(!e||0===e.length)return null;const a=t?e.slice(0,e.length-1):e,s=e.length>=2,p={url:"/ideas/",name:o.a._("Explore","Breadcrumb name for page for all ideas","Breadcrumb name for page for all ideas")};return i.a.createElement(c.e,{"data-test-id":"breadcrumbs"},s&&i.a.createElement(r.Fragment,null,i.a.createElement(l,{breadcrumb:p,isIdeasPage:t,isLastBreadcrumb:!1,textSize:t?"md":"lg",useBulletSeparator:t}),a.map((e,n)=>i.a.createElement(l,{breadcrumb:e,isIdeasPage:t,isLastBreadcrumb:n===a.length-1,key:n,textSize:t?"md":"lg",useBulletSeparator:t}))),i.a.createElement(u.a,{type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,t)=>({"@type":"ListItem",position:t+1,name:e.name,item:`${n}${e.url}`}))}}))}},ocgx:function(e,t,n){var r=n("fyOY"),i=n("3sOJ"),o=n("DYKh");e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;n===u?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var d=o(l,a),p=r.removeRange(l,a,"backward"),h=p.getSelectionAfter(),f=h.getAnchorOffset()-1,g=h.merge({anchorOffset:f,focusOffset:f}),m=r.replaceWithFragment(p,g,d),y=i.push(e,m,"insert-fragment");return i.acceptSelection(y,s)}},ohE5:function(e,t,n){function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},ovj4:function(e,t,n){var r=n("T0g9");t.a=(e,t)=>e+"?"+Object(r.a)(t)},p1kU:function(e,t,n){var r=n("iatg");e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},p7ys:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},pIz0:function(e,t,n){n.d(t,"a",(function(){return r}));const r=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",width:430,...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},pWuj:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("pYMm"),i=n("fOPN"),o=n("N4T/"),a=n("YuQ1"),s=n("LTlA");t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case r.HOVER:break;case i.ADD_SOURCE:case i.ADD_TARGET:case i.REMOVE_TARGET:case i.REMOVE_SOURCE:return a.NONE;case r.BEGIN_DRAG:case r.PUBLISH_DRAG_SOURCE:case r.END_DRAG:case r.DROP:default:return a.ALL}var n=t.payload,c=n.targetIds,l=void 0===c?[]:c,u=n.prevTargetIds,d=void 0===u?[]:u,p=s.xor(l,d);if(!(p.length>0||!o.areArraysEqual(l,d)))return a.NONE;var h=d[d.length-1],f=l[l.length-1];return h!==f&&(h&&p.push(h),f&&p.push(f)),p}},pYMm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("bVL4"),i=n("rV1A"),o=n("sAMb"),a=n("BEzM"),s=n("vmVG");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("7nh8")),t.default=function(e){return{beginDrag:r.default(e),publishDragSource:i.default(e),hover:o.default(e),drop:a.default(e),endDrag:s.default(e)}}},peh1:function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every((function(e,r){return t(e,n[r])}))||(r=e.apply(void 0,o)),n=o,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var s=0,c=i.pop(),l=a(i),u=e.apply(void 0,[function(){return s++,c.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a=l.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return u.apply(void 0,r(a))};return d.resultFunc=c,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var c=t.createSelector=s(o)},pf20:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("F4HH");const{Provider:i,useHook:o}=Object(r.a)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),a=i,s=o},pfX0:function(e,t,n){n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),o=n("xBZo"),a=n("TgLd"),s=n("yweb"),c=n("qpbZ"),l=n("DUo6"),u=n("n6mq");function d({onClose:e}){const t=Object(s.b)(),n=t._("Common reasons for account deactivation include:"),r=t._("{{ help_link }} if you have questions or would like to reactivate your account."),d=[t._("Violating Pinterest Community Guidelines.","One example reason for account deactivation","One example reason for account deactivation"),t._("We noticed unusual activity on your account.","One example reason for account deactivation","One example reason for account deactivation"),t._("You requested an account closure.","One example reason for account deactivation","One example reason for account deactivation")];return i.a.createElement(a.b,{accessibilityModalLabel:t._("Login disabled for deactivated account","Modal accessibility label for when a user tries to login with a deactivated account","Modal accessibility label for when a user tries to login with a deactivated account"),heading:t._("Your account has been deactivated","Modal heading for user who have attempted to login with a deactivated account","Modal heading for user who have attempted to login with a deactivated account"),onDismiss:e,role:"alertdialog",size:"md"},i.a.createElement(u.e,{paddingX:6,marginBottom:4},i.a.createElement(u.e,{marginBottom:4},i.a.createElement(u.V,null," ",n," "),i.a.createElement(u.e,{paddingY:2},i.a.createElement(i.a.Fragment,null,d.map((e,t)=>i.a.createElement(u.V,{key:"reasons-"+t},"• "+e)))),i.a.createElement(u.V,{inline:!0},Object(c.b)(r,{help_link:i.a.createElement(l.a,{key:"suspended user help_link"})}))),i.a.createElement(u.e,{marginTop:4},i.a.createElement(o.a,{color:"red",onClick:e,overrideText:t._("Got it","Acknowledge suspended account modal message","Acknowledge suspended account modal message")}))))}},pg4M:function(e,t,n){var r=n("3sOJ"),i=n("CYTE");e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},prCw:function(e,t,n){function r(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,"a",(function(){return r}))},prOm:function(e,t,n){function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var i={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=i},ptXI:function(e,t,n){n.d(t,"a",(function(){return h}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("7w6Q"),s=n("fepT"),c=n("U4JR"),l=(n("CgR/"),n("n6mq"));function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={overlay:{__style:{backgroundColor:"#000"}}};class h extends r.PureComponent{constructor(...e){super(...e),u(this,"setSendButton",e=>{this.sendButton=e}),u(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),a.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),u(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&a.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(c.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),u(this,"handleExternalSend",()=>{a.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),u(this,"renderReplayButton",()=>i.a.createElement(l.U,{onTap:this.handleRestartVideo,rounding:2},i.a.createElement(l.e,{alignItems:"center",display:"flex",padding:2},i.a.createElement(l.t,{accessibilityLabel:o.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:30}),i.a.createElement(l.e,{margin:1}),i.a.createElement(l.s,{color:"white",overflow:"normal",size:"sm"},o.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video"))))),u(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:r,pinId:a}=this.props;return i.a.createElement(l.e,{alignItems:"center",display:"flex",padding:2},i.a.createElement(s.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:r,onToggleFlyout:this.handleShareVideo,pinId:a,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),i.a.createElement(l.e,{margin:1}),i.a.createElement(l.U,{onTap:this.handleShareVideo,rounding:2},i.a.createElement(l.s,{color:"white",overflow:"normal",size:"sm"},o.a._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished"))))})}componentDidMount(){const{pinId:e}=this.props;a.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(c.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:r}=this.props;return i.a.createElement(l.e,null,i.a.createElement(l.v,{alt:r||"",naturalHeight:t,naturalWidth:n,src:e},i.a.createElement(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),i.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column"},i.a.createElement(l.e,{alignItems:"center",justifyContent:"center",position:"absolute",direction:"column"},i.a.createElement(l.e,null,this.renderShareButton()),i.a.createElement(l.e,{alignSelf:"center"},this.renderReplayButton())))))}}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:r,pinTitle:a})=>i.a.createElement(l.e,null,i.a.createElement(l.v,{alt:a||"",naturalHeight:t,naturalWidth:n,src:e},i.a.createElement(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),i.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%"},i.a.createElement(l.e,null,i.a.createElement(l.U,{onTap:r,rounding:2},i.a.createElement(l.e,{alignItems:"center",display:"flex",padding:2},i.a.createElement(l.t,{accessibilityLabel:o.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:d,size:30}),i.a.createElement(l.e,{margin:1}),i.a.createElement(l.s,{color:"white",overflow:"normal",size:"sm"},o.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video"))))))))},q2v6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=g(o),s=g(n("CsLl")),c=n("v83y"),l=n("tXUN"),u=g(n("Undz")),d=g(n("h2as")),p=g(n("nEfj")),h=g(n("iBcn")),f=g(n("fUU4"));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=function(e){var t=void 0;return null!=e.decorators?t=e.decorators:null!=e._decorators&&(t=e._decorators),null!=t.size?t.size:t.length},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b.call(n),[n.props].concat(y(n.resolvePlugins())).forEach((function(e){"function"==typeof e.initialize&&e.initialize(n.getPluginMethods())})),u.default.forEach((function(e){n[e]=function(){var t;return(t=n.editor)[e].apply(t,arguments)}})),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=(0,p.default)(this.props,this.getEditorState,this.onChange),t=c.EditorState.set(this.props.editorState,{decorator:e});this.onChange((0,d.default)(t))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorState.getDecorator(),n=e.editorState.getDecorator();if(t&&!(t===n||t&&n&&_(t)===_(n))){var r=c.EditorState.set(e.editorState,{decorator:t});this.onChange((0,d.default)(r))}}},{key:"componentWillUnmount",value:function(){var e=this;this.resolvePlugins().forEach((function(t){t.willUnmount&&t.willUnmount({getEditorState:e.getEditorState,setEditorState:e.onChange})}))}},{key:"render",value:function(){var e=this,t=this.createPluginHooks(),n=this.resolveCustomStyleMap(),i=this.resolveAccessibilityProps(),o=this.resolveblockRenderMap();return a.default.createElement(c.Editor,r({},this.props,i,t,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:o,onChange:this.onChange,editorState:this.props.editorState,ref:function(t){e.editor=t}}))}}]),t}(o.Component);v.propTypes={editorState:s.default.object.isRequired,onChange:s.default.func.isRequired,plugins:s.default.array,defaultKeyBindings:s.default.bool,defaultKeyCommands:s.default.bool,defaultBlockRenderMap:s.default.bool,customStyleMap:s.default.object,decorators:s.default.array},v.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var b=function(){var e=this;this.onChange=function(t){var n=t;e.resolvePlugins().forEach((function(t){t.onChange&&(n=t.onChange(n,e.getPluginMethods()))})),e.props.onChange&&e.props.onChange(n,e.getPluginMethods())},this.getPlugins=function(){return e.props.plugins.slice(0)},this.getProps=function(){return r({},e.props)},this.getReadOnly=function(){return e.props.readOnly},this.setReadOnly=function(t){t!==e.state.readOnly&&e.setState({readOnly:t})},this.getEditorRef=function(){return e.editor},this.getEditorState=function(){return e.props.editorState},this.getPluginMethods=function(){return{getPlugins:e.getPlugins,getProps:e.getProps,setEditorState:e.onChange,getEditorState:e.getEditorState,getReadOnly:e.getReadOnly,setReadOnly:e.setReadOnly,getEditorRef:e.getEditorRef}},this.createEventHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=[].slice.apply(i);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&!0===e[t].apply(e,y(a))}))}},this.createHandleHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=[].slice.apply(i);return a.push(e.getPluginMethods()),n.some((function(e){return"function"==typeof e[t]&&"handled"===e[t].apply(e,y(a))}))?"handled":"not-handled"}},this.createFnHooks=function(t,n){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=[].slice.apply(o);if(s.push(e.getPluginMethods()),"blockRendererFn"===t){var c={props:{}};return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,y(s));if(null!=n){var i=n.props,o=m(n,["props"]),a=c,l=a.props,u=m(a,["props"]);c=r({},u,o,{props:r({},l,i)})}}})),!!c.component&&c}if("blockStyleFn"===t){var l=void 0;return n.forEach((function(e){if("function"==typeof e[t]){var n=e[t].apply(e,y(s));null!=n&&(l=(l?l+" ":"")+n)}})),l||""}var u=void 0,d=n.some((function(e){return"function"==typeof e[t]&&void 0!==(u=e[t].apply(e,y(s)))}));return!!d&&u}},this.createPluginHooks=function(){var t={},n=[],r=[],i=[],o=[e.props].concat(y(e.resolvePlugins()));return o.forEach((function(e){Object.keys(e).forEach((function(e){"onChange"!==e&&(-1===n.indexOf(e)&&-1===i.indexOf(e)&&(0===e.indexOf("on")?n.push(e):0===e.indexOf("handle")?r.push(e):e.length-2===e.indexOf("Fn")&&i.push(e)))}))})),n.forEach((function(n){t[n]=e.createEventHooks(n,o)})),r.forEach((function(n){t[n]=e.createHandleHooks(n,o)})),i.forEach((function(n){t[n]=e.createFnHooks(n,o)})),t},this.resolvePlugins=function(){var t=e.props.plugins.slice(0);return!0===e.props.defaultKeyBindings&&t.push(h.default),!0===e.props.defaultKeyCommands&&t.push(f.default),t},this.resolveCustomStyleMap=function(){return e.props.plugins.filter((function(e){return void 0!==e.customStyleMap})).map((function(e){return e.customStyleMap})).concat([e.props.customStyleMap]).reduce((function(e,t){return r({},e,t)}),{})},this.resolveblockRenderMap=function(){var t=e.props.plugins.filter((function(e){return void 0!==e.blockRenderMap})).reduce((function(e,t){return e.merge(t.blockRenderMap)}),(0,l.Map)({}));return e.props.defaultBlockRenderMap&&(t=c.DefaultDraftBlockRenderMap.merge(t)),e.props.blockRenderMap&&(t=t.merge(e.props.blockRenderMap)),t},this.resolveAccessibilityProps=function(){var t={};return[e.props].concat(y(e.resolvePlugins())).forEach((function(e){if("function"==typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),i={};void 0===t.ariaHasPopup?i.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(i.ariaHasPopup="true"),void 0===t.ariaExpanded?i.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(i.ariaExpanded=!0),t=r({},t,n,i)}})),t}};t.default=v},q8wg:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("8wun"),a=n("1u47");t.a=e=>i.a.createElement(a.a,Object.assign({},e,{timeSpentManager:o.a}))},qFZT:function(e,t,n){var r=n("PnD8"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=h(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),m=0;m<a.length;++m){var y=a[m];if(!(o[y]||r&&r[y]||g&&g[y]||s&&s[y])){var _=p(n,y);try{l(t,y,_)}catch(v){}}}return t}return t}},qnky:function(e,t,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n("zVay").Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},quS2:function(e,t,n){n("2mcs");var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();if(null!=o&&t.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var o=e.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},qy1W:function(e,t,n){var r=n("2NuI");e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},r8eU:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("QLaP"),i=n.n(r);class o{constructor(e,t){i()(e,"You must pass a requestContext to check an Experiment"),i()(t,"You must pass the name of the experiment to check"),this.requestContext=e,this.experimentName=t.toLowerCase()}_isSeoExperiment(){return this.experimentName.startsWith("seo_")}_getGroup(e){return this.requestContext.isBot?this._isSeoExperiment()&&this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":this._isSeoExperiment()?e?"":this.requestContext.seoExperiments.v2GetSEOGroup(this.experimentName)||"":e?this.requestContext.experiments.v2ActivateExperiment(this.experimentName)||"":this.requestContext.experiments.v2GetGroup(this.experimentName)||""}}class a extends o{getGroup(e=!1){return this._getGroup(e)}}class s extends o{_isTreatment(e){return e.startsWith("enabled")||e.startsWith("employee")}enabled(){return this._isTreatment(this._getGroup(!0))}enabledWithNoActivation(){return this._isTreatment(this._getGroup(!1))}}},rAV9:function(e,t,n){var r=n("q1tI"),i=n("YVIB"),o=(0,n("zVay").Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},rJY1:function(e,t,n){var r={},i=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},rV1A:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8");t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:r.PUBLISH_DRAG_SOURCE}}}},rWXM:function(e,t,n){e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},rki0:function(e,t,n){n.d(t,"a",(function(){return r}));const r=e=>null!==(e||"undefined"!=typeof document&&document.referrer||"").toLowerCase().match(/pinterest\.|pinterdev/)},"s+7V":function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("i8i4"),a=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const u=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends r.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=a.a.findDOMNode(this)}catch(r){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(u,r),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const r=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=this.props.trackFullVisible?e.intersectionRatio>=1:r,o=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&o&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return i.a.createElement(e,this.props)}}return s(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t}},s4NR:function(e,t,n){t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},s5IZ:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:$(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function c(e){return!(!e||!e[h])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=i,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",m=5,y=1<<m,_=y-1,v={},b={value:!1},w={value:!1};function E(e){return e.value=!1,e}function S(e){e&&(e.value=!0)}function C(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function O(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function k(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?O(e)+t:t}function T(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return j(e,t,0)}function P(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,A=1,L=2,R="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",B=R||F;function z(e){this.next=e}function N(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function V(e){return!!K(e)}function W(e){return e&&"function"==typeof e.next}function q(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(R&&e[R]||e[F]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function $(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=M,z.VALUES=A,z.ENTRIES=L,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[B]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t($,G),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=$,G.Indexed=J;var X,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return X||(X=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():W(e)?new ie(e).fromEntrySeq():V(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return H(e)?new te(e):W(e)?new ie(e):V(e)?new re(e):void 0}function de(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():N(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?fe(t,e,"",{"":e}):ge(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):me(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function ge(e){return Array.isArray(e)?J(e).map(ge).toList():me(e)?Y(e).map(ge).toMap():e}function me(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ye(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&ye(i[1],e)&&(n||ye(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):i?!ye(t,e.get(r,v)):!ye(e.get(r,v),t))return d=!1,!1}));return d&&e.size===p}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);if(be(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Ee(){throw TypeError("Abstract")}function Se(){}function Ce(){}function xe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():N(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():N(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=q(this._iterable),r=0;if(W(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=q(this._iterable);if(!W(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return N(e,i,r[i++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return ye(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new ve(this._value,P(t,n)-D(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return ye(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return ye(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?N(e,r++,n._value):U()}))},ve.prototype.equals=function(e){return e instanceof ve?ye(this._value,e._value):_e(e)},t(we,J),we.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=D(e,this.size),(t=P(t,this.size))<=e?new we(0,0):new we(this.get(e,this._end),this.get(t,this._end),this._step))},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},we.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():N(e,o++,a)}))},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(Ee,n),t(Se,Ee),t(Ce,Ee),t(xe,Ee),Ee.Keyed=Se,Ee.Indexed=Ce,Ee.Set=xe;var Oe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ke(n)}if("string"===t)return e.length>ze?Ie(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Pe(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){var t=Ve[e];return void 0===t&&(t=De(e),Ue===Ne&&(Ue=0,Ve={}),Ue++,Ve[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ke(t)}function Pe(e){var t;if(Re&&void 0!==(t=Le.get(e)))return t;if(void 0!==(t=e[Be]))return t;if(!Me){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Be]))return t;if(void 0!==(t=Ae(e)))return t}if(t=++Fe,1073741824&Fe&&(Fe=0),Re)Le.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Me)Object.defineProperty(e,Be,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Be]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Be]=t}}return t}var je=Object.isExtensible,Me=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ae(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Le,Re="function"==typeof WeakMap;Re&&(Le=new WeakMap);var Fe=0,Be="__immutablehash__";"function"==typeof Symbol&&(Be=Symbol(Be));var ze=16,Ne=255,Ue=0,Ve={};function We(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function qe(e){return null==e?it():Ke(e)&&!u(e)?e:it().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ke(e){return!(!e||!e[Ge])}t(qe,Se),qe.prototype.toString=function(){return this.__toString("Map {","}")},qe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},qe.prototype.set=function(e,t){return ot(this,e,t)},qe.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},qe.prototype.remove=function(e){return ot(this,e,v)},qe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},qe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},qe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=mt(this,En(e),t,n);return r===v?void 0:r},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},qe.prototype.merge=function(){return pt(this,void 0,arguments)},qe.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},qe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},qe.prototype.mergeDeep=function(){return pt(this,ht,arguments)},qe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return pt(this,ft(t),n)},qe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},qe.prototype.sort=function(e){return Vt(dn(this,e))},qe.prototype.sortBy=function(e,t){return Vt(dn(this,t,e))},qe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},qe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},qe.prototype.asImmutable=function(){return this.__ensureOwner()},qe.prototype.wasAltered=function(){return this.__altered},qe.prototype.__iterator=function(e,t){return new et(this,e,t)},qe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},qe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qe.isMap=Ke;var He,Ge="@@__IMMUTABLE_MAP__@@",Ye=qe.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function $e(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return N(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return He||(He=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=E(b),a=E(w);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===v?e:(S(s),S(a),new Ze(t,r,[i,o]))}function st(e){return e.constructor===Ze||e.constructor===Qe}function ct(e,t,n,r,i){if(e.keyHash===r)return new Qe(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&_,s=(0===n?r:r>>>n)&_;return new $e(t,1<<a|1<<s,a===s?[ct(e,t,n+m,r,i)]:(o=new Ze(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new C);for(var i=new Ze(e,Te(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function ut(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(i|=c,a[o++]=u)}return new $e(e,i,a)}function dt(e,t,n,r,i){for(var o=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Xe(e,o+1,a)}function pt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return he(e)}))),i.push(c)}return gt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ye(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return ye(t,i)?t:i}}function gt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function mt(e,t,n,r){var i=e===v,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}be(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?v:e.get(c,v),u=mt(l,t,n,r);return u===l?e:u===v?e.remove(c):(i?it():e).set(c,u)}function yt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function _t(e,t,n,r){var i=r?e:x(e);return i[t]=n,i}function vt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function bt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[g]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===v,c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),!s||1!==c.length){if(!d&&!s&&c.length>=wt)return lt(e,c,r,i);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Je(e,h)}},$e.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=1<<((0===e?t:t>>>e)&_),o=this.bitmap;return 0==(o&i)?r:this.nodes[yt(o&i-1)].get(e+m,t,n,r)},$e.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&i===v)return this;var d=yt(l&c-1),p=this.nodes,h=u?p[d]:void 0,f=at(h,e,t+m,n,r,i,o,a);if(f===h)return this;if(!u&&f&&p.length>=Et)return dt(e,p,l,s,f);if(u&&!f&&2===p.length&&st(p[1^d]))return p[1^d];if(u&&f&&1===p.length&&st(f))return f;var g=e&&e===this.ownerID,y=u?f?l:l^c:l|c,b=u?f?_t(p,d,f,g):bt(p,d,g):vt(p,d,f,g);return g?(this.bitmap=y,this.nodes=b,this):new $e(e,y,b)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=(0===e?t:t>>>e)&_,o=this.nodes[i];return o?o.get(e+m,t,n,r):r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=i===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+m,n,r,i,o,a);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<St)return ut(e,l,p,s)}else p++;var h=e&&e===this.ownerID,f=_t(l,s,d,h);return h?(this.count=p,this.nodes=f,this):new Xe(e,p,f)},Qe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=i===v;if(n!==this.keyHash)return s?this:(S(a),S(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Qe(e,this.keyHash,h)},Ze.prototype.get=function(e,t,n,r){return ye(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,i,o,a){var s=i===v,c=ye(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(S(a),s?void S(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new Ze(e,this.keyHash,[r,i]):(S(o),ct(this,e,t,Te(r),[r,i])))},Je.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},$e.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var wt=y/4,Et=y/2,St=y/4;function Ct(e){var t=At();if(null==e)return t;if(xt(e))return e;var n=i(e),r=n.size;return 0===r?t:(We(r),r>0&&r<y?Mt(0,r,m,null,new Tt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function xt(e){return!(!e||!e[Ot])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=k(this,e))>=0&&e<this.size){var n=Bt(this,e+=this._origin);return n&&n.array[e&_]}return t},Ct.prototype.set=function(e,t){return Lt(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):At()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return zt(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return zt(this,1)},Ct.prototype.merge=function(){return Nt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return Nt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return Nt(this,ht,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Nt(this,ft(t),n)},Ct.prototype.setSize=function(e){return zt(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:zt(this,D(e,n),P(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new z((function(){var t=r();return t===Pt?U():N(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,i=jt(this,t);(n=i())!==Pt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=xt;var Ot="@@__IMMUTABLE_LIST__@@",kt=Ct.prototype;function Tt(e,t){this.array=e,this.ownerID=t}kt[Ot]=!0,kt[g]=kt.remove,kt.setIn=Ye.setIn,kt.deleteIn=kt.removeIn=Ye.removeIn,kt.update=Ye.update,kt.updateIn=Ye.updateIn,kt.mergeIn=Ye.mergeIn,kt.mergeDeepIn=Ye.mergeDeepIn,kt.withMutations=Ye.withMutations,kt.asMutable=Ye.asMutable,kt.asImmutable=Ye.asImmutable,kt.wasAltered=Ye.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_;if(r>=this.array.length)return new Tt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-m,n))===a&&o)return this}if(o&&!i)return this;var s=Ft(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&_;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-m,n))===o&&i===this.array.length-1)return this}var a=Ft(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var It,Dt,Pt={};function jt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>y&&(l=y),function(){if(c===l)return Pt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,u=1+(r-o>>i);return u>y&&(u=y),function(){for(;;){if(s){var e=s();if(e!==Pt)return e;s=null}if(l===u)return Pt;var n=t?--u:l++;s=a(c&&c[n],i-m,o+(n<<i))}}}}function Mt(e,t,n,r,i,o,a){var s=Object.create(kt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function At(){return It||(It=Mt(0,0,m))}function Lt(e,t,n){if((t=k(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=E(w);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Mt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&_,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-m,r,i,o);return u===l?e:((a=Ft(e,t)).array[s]=u,a)}return c&&e.array[s]===i?e:(S(o),a=Ft(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Ft(e,t){return t&&e&&t===e.ownerID?e:new Tt(e?e.array.slice():[],t)}function Bt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_],r-=m;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Tt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=m);u&&(a+=u,i+=u,s+=u,o+=u);for(var d=Ut(o),p=Ut(s);p>=1<<c+m;)l=new Tt(l&&l.array.length?[l]:[],r),c+=m;var h=e._tail,f=p<d?Bt(e,s-1):p>d?new Tt([],r):h;if(h&&p>d&&a<o&&h.array.length){for(var g=l=Ft(l,r),y=c;y>m;y-=m){var v=d>>>y&_;g=g.array[v]=Ft(g.array[v],r)}g.array[d>>>m&_]=h}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=p)a-=p,s-=p,c=m,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||p<d){for(u=0;l;){var b=a>>>c&_;if(b!==p>>>c&_)break;b&&(u+=(1<<c)*b),c-=m,l=l.array[b]}l&&a>i&&(l=l.removeBefore(r,c,a-u)),l&&p<d&&(l=l.removeAfter(r,c,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Mt(a,s,c,l,f)}function Nt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return he(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),gt(e,t,r)}function Ut(e){return e<y?0:e-1>>>m<<m}function Vt(e){return null==e?Kt():Wt(e)?e:Kt().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Wt(e){return Ke(e)&&u(e)}function qt(e,t,n,r){var i=Object.create(Vt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Kt(){return Dt||(Dt=qt(it(),At()))}function Ht(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=y&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):qt(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function $t(e){this._iter=e,this.size=e.size}function Xt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=bn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===L){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===A?M:A,n)},t}function Qt(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,v);return o===v?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(L,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return N(r,s,t.call(n,a[1],s,e),i)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=bn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=vn(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,v);return o!==v&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(L,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return N(i,r?l:s++,u,o)}}))},i}function tn(e,t,n){var r=qe().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(u(e)?Vt():qe()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=_n(e);return i.map((function(t){return gn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),I(t,n,i))return e;var o=D(t,i),a=P(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=k(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===A?e:N(t,c-1,t===M?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(L,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===L?e:N(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=vn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(L,o),c=!0,l=0;return new z((function(){var e,o,u;do{if((e=s.next()).done)return r||i===A?e:N(i,l++,i===M?void 0:e.value[1],e);var d=e.value;o=d[0],u=d[1],c&&(c=t.call(n,u,o,a))}while(c);return i===L?e:N(i,o,u,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,u)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===L&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:N(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=_n(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(A,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?N(n,a++,t):N(n,a++,i.value,i)}))},n}function dn(e,t,n){t||(t=wn);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):$(o)}function pn(e,t,n){if(t||(t=wn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=vn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(A,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),q(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():N(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function gn(e,t){return oe(e)?t:e.constructor(t)}function mn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function yn(e){return We(e.size),O(e)}function _n(e){return s(e)?r:c(e)?i:o}function vn(e){return Object.create((s(e)?Y:c(e)?J:$).prototype)}function bn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function wn(e,t){return e>t?1:e<t?-1:0}function En(e){var t=q(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=q(n(e))}return t}function Sn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);kn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=qe(o)},i=r.prototype=Object.create(Cn);return i.constructor=r,r}t(Vt,qe),Vt.of=function(){return this(arguments)},Vt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Vt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Vt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kt()},Vt.prototype.set=function(e,t){return Ht(this,e,t)},Vt.prototype.remove=function(e){return Ht(this,e,v)},Vt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Vt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Vt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Vt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?qt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Vt.isOrderedMap=Wt,Vt.prototype[f]=!0,Vt.prototype[g]=Vt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?yn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(A,t),r=t?yn(this):0;return new z((function(){var i=n.next();return i.done?i:N(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t),r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value,t)}))},t(Jt,$),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){var t=n.next();return t.done?t:N(e,t.value,t.value,t)}))},t($t,Y),$t.prototype.entrySeq=function(){return this._iter.toSeq()},$t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){mn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},$t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){mn(r);var i=a(r);return N(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=$t.prototype.cacheResult=bn,t(Sn,Se),Sn.prototype.toString=function(){return this.__toString(On(this)+" {","}")},Sn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Sn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Sn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=xn(this,it()))},Sn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+On(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:xn(this,n)},Sn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:xn(this,t)},Sn.prototype.wasAltered=function(){return this._map.wasAltered()},Sn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Sn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?xn(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=Sn.prototype;function xn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function On(e){return e._name||e.constructor.name||"Record"}function kn(e,t){try{t.forEach(Tn.bind(void 0,e))}catch(n){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function In(e){return null==e?Rn():Dn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[jn])}Cn[g]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(In,xe),In.of=function(){return this(arguments)},In.fromKeys=function(e){return this(r(e).keySeq())},In.prototype.toString=function(){return this.__toString("Set {","}")},In.prototype.has=function(e){return this._map.has(e)},In.prototype.add=function(e){return An(this,this._map.set(e,!0))},In.prototype.remove=function(e){return An(this,this._map.remove(e))},In.prototype.clear=function(){return An(this,this._map.clear())},In.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},In.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},In.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},In.prototype.merge=function(){return this.union.apply(this,arguments)},In.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},In.prototype.sort=function(e){return Fn(dn(this,e))},In.prototype.sortBy=function(e,t){return Fn(dn(this,t,e))},In.prototype.wasAltered=function(){return this._map.wasAltered()},In.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},In.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},In.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},In.isSet=Dn;var Pn,jn="@@__IMMUTABLE_SET__@@",Mn=In.prototype;function An(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ln(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Pn||(Pn=Ln(it()))}function Fn(e){return null==e?Vn():Bn(e)?e:Vn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Bn(e){return Dn(e)&&u(e)}Mn[jn]=!0,Mn[g]=Mn.remove,Mn.mergeDeep=Mn.merge,Mn.mergeDeepWith=Mn.mergeWith,Mn.withMutations=Ye.withMutations,Mn.asMutable=Ye.asMutable,Mn.asImmutable=Ye.asImmutable,Mn.__empty=Rn,Mn.__make=Ln,t(Fn,In),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(r(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=Bn;var zn,Nn=Fn.prototype;function Un(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Vn(){return zn||(zn=Un(Kt()))}function Wn(e){return null==e?Jn():qn(e)?e:Jn().unshiftAll(e)}function qn(e){return!(!e||!e[Hn])}Nn[f]=!0,Nn.__empty=Vn,Nn.__make=Un,t(Wn,Ce),Wn.of=function(){return this(arguments)},Wn.prototype.toString=function(){return this.__toString("Stack [","]")},Wn.prototype.get=function(e,t){var n=this._head;for(e=k(this,e);n&&e--;)n=n.next;return n?n.value:t},Wn.prototype.peek=function(){return this._head&&this._head.value},Wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Wn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;We(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Wn.prototype.pop=function(){return this.slice(1)},Wn.prototype.unshift=function(){return this.push.apply(this,arguments)},Wn.prototype.unshiftAll=function(e){return this.pushAll(e)},Wn.prototype.shift=function(){return this.pop.apply(this,arguments)},Wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Wn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=D(e,this.size);if(P(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,N(e,n++,t)}return U()}))},Wn.isStack=qn;var Kn,Hn="@@__IMMUTABLE_STACK__@@",Gn=Wn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Kn||(Kn=Yn(0))}function $n(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Hn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,$n(n,{toArray:function(){We(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return qe(this.toKeyedSeq())},toObject:function(){We(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Vt(this.toKeyedSeq())},toOrderedSet:function(){return Fn(s(this)?this.valueSeq():this)},toSet:function(){return In(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Wn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return gn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ye(t,e)}))},entries:function(){return this.__iterator(L)},every:function(e,t){We(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return gn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return We(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){We(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(M)},map:function(e,t){return gn(this,Qt(this,e,t))},reduce:function(e,t,n){var r,i;return We(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,Zt(this,!0))},slice:function(e,t){return gn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return gn(this,dn(this,e))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return gn(this,ln(this,e,t))},flatten:function(e){return gn(this,cn(this,e,!0))},fromEntrySeq:function(){return new $t(this)},get:function(e,t){return this.find((function(t,n){return ye(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=En(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return pn(this,e)},maxBy:function(e,t){return pn(this,t,e)},min:function(e){return pn(this,e?nr(e):or)},minBy:function(e,t){return pn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return gn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[d]=!0,Xn[B]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),$n(r,{flip:function(){return gn(this,Xt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ye(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ye(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return gn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return gn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Qn=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return x(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Te(e),Te(t))|0}:function(e,t){r=r+cr(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}function sr(e,t){return t=Oe(t,3432918353),t=Oe(t<<15|t>>>-15,461845907),t=Oe(t<<13|t>>>-13,5),t=Oe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ke((t=Oe(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Qn[p]=!0,Qn[B]=Xn.entries,Qn.__toJS=Xn.toObject,Qn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},$n(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return gn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return gn(this,Zt(this,!1))},slice:function(e,t){return gn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,1===n?r:r.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return gn(this,cn(this,e,!1))},get:function(e,t){return(e=k(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=k(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return gn(this,un(this,e))},interleave:function(){var e=[this].concat(x(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),gn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,!1))},zip:function(){return gn(this,fn(this,ir,[this].concat(x(arguments))))},zipWith:function(e){var t=x(arguments);return t[0]=this,gn(this,fn(this,e,t))}}),i.prototype[h]=!0,i.prototype[f]=!0,$n(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,$n(Y,r.prototype),$n(J,i.prototype),$n($,o.prototype),$n(Se,r.prototype),$n(Ce,i.prototype),$n(xe,o.prototype),{Iterable:n,Seq:G,Collection:Ee,Map:qe,OrderedMap:Vt,List:Ct,Stack:Wn,Set:In,OrderedSet:Fn,Record:Sn,Range:we,Repeat:ve,is:ye,fromJS:he}}()},s8ra:function(e,t,n){var r=n("CYTE"),i=n("kE58"),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=a},sAMb:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("mc7v"),i=n("7nh8"),o=n("QLaP");t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;!function(e){o(Array.isArray(e),"Expected targetIds to be an array.")}(t);var s=t.slice(0),c=e.getMonitor(),l=e.getRegistry();return function(e,t,n){o(t.isDragging(),"Cannot call hover while not dragging."),o(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];o(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(i);o(a,"Expected targetIds to be registered.")}}(s,c,l),function(e,t,n){for(var i=e.length-1;i>=0;i--){var o=e[i],a=t.getTargetType(o);r.default(a,n)||e.splice(i,1)}}(s,l,c.getItemType()),function(e,t,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];n.getTarget(o).hover(t,o)}}(s,c,l),{type:i.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}},sGxw:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("jirY")),r(n("z3qU")),r(n("UJTY"))},"sH+O":function(e,t,n){n.d(t,"a",(function(){return r}));const r=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e.match(n)||!t.match(n))return null;const r=e.split("."),i=t.split("."),o=Math.max(r.length,i.length);for(let a=0;a<o;a+=1){const e=a<r.length?parseInt(r[a],10):0,t=a<i.length?parseInt(i[a],10):0;if(e<t)return-1;if(e>t)return 1}return 0}},sRdV:function(e,t,n){e.exports=function(e){var t={};t.src_Any=n("y8fO").source,t.src_Cc=n("p7ys").source,t.src_Z=n("T8I8").source,t.src_P=n("fKCf").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},sZWH:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("S8b/"),i=n("PRGv");t.getEmptyImage=i.default;var o=n("QSJg");t.NativeTypes=o,t.default=function(e){return new r.default(e)}},seY9:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("n6mq"),s=n("vvax"),c=n("28DW");const l={modalContainer:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:2},vaseCard:{backgroundColor:"white",borderRadius:"8px",left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px",width:"414px"},header:{borderBottom:"solid 1px #efefef",display:"flex",height:"60px",justifyContent:"flex-end",padding:"0 24px"},icon:{cursor:"pointer",fill:"#767676",marginTop:"20px"},moreInfoTitle:{fontSize:"21px",fontWeight:"bold",left:"50%",marginTop:"20px",position:"absolute",transform:"translateX(-50%)"},informationSection:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"},pinDescription:{fontSize:"16px",marginTop:"15px"},pinAttribution:{fontSize:"16px",marginTop:"12px"},link:{fontWeight:"bold",textDecoration:"none"},subtitle:{fontSize:"18px",fontWeight:"bold",marginTop:"16px"},annotationsWrapper:{display:"flex",flexWrap:"wrap"}};t.a=e=>{const{closeButtonClickHandler:t,pin:n}=e,r=e=>{Object(c.e)("click_vase_modal_board",!0)},u=e=>{Object(c.e)("click_vase_modal_profile",!0)},d=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:l.header},i.a.createElement("div",{onClick:t,onKeyUp:t,role:"button",style:l.icon,tabIndex:"0"},i.a.createElement(a.t,{accessibilityLabel:o.a._("Cancel","close modal icon","close modal icon"),icon:"cancel",inline:!0,size:18})),i.a.createElement("div",{style:l.moreInfoTitle},o.a._("More information","more information label","more information label"))),i.a.createElement("div",{style:l.informationSection},(e=>e.description?i.a.createElement("h2",{style:l.pinDescription},e.description):null)(n),(e=>{const{board:t}=e;if(t&&t.url&&t.name){const n=e.board.url.split("/")[1];let a=n;e.pinner&&e.pinner.full_name&&(a=e.pinner.full_name);const c=Object(s.b)(o.a._("Find this Pin and more on {{ board_link }} by {{ profile_link }}.","Link to pin's board and board's owner","Link to pin's board and board's owner"),{board_link:i.a.createElement("a",{key:"board-link",href:t.url,onClick:r,style:l.link},t.name),profile_link:i.a.createElement("a",{key:"profile-link",href:`/${n}/`,onClick:u,style:l.link},a)});return i.a.createElement("div",{style:l.pinAttribution},c)}return null})(n)));return i.a.createElement("div",{"data-test-id":"more-information-modal",style:l.modalContainer,onClick:e=>t(e)},i.a.createElement("section",{onClick:e=>e.stopPropagation(),style:l.vaseCard},d))}},slCJ:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("q1tI"),s=n("SFi7"),c=n("jxrL"),l=n("dJ9d"),u=(n("QWfI"),n("2S0S")),d=n("qFZT"),p=n("Gytx");t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,h=e.createConnector,f=e.registerHandler,g=e.containerDisplayName,m=e.getType,y=e.collect,_=e.options.arePropsEqual,v=void 0===_?p:_,b=t,w=t.displayName||t.name||"Component",E=function(e){function d(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();p(e,n.state)||n.setState(e)},n.disposable=new c.SerialDisposable,n.receiveProps(t),n.dispose(),n}return i(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return u(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!p(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new c.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(m(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=f(e,this.handler,this.manager),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(i),new c.Disposable(r)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?y(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(s.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),a.createElement(b,o({},e.props,e.getCurrentState(),{ref:l.isRefable(b)?e.decoratedRef:null}))}))},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(u(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",w,w),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=h(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=g+"("+w+")",d}(a.Component);return d(E,t)}},t5Ir:function(e,t,n){t.a={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},tAJF:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("/MKj"),a=n("7w6Q"),s=n("FDmi");const c={container:{width:"12%",height:"28%",right:"1%",position:"relative",backgroundColor:"#fff",border:"1px solid #e0e0e0",boxShadow:"0px 5px 6px rgba(0, 0, 0, 0.1)",paddingTop:20,paddingRight:20,paddingLeft:20,borderRadius:5},caret:{position:"absolute",fill:"#fff",stroke:"#e0e0e0",left:"100%",top:"25%"}},l=()=>i.a.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M0 0 L12 12 L0 24"}));function u(e){return i.a.createElement("div",{style:c.container},i.a.createElement("div",{style:c.caret},i.a.createElement(l,null)),e.children)}var d=n("Ye/N"),p=n("n6mq");function h(e){const t=e.inviteCodeResource?e.inviteCodeResource.sender:null,n=t?t.first_name:"",o=t?t.image_medium_url:"",a=n?d.a._("{{ name }} sent you an idea from Pinterest","flyout indicating to reciver got a share link from sender(name) ","flyout indicating to reciver got a share link from sender(name) ").replace("{{ name }}",n):"",c=n?d.a._("Reply to {{ name }}","placeholder for reply text for sender(name)","placeholder for reply text for sender(name)").replace("{{ name }}",n):d.a._("Add a Message","reply back to a message","reply back to a message");return t?i.a.createElement(r.Fragment,null,i.a.createElement(u,null,i.a.createElement(p.e,null,i.a.createElement(p.e,{alignItems:"start",direction:"row",display:"flex",flex:"grow"},i.a.createElement(p.e,{marginEnd:1},i.a.createElement(p.V,{weight:"bold"},a)),i.a.createElement(p.e,{width:90,display:"flex",flex:"grow"},i.a.createElement(s.a,{name:n,src:o}))),i.a.createElement(p.U,{onTap:e.onReplyFocus},i.a.createElement(p.e,{marginTop:4,display:"flex",flex:"grow",rounding:2,alignContent:"center",height:35,dangerouslySetInlineStyle:{__style:{border:"#767676",borderWidth:"thin",borderStyle:"solid"}}},i.a.createElement(p.e,{left:!0,width:"82%",alignSelf:"center",marginStart:2,dangerouslySetInlineStyle:{__style:{cursor:"default",paddingBottom:"1%"}}},i.a.createElement(p.V,{size:"md",truncate:!0,color:"gray",align:"left"},c))))))):null}var f=n("x83E"),g=n("6AVr"),m=n("vYDk"),y=n("D2p8"),_=n("vCxS"),v=n.n(_),b=n("LT60");function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={filter:"blur(24px)",WebkitFilter:"blur(24px)"},S={width:"100vw",height:"100vh",backgroundColor:"rgba(51, 51, 51, 0.9)",position:"fixed",left:"0px",bottom:"0px",right:"0px",top:"0x",zIndex:1e3,display:"flex"},C={width:"100vw",height:"100vh",backgroundImage:`url(${v.a})`,backgroundSize:"100% 100%",backgroundColor:"rgba(51, 51, 51, 1)",position:"fixed",left:"0px",bottom:"0px",right:"0px",top:"0px",zIndex:1e3,display:"flex"},x={height:"251px",width:"804px",margin:"auto",position:"relative",display:"flex"};class O extends i.a.Component{constructor(e){super(e),w(this,"pauseImpressionsTracking",()=>{y.c.pause()}),w(this,"resumeImpressionsTracking",()=>{y.c.resume()}),w(this,"handleContinue",()=>{this.resumeImpressionsTracking(),this.props.onDismiss()}),w(this,"handleRedirect",()=>{window.location.assign("/")}),w(this,"onContinue",()=>{this.handleContinue()}),w(this,"onCancel",()=>{this.handleRedirect()}),this.prevOverflow=null}componentDidMount(){"undefined"!=typeof window&&(this.prevOverflow=window.document.body.style.overflow,window.document.body.style.overflow="hidden"),this.pauseImpressionsTracking()}componentWillUnmount(){"undefined"!=typeof window&&(window.document.body.style.overflow=this.prevOverflow),this.resumeImpressionsTracking()}render(){const{browserSupportsBlur:e}=this.props;return i.a.createElement(b.a,{allowClickAndDrag:!1},i.a.createElement("div",{style:e?S:C},i.a.createElement("div",{style:x},i.a.createElement(p.e,{position:"relative",display:"flex",width:"100%",rounding:2,color:"white",justifyContent:"around",alignItems:"center",paddingY:12,wrap:!0},i.a.createElement(p.e,{display:"flex",justifyContent:"center",padding:4},i.a.createElement(p.s,null,d.a._("Heads up: This might be sensitive content","Warning modal for sensitive content","Warning modal for sensitive content"))),i.a.createElement(p.e,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end"},i.a.createElement(p.e,{padding:2},i.a.createElement(p.f,{size:"md",text:d.a._("Continue","Continue to view potentially sensitive content","Continue to view potentially sensitive content"),accessibilityLabel:d.a._("Continue to view content","Accessible label for content safety modal continue button","Accessible label for content safety modal continue button"),onClick:this.onContinue})),i.a.createElement(p.e,{padding:2},i.a.createElement(p.f,{color:"red",size:"md",text:d.a._("Cancel","Cancel and go back to the homefeed","Cancel and go back to the homefeed"),accessibilityLabel:d.a._("Cancel and return to homefeed","Accessible label for content safety modal cancel button","Accessible label for content safety modal cancel button"),onClick:this.onCancel})))))))}}var k=O,T=n("XZ+i");function I({shouldShowContentSafetyModal:e,browserSupportsBlur:t,children:n,isStoryPin:o}){const{relatedPinsStickyDismissed:a,setRelatedPinsStickyDismissed:s}=Object(T.c)(),c=o||a;return i.a.createElement(r.Fragment,null,i.a.createElement(p.Q,{bottom:c?"":0},i.a.createElement("div",{style:{...e&&t?E:{},maxHeight:"40vh",boxShadow:c?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},n)),i.a.createElement(m.a,{onVisibilityChange:(...e)=>((e,t)=>{if(e.length>0&&e[0].length>0){const{isIntersecting:n}=e[0][0];n&&t(!0)}})(e,s)},i.a.createElement(p.e,{height:"1"})))}var D=n("eOdZ"),P=n("DzJC"),j=n.n(P),M=n("28DW"),A=(n("zLEO"),n("gTp2")),L=n("VCRF"),R=n("Zxas");function F(e){return{type:"STORY_PIN_EXPANDED",payload:e}}var B=n("8Wa5"),z=n("oRao"),N=n("vvax");function U({boldNumber:e=!0,count:t,showAllDigits:n=!0,textColor:r="gray",textSize:o="md"}){return i.a.createElement(p.V,{color:r,inline:!0,size:o},Object(N.b)(d.a.ngettext("{{ followerCount }} Follower","{{ followerCount }} Followers",t,"Label for the number of people following a user","Label for the number of people following a user"),{followerCount:i.a.createElement(p.V,{inline:!0,size:o,weight:e?"bold":"normal",key:"follower_count"},i.a.createElement(z.a,{value:t,shortform:!n,shortformMaximumFractionDigits:n?void 0:1}))}))}var V=n("EC51"),W=n("TNox");var q=e=>{const{color:t,creator:n}=e,r=n.full_name||n.username,o=n.follower_count||0,a=`/${n.username}/`,c=n.image_medium_url||n.image_small_url;return i.a.createElement(p.e,{alignItems:"center",display:"flex"},i.a.createElement(p.e,{alignItems:"center",display:"flex"},i.a.createElement(W.a,{href:a},i.a.createElement(p.e,{marginEnd:1,padding:1},i.a.createElement(s.a,{accessibilityLabel:"",name:r,size:"sm",src:c}))),i.a.createElement(p.e,{direction:"column"},i.a.createElement(V.a,{href:a},i.a.createElement(p.V,{color:t,size:"sm",weight:"bold"},r)),o>0&&i.a.createElement(U,{boldNumber:!1,count:n.follower_count||0,showAllDigits:!1,textColor:t,textSize:"sm"}))))},K=n("Klk4"),H=n("eBDd"),G=n("w70y"),Y=n("xmd6"),J=n("DfJT");function $(e){const{commentCount:t,handleRender:n,objectId:o,pinId:a}=e;Object(r.useEffect)(()=>{n()});const{data:s,isAtEnd:c,fetchMore:l}=Object(G.a)({name:"AggregatedCommentFeedResource",options:{featured_ids:null,objectId:o,page_size:J.c,redux_normalize_feed:!0}}),u=s&&s.length;if(!u)return null;const h={id:a||o},f=t||0,g=f-u,m=Object(H.a)(d.a.ngettext("{{ count }} Comment","{{ count }} Comments",f,"unauthStory.pinCommentList.commentHeading","comments on a Pin"),{count:f.toString()});return i.a.createElement(p.e,{marginTop:6},i.a.createElement(p.s,{size:"sm"},m),i.a.createElement(p.e,{marginBottom:4,marginTop:4},s&&s.map(e=>i.a.createElement(K.a,{key:e.id,avatarSize:"md",commentAuthor:e.user,commentCount:t,commentId:e.id,contentText:e.text,createdAt:e.created_at,flyout:null,handleLikeClick:()=>{},handleLikeCountClick:()=>{},handleOnEditCancel:()=>{},handleOnEdited:()=>{},handleReplyClick:()=>{},hideAddObjects:!0,hideReplyCount:!0,inEditMode:!1,isLikedByMe:!1,isPlainComment:!0,parentObject:h,reactionCounts:e.reaction_counts,taggedUsers:e.tagged_users,tags:e.tags,truncateText:!0,type:Y.a.aggregatedComment}))),g>0&&!c&&i.a.createElement(p.U,{onTap:l},i.a.createElement(p.V,{color:"gray",weight:"bold"},d.a._("See more","unauthStory.pinCommentList.seeMore","button to load more comments"))))}var X=n("3a2J"),Q=n("YxyV"),Z=n("VpfY"),ee=n("MNxV");const te=(e,t)=>e&&e.current&&t>0?e.current.scrollHeight-t:0,ne=(e,t,n,r,i)=>{const o=te(e,t);o>0&&!n?r(!0):o>0&&n&&i(F(o))};var re=Object(o.connect)()(e=>{const[t,n]=Object(r.useState)(!1),[o,a]=Object(r.useState)(!1),[s,c]=Object(r.useState)(0),[l,u]=Object(r.useState)(!1),h=Object(r.createRef)(),f=Object(r.createRef)(),{dispatch:g,pin:m}=e,{aggregated_pin_data:y={},native_creator:_}=m;Object(r.useEffect)(()=>{f&&f.current&&c(f.current.offsetHeight)},[]),Object(r.useEffect)(()=>{ne(h,s,t,a,g)});const{annotationsWithLinks:v}=Object(Q.c)(m),b=m.description,w=Object(R.a)(b,150," "),E=w.length<b.length,S=m.title,C=Object(Z.i)(m),x=t?"UnauthStoryPinCloseupBody__container_expanded":"UnauthStoryPinCloseupBody__container";return i.a.createElement("div",{ref:f,className:x,"data-test-id":"unauth-story-pin-side-card"},i.a.createElement(p.e,{ref:h,padding:10},i.a.createElement("h1",{style:{fontSize:28}},S),i.a.createElement(p.e,{marginTop:2},i.a.createElement(p.V,{color:"gray",size:"sm"},Object(N.b)(d.a._("Published on {{ publishDate }}","unauth.storypin.closeup.body.publishDate","Text indicating when a Story Pin was published"),{publishDate:i.a.createElement(ee.b,{dateFormatType:ee.a.LONG,useUTC:!1,value:new Date(m.created_at)})}))),m.description&&i.a.createElement(p.e,{marginTop:6},i.a.createElement(p.V,{color:"darkGray",inline:!0},E&&!l?w:b),E&&!l&&i.a.createElement(p.e,{display:"inlineBlock"},i.a.createElement(p.U,{onTap:()=>u(!0)},i.a.createElement(p.V,{color:"darkGray",weight:"bold"},d.a._("More...","unauth.storypin.closeup.body.description.expand_button","Button to expand truncated description."))))),i.a.createElement(p.e,{marginBottom:6,marginTop:6},i.a.createElement(q,{color:"darkGray",creator:_})),v&&v.length>0?i.a.createElement(X.a,{annotationsWithLinks:v,openInCurrentTab:!0,pillStyleOverride:{borderRadius:"32px",backgroundColor:"#efefef",color:"#111111",padding:"5px 8px",marginRight:"4px",marginBottom:"4px",fontSize:"12px",fontWeight:"600"},tagClickHandler:()=>{}}):null,!!m.reaction_counts&&i.a.createElement(p.e,{marginTop:3},i.a.createElement(L.a,{disableModal:!0,pinId:m.id,reactionCounts:m.reaction_counts})),i.a.createElement(p.e,{marginTop:1},i.a.createElement(B.a,{detailsPage:C?C.detailsPage:void 0,metadata:C?C.metadata:void 0})),i.a.createElement($,{commentCount:y.comment_count,handleRender:()=>{ne(h,s,t,a,g)},objectId:y.id,pinId:m.id}),o&&!t&&i.a.createElement(p.e,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 29.87%, rgba(255, 255, 255, 0.81) 89.06%)"}},display:"flex",height:80,justifyContent:"center",marginEnd:-10,marginStart:-10,position:"absolute",width:"100%"},i.a.createElement(p.u,{accessibilityExpanded:t,accessibilityLabel:"see more",bgColor:"lightGray",dangerouslySetSvgPath:{__path:"M20.0002 8.48216C20.0002 8.86089 19.8535 9.24028 19.5608 9.53009L12.0002 17L4.4395 9.53009C3.8535 8.95179 3.8535 8.01253 4.4395 7.43422C5.0255 6.85526 5.97483 6.85526 6.56083 7.43422L12.0002 12.8076L17.4395 7.43422C18.0255 6.85526 18.9748 6.85526 19.5608 7.43422C19.8535 7.72338 20.0002 8.10277 20.0002 8.48216Z"},iconColor:"darkGray",onClick:()=>((e,t,n)=>{e(F(t)),n(!0)})(g,te(h,s),n),size:"lg"}))))});var ie=Object(o.connect)(e=>({closeupExpandedOffset:e.storyCloseupExpand.offset}))(e=>{const{closeupExpandedOffset:t,pin:n,pinLinkClickHandler:r}=e,o=t||0;return i.a.createElement(p.e,{dangerouslySetInlineStyle:{__style:{paddingBottom:o}},position:"relative"},i.a.createElement(A.a,{onClickThrough:r,onNavigateBack:()=>{},onUpdate:()=>{},pin:n}),i.a.createElement(re,{pin:n}))}),oe=n("2MPc"),ae=n("seY9"),se=n("Y8Sn"),ce=n("rki0"),le=n("RNo4"),ue=n("mG99"),de=n("U4JR"),pe=n("XPo3"),he=n("EC67"),fe=n("szi8"),ge=n("JA34");const me=pe.d+30,ye={alignContent:"center",justifyContent:"center",backgroundColor:"white",flexDirection:"row",display:"flex",flex:"1 1 auto",padding:"24px 12px 12px 12px",boxSizing:"inherit"},_e={display:"flex",flexDirection:"column"};t.a=({closeupPin:e,disableSimilarPins:t,hybridClickthroughHandler:n,inviteCodeResource:s,isStoryPin:c,modalOpened:l,pinImageClickHandler:u,showResponseModalSignup:d,showSignupModal:p})=>{var m;const y=Object(o.useDispatch)(),_=Object(o.useSelector)(e=>e.ui.contentSafetyModal.contentSafetyModalViewed),v=((e,t)=>{const{content_sensitivity:n}=e;if(t||!n)return!1;const{is_self_harm_content:r,is_porn_content:i}=n;return r&&a.a.increment("web_unauth_pin_closeup_hide_self_harm_content"),i&&a.a.increment("web_unauth_pin_closeup_hide_porn_content"),!(!r&&!i)})(e,_);v&&y({type:"CONTENT_SAFETY_MODAL_VIEWED",payload:{content_safety_modal_viewed:!0}});const[b,w]=Object(r.useState)(!1),[S,C]=Object(r.useState)(v),[x,O]=Object(r.useState)(ge.a.closed),[T,P]=Object(r.useState)("wide"),A=Object(G.a)({name:"UnauthPinFeedResource",options:(L=(e||{}).id,{pin:L,field_set_key:"unauth_react",add_vase:!0,source:"seo_unauth"})});var L;const{httpReferrer:R,isBot:F}=Object(fe.b)(),B=Object(he.h)(),z=Boolean("undefined"!=typeof document&&document&&document.documentElement&&("filter"in document.documentElement.style||"WebkitFilter"in document.documentElement.style)),N=j()(()=>{"wide"===T&&window.innerWidth<me?P("narrow"):"narrow"===T&&window.innerWidth>=me&&P("wide")},200);Object(r.useEffect)(()=>(s||oe.a.logLastVisitedPinLandingPage(e,!1),e&&e.rich_metadata&&e.rich_metadata.products&&Object(M.a)("unauth.pin_page.main_pin.is_product_pin"),window.addEventListener("resize",N),N(),()=>{window.removeEventListener("resize",N)}),[]);const U=()=>{a.a.increment("web.social.unauth.response.flyout.notsimilar.click",1),d&&d("notsimilar",e)},V=t=>{Object(M.a)("unauth.pin_page.main_pin.image_click_through");const n="link"===t?135:0;Object(de.b)(12,{component:n,element:35,objectId:e.id,view:3,viewParameter:3105}),Object(se.e)()&&Object(de.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:3,viewParameter:3105,component:n,element:35,objectId:e.id})},W=()=>{V("link"),n&&n(),(async t=>{const n={check_only:!0,url:t,pin_id:e.id},r=await D.a.create("OffsiteLinkResource",n).callGet();if(r&&r.resource_response&&!r.resource_response.error){const{redirect_status:e}=r.resource_response.data;Object(M.a)("web.unauth.clickthrough_quality."+e)}else Object(M.a)("web.unauth.clickthrough_quality.error")})(e.link)},q=()=>{x===ge.a.closed&&e.click_through_link_quality&&e.click_through_link_quality.is_inaccessible?(a.a.increment("web_unauth_alt_link_modal_opened"),O(ge.a.open)):W()},K=()=>{V("link"),n&&n()},H=A.data,Y=Object(le.k)(B.search),J=Y&&Y.rpo&&"true"===Y.rpo;return i.a.createElement("div",{"data-test-id":"UnauthPinLandingCloseup"},S&&i.a.createElement(k,{browserSupportsBlur:z,onDismiss:()=>{C(!1)}}),x===ge.a.open&&i.a.createElement(ge.b,{altLinks:(null===(m=e.click_through_link_quality)||void 0===m?void 0:m.alternate_links)||[],handleModalCompleteAltClickthrough:()=>{W(),O(ge.a.closed),a.a.increment("web_unauth_alt_link_modal_completed_alternate")},handleModalCompleteOriginalClickthrough:()=>{W(),O(ge.a.completed),a.a.increment("web_unauth_alt_link_modal_completed_original")},handleModalDismiss:()=>{O(ge.a.closed)},pin:e}),i.a.createElement("div",{style:{visibility:b?"":"hidden"},"data-test-id":"UnauthVaseFullBleedModalContainer"},i.a.createElement(ae.a,{closeButtonClickHandler:e=>{Object(M.a)("unauth.pin_page.main_pin.more_info_click"),w(!b),document.body&&(document.body.style.overflow=b?"":"hidden")},pin:e})),i.a.createElement("div",{"data-test-id":"pin",style:_e},!J&&(c?i.a.createElement(ie,{pin:e,pinLinkClickHandler:q}):i.a.createElement("div",{"data-test-id":"pinHeader",style:{height:"",...ye,...S?E:{}}},i.a.createElement(i.a.Fragment,null,!S&&t&&s&&i.a.createElement(h,{inviteCodeResource:s,onReplyFocus:U}),i.a.createElement(f.b,{clickthroughHandler:K,modalOpened:l,pin:e,viewportSize:T})))),H?i.a.createElement(I,{shouldShowContentSafetyModal:S,browserSupportsBlur:z,isStoryPin:c},i.a.createElement(g.b,{nextBookmark:A.nextBookmark,closeupPin:e,hideMeta:!F&&Object(ce.a)(R),isStoryPin:c,pinImageClickHandler:u,relatedPins:t?H:H.slice(6),showSignupModal:p,includeHeader:!J})):Object(ue.b)()))}},tEMl:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("MCs0"),i=(n("QWfI"),n("2S0S")),o=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach((function(t){i(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},tKWh:function(e,t,n){function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function i(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},e.exports=o},tXUN:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:$(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function c(e){return!(!e||!e[h])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=i,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",m=5,y=1<<m,_=y-1,v={},b={value:!1},w={value:!1};function E(e){return e.value=!1,e}function S(e){e&&(e.value=!0)}function C(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function O(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function k(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?O(e)+t:t}function T(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return j(e,t,0)}function P(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,A=1,L=2,R="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",B=R||F;function z(e){this.next=e}function N(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function V(e){return!!K(e)}function W(e){return e&&"function"==typeof e.next}function q(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(R&&e[R]||e[F]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function $(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=M,z.VALUES=A,z.ENTRIES=L,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[B]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t($,G),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=$,G.Indexed=J;var X,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return X||(X=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():W(e)?new ie(e).fromEntrySeq():V(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return H(e)?new te(e):W(e)?new ie(e):V(e)?new re(e):void 0}function de(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():N(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?fe(t,e,"",{"":e}):ge(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):me(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function ge(e){return Array.isArray(e)?J(e).map(ge).toList():me(e)?Y(e).map(ge).toMap():e}function me(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ye(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&ye(i[1],e)&&(n||ye(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):i?!ye(t,e.get(r,v)):!ye(e.get(r,v),t))return d=!1,!1}));return d&&e.size===p}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);if(be(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Ee(){throw TypeError("Abstract")}function Se(){}function Ce(){}function xe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():N(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():N(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=q(this._iterable),r=0;if(W(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=q(this._iterable);if(!W(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return N(e,i,r[i++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return ye(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new ve(this._value,P(t,n)-D(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return ye(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return ye(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?N(e,r++,n._value):U()}))},ve.prototype.equals=function(e){return e instanceof ve?ye(this._value,e._value):_e(e)},t(we,J),we.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=D(e,this.size),(t=P(t,this.size))<=e?new we(0,0):new we(this.get(e,this._end),this.get(t,this._end),this._step))},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},we.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():N(e,o++,a)}))},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(Ee,n),t(Se,Ee),t(Ce,Ee),t(xe,Ee),Ee.Keyed=Se,Ee.Indexed=Ce,Ee.Set=xe;var Oe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ke(n)}if("string"===t)return e.length>ze?Ie(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Pe(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){var t=Ve[e];return void 0===t&&(t=De(e),Ue===Ne&&(Ue=0,Ve={}),Ue++,Ve[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ke(t)}function Pe(e){var t;if(Re&&void 0!==(t=Le.get(e)))return t;if(void 0!==(t=e[Be]))return t;if(!Me){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Be]))return t;if(void 0!==(t=Ae(e)))return t}if(t=++Fe,1073741824&Fe&&(Fe=0),Re)Le.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Me)Object.defineProperty(e,Be,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Be]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Be]=t}}return t}var je=Object.isExtensible,Me=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ae(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Le,Re="function"==typeof WeakMap;Re&&(Le=new WeakMap);var Fe=0,Be="__immutablehash__";"function"==typeof Symbol&&(Be=Symbol(Be));var ze=16,Ne=255,Ue=0,Ve={};function We(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function qe(e){return null==e?it():Ke(e)&&!u(e)?e:it().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ke(e){return!(!e||!e[Ge])}t(qe,Se),qe.prototype.toString=function(){return this.__toString("Map {","}")},qe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},qe.prototype.set=function(e,t){return ot(this,e,t)},qe.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},qe.prototype.remove=function(e){return ot(this,e,v)},qe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},qe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},qe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=mt(this,En(e),t,n);return r===v?void 0:r},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},qe.prototype.merge=function(){return pt(this,void 0,arguments)},qe.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},qe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},qe.prototype.mergeDeep=function(){return pt(this,ht,arguments)},qe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return pt(this,ft(t),n)},qe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},qe.prototype.sort=function(e){return Vt(dn(this,e))},qe.prototype.sortBy=function(e,t){return Vt(dn(this,t,e))},qe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},qe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},qe.prototype.asImmutable=function(){return this.__ensureOwner()},qe.prototype.wasAltered=function(){return this.__altered},qe.prototype.__iterator=function(e,t){return new et(this,e,t)},qe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},qe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qe.isMap=Ke;var He,Ge="@@__IMMUTABLE_MAP__@@",Ye=qe.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function $e(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return N(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return He||(He=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=E(b),a=E(w);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===v?e:(S(s),S(a),new Ze(t,r,[i,o]))}function st(e){return e.constructor===Ze||e.constructor===Qe}function ct(e,t,n,r,i){if(e.keyHash===r)return new Qe(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&_,s=(0===n?r:r>>>n)&_;return new $e(t,1<<a|1<<s,a===s?[ct(e,t,n+m,r,i)]:(o=new Ze(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new C);for(var i=new Ze(e,Te(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function ut(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(i|=c,a[o++]=u)}return new $e(e,i,a)}function dt(e,t,n,r,i){for(var o=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Xe(e,o+1,a)}function pt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return he(e)}))),i.push(c)}return gt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ye(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return ye(t,i)?t:i}}function gt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function mt(e,t,n,r){var i=e===v,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}be(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?v:e.get(c,v),u=mt(l,t,n,r);return u===l?e:u===v?e.remove(c):(i?it():e).set(c,u)}function yt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function _t(e,t,n,r){var i=r?e:x(e);return i[t]=n,i}function vt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function bt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[g]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===v,c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),!s||1!==c.length){if(!d&&!s&&c.length>=wt)return lt(e,c,r,i);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Je(e,h)}},$e.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=1<<((0===e?t:t>>>e)&_),o=this.bitmap;return 0==(o&i)?r:this.nodes[yt(o&i-1)].get(e+m,t,n,r)},$e.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&i===v)return this;var d=yt(l&c-1),p=this.nodes,h=u?p[d]:void 0,f=at(h,e,t+m,n,r,i,o,a);if(f===h)return this;if(!u&&f&&p.length>=Et)return dt(e,p,l,s,f);if(u&&!f&&2===p.length&&st(p[1^d]))return p[1^d];if(u&&f&&1===p.length&&st(f))return f;var g=e&&e===this.ownerID,y=u?f?l:l^c:l|c,b=u?f?_t(p,d,f,g):bt(p,d,g):vt(p,d,f,g);return g?(this.bitmap=y,this.nodes=b,this):new $e(e,y,b)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=(0===e?t:t>>>e)&_,o=this.nodes[i];return o?o.get(e+m,t,n,r):r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=i===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+m,n,r,i,o,a);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<St)return ut(e,l,p,s)}else p++;var h=e&&e===this.ownerID,f=_t(l,s,d,h);return h?(this.count=p,this.nodes=f,this):new Xe(e,p,f)},Qe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=i===v;if(n!==this.keyHash)return s?this:(S(a),S(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Qe(e,this.keyHash,h)},Ze.prototype.get=function(e,t,n,r){return ye(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,i,o,a){var s=i===v,c=ye(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(S(a),s?void S(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new Ze(e,this.keyHash,[r,i]):(S(o),ct(this,e,t,Te(r),[r,i])))},Je.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},$e.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var wt=y/4,Et=y/2,St=y/4;function Ct(e){var t=At();if(null==e)return t;if(xt(e))return e;var n=i(e),r=n.size;return 0===r?t:(We(r),r>0&&r<y?Mt(0,r,m,null,new Tt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function xt(e){return!(!e||!e[Ot])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=k(this,e))>=0&&e<this.size){var n=Bt(this,e+=this._origin);return n&&n.array[e&_]}return t},Ct.prototype.set=function(e,t){return Lt(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):At()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return zt(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return zt(this,1)},Ct.prototype.merge=function(){return Nt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return Nt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return Nt(this,ht,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Nt(this,ft(t),n)},Ct.prototype.setSize=function(e){return zt(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:zt(this,D(e,n),P(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new z((function(){var t=r();return t===Pt?U():N(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,i=jt(this,t);(n=i())!==Pt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=xt;var Ot="@@__IMMUTABLE_LIST__@@",kt=Ct.prototype;function Tt(e,t){this.array=e,this.ownerID=t}kt[Ot]=!0,kt[g]=kt.remove,kt.setIn=Ye.setIn,kt.deleteIn=kt.removeIn=Ye.removeIn,kt.update=Ye.update,kt.updateIn=Ye.updateIn,kt.mergeIn=Ye.mergeIn,kt.mergeDeepIn=Ye.mergeDeepIn,kt.withMutations=Ye.withMutations,kt.asMutable=Ye.asMutable,kt.asImmutable=Ye.asImmutable,kt.wasAltered=Ye.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_;if(r>=this.array.length)return new Tt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-m,n))===a&&o)return this}if(o&&!i)return this;var s=Ft(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&_;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-m,n))===o&&i===this.array.length-1)return this}var a=Ft(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var It,Dt,Pt={};function jt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>y&&(l=y),function(){if(c===l)return Pt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,u=1+(r-o>>i);return u>y&&(u=y),function(){for(;;){if(s){var e=s();if(e!==Pt)return e;s=null}if(l===u)return Pt;var n=t?--u:l++;s=a(c&&c[n],i-m,o+(n<<i))}}}}function Mt(e,t,n,r,i,o,a){var s=Object.create(kt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function At(){return It||(It=Mt(0,0,m))}function Lt(e,t,n){if((t=k(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=E(w);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Mt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&_,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-m,r,i,o);return u===l?e:((a=Ft(e,t)).array[s]=u,a)}return c&&e.array[s]===i?e:(S(o),a=Ft(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Ft(e,t){return t&&e&&t===e.ownerID?e:new Tt(e?e.array.slice():[],t)}function Bt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_],r-=m;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Tt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=m);u&&(a+=u,i+=u,s+=u,o+=u);for(var d=Ut(o),p=Ut(s);p>=1<<c+m;)l=new Tt(l&&l.array.length?[l]:[],r),c+=m;var h=e._tail,f=p<d?Bt(e,s-1):p>d?new Tt([],r):h;if(h&&p>d&&a<o&&h.array.length){for(var g=l=Ft(l,r),y=c;y>m;y-=m){var v=d>>>y&_;g=g.array[v]=Ft(g.array[v],r)}g.array[d>>>m&_]=h}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=p)a-=p,s-=p,c=m,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||p<d){for(u=0;l;){var b=a>>>c&_;if(b!==p>>>c&_)break;b&&(u+=(1<<c)*b),c-=m,l=l.array[b]}l&&a>i&&(l=l.removeBefore(r,c,a-u)),l&&p<d&&(l=l.removeAfter(r,c,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Mt(a,s,c,l,f)}function Nt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return he(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),gt(e,t,r)}function Ut(e){return e<y?0:e-1>>>m<<m}function Vt(e){return null==e?Kt():Wt(e)?e:Kt().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Wt(e){return Ke(e)&&u(e)}function qt(e,t,n,r){var i=Object.create(Vt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Kt(){return Dt||(Dt=qt(it(),At()))}function Ht(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=y&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):qt(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function $t(e){this._iter=e,this.size=e.size}function Xt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=bn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===L){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===A?M:A,n)},t}function Qt(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,v);return o===v?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(L,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return N(r,s,t.call(n,a[1],s,e),i)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=bn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=vn(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,v);return o!==v&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(L,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return N(i,r?l:s++,u,o)}}))},i}function tn(e,t,n){var r=qe().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(u(e)?Vt():qe()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=_n(e);return i.map((function(t){return gn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),I(t,n,i))return e;var o=D(t,i),a=P(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=k(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===A?e:N(t,c-1,t===M?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(L,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===L?e:N(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=vn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(L,o),c=!0,l=0;return new z((function(){var e,o,u;do{if((e=s.next()).done)return r||i===A?e:N(i,l++,i===M?void 0:e.value[1],e);var d=e.value;o=d[0],u=d[1],c&&(c=t.call(n,u,o,a))}while(c);return i===L?e:N(i,o,u,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,u)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===L&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:N(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=_n(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(A,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?N(n,a++,t):N(n,a++,i.value,i)}))},n}function dn(e,t,n){t||(t=wn);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):$(o)}function pn(e,t,n){if(t||(t=wn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=vn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(A,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),q(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():N(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function gn(e,t){return oe(e)?t:e.constructor(t)}function mn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function yn(e){return We(e.size),O(e)}function _n(e){return s(e)?r:c(e)?i:o}function vn(e){return Object.create((s(e)?Y:c(e)?J:$).prototype)}function bn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function wn(e,t){return e>t?1:e<t?-1:0}function En(e){var t=q(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=q(n(e))}return t}function Sn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);kn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=qe(o)},i=r.prototype=Object.create(Cn);return i.constructor=r,r}t(Vt,qe),Vt.of=function(){return this(arguments)},Vt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Vt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Vt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kt()},Vt.prototype.set=function(e,t){return Ht(this,e,t)},Vt.prototype.remove=function(e){return Ht(this,e,v)},Vt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Vt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Vt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Vt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?qt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Vt.isOrderedMap=Wt,Vt.prototype[f]=!0,Vt.prototype[g]=Vt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?yn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(A,t),r=t?yn(this):0;return new z((function(){var i=n.next();return i.done?i:N(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t),r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value,t)}))},t(Jt,$),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){var t=n.next();return t.done?t:N(e,t.value,t.value,t)}))},t($t,Y),$t.prototype.entrySeq=function(){return this._iter.toSeq()},$t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){mn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},$t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){mn(r);var i=a(r);return N(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=$t.prototype.cacheResult=bn,t(Sn,Se),Sn.prototype.toString=function(){return this.__toString(On(this)+" {","}")},Sn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Sn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Sn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=xn(this,it()))},Sn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+On(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:xn(this,n)},Sn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:xn(this,t)},Sn.prototype.wasAltered=function(){return this._map.wasAltered()},Sn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Sn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?xn(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=Sn.prototype;function xn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function On(e){return e._name||e.constructor.name||"Record"}function kn(e,t){try{t.forEach(Tn.bind(void 0,e))}catch(n){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function In(e){return null==e?Rn():Dn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[jn])}Cn[g]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(In,xe),In.of=function(){return this(arguments)},In.fromKeys=function(e){return this(r(e).keySeq())},In.prototype.toString=function(){return this.__toString("Set {","}")},In.prototype.has=function(e){return this._map.has(e)},In.prototype.add=function(e){return An(this,this._map.set(e,!0))},In.prototype.remove=function(e){return An(this,this._map.remove(e))},In.prototype.clear=function(){return An(this,this._map.clear())},In.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},In.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},In.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},In.prototype.merge=function(){return this.union.apply(this,arguments)},In.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},In.prototype.sort=function(e){return Fn(dn(this,e))},In.prototype.sortBy=function(e,t){return Fn(dn(this,t,e))},In.prototype.wasAltered=function(){return this._map.wasAltered()},In.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},In.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},In.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},In.isSet=Dn;var Pn,jn="@@__IMMUTABLE_SET__@@",Mn=In.prototype;function An(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ln(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Pn||(Pn=Ln(it()))}function Fn(e){return null==e?Vn():Bn(e)?e:Vn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Bn(e){return Dn(e)&&u(e)}Mn[jn]=!0,Mn[g]=Mn.remove,Mn.mergeDeep=Mn.merge,Mn.mergeDeepWith=Mn.mergeWith,Mn.withMutations=Ye.withMutations,Mn.asMutable=Ye.asMutable,Mn.asImmutable=Ye.asImmutable,Mn.__empty=Rn,Mn.__make=Ln,t(Fn,In),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(r(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=Bn;var zn,Nn=Fn.prototype;function Un(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Vn(){return zn||(zn=Un(Kt()))}function Wn(e){return null==e?Jn():qn(e)?e:Jn().unshiftAll(e)}function qn(e){return!(!e||!e[Hn])}Nn[f]=!0,Nn.__empty=Vn,Nn.__make=Un,t(Wn,Ce),Wn.of=function(){return this(arguments)},Wn.prototype.toString=function(){return this.__toString("Stack [","]")},Wn.prototype.get=function(e,t){var n=this._head;for(e=k(this,e);n&&e--;)n=n.next;return n?n.value:t},Wn.prototype.peek=function(){return this._head&&this._head.value},Wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Wn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;We(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Wn.prototype.pop=function(){return this.slice(1)},Wn.prototype.unshift=function(){return this.push.apply(this,arguments)},Wn.prototype.unshiftAll=function(e){return this.pushAll(e)},Wn.prototype.shift=function(){return this.pop.apply(this,arguments)},Wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Wn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=D(e,this.size);if(P(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,N(e,n++,t)}return U()}))},Wn.isStack=qn;var Kn,Hn="@@__IMMUTABLE_STACK__@@",Gn=Wn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Kn||(Kn=Yn(0))}function $n(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Hn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,$n(n,{toArray:function(){We(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return qe(this.toKeyedSeq())},toObject:function(){We(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Vt(this.toKeyedSeq())},toOrderedSet:function(){return Fn(s(this)?this.valueSeq():this)},toSet:function(){return In(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Wn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return gn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ye(t,e)}))},entries:function(){return this.__iterator(L)},every:function(e,t){We(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return gn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return We(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){We(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(M)},map:function(e,t){return gn(this,Qt(this,e,t))},reduce:function(e,t,n){var r,i;return We(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,Zt(this,!0))},slice:function(e,t){return gn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return gn(this,dn(this,e))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return gn(this,ln(this,e,t))},flatten:function(e){return gn(this,cn(this,e,!0))},fromEntrySeq:function(){return new $t(this)},get:function(e,t){return this.find((function(t,n){return ye(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=En(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return pn(this,e)},maxBy:function(e,t){return pn(this,t,e)},min:function(e){return pn(this,e?nr(e):or)},minBy:function(e,t){return pn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return gn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[d]=!0,Xn[B]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),$n(r,{flip:function(){return gn(this,Xt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ye(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ye(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return gn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return gn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Qn=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return x(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Te(e),Te(t))|0}:function(e,t){r=r+cr(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}function sr(e,t){return t=Oe(t,3432918353),t=Oe(t<<15|t>>>-15,461845907),t=Oe(t<<13|t>>>-13,5),t=Oe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ke((t=Oe(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Qn[p]=!0,Qn[B]=Xn.entries,Qn.__toJS=Xn.toObject,Qn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},$n(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return gn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return gn(this,Zt(this,!1))},slice:function(e,t){return gn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,1===n?r:r.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return gn(this,cn(this,e,!1))},get:function(e,t){return(e=k(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=k(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return gn(this,un(this,e))},interleave:function(){var e=[this].concat(x(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),gn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,!1))},zip:function(){return gn(this,fn(this,ir,[this].concat(x(arguments))))},zipWith:function(e){var t=x(arguments);return t[0]=this,gn(this,fn(this,e,t))}}),i.prototype[h]=!0,i.prototype[f]=!0,$n(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,$n(Y,r.prototype),$n(J,i.prototype),$n($,o.prototype),$n(Se,r.prototype),$n(Ce,i.prototype),$n(xe,o.prototype),{Iterable:n,Seq:G,Collection:Ee,Map:qe,OrderedMap:Vt,List:Ct,Stack:Wn,Set:In,OrderedSet:Fn,Record:Sn,Range:we,Repeat:ve,is:ye,fromJS:he}}()},tiNQ:function(e,t,n){function r(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}n.d(t,"a",(function(){return r}))},tuJh:function(e,t,n){var r=n("3sOJ"),i=n("jLRO"),o=n("DEWG"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(e,s?i.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},tvWU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("+k3R"),i=n("slCJ"),o=n("TPjH"),a=n("tEMl"),s=n("E3gc"),c=n("bY+3"),l=n("IRZy"),u=n("QWfI"),d=n("2S0S");t.default=function(e,t,n,p){void 0===p&&(p={}),r.default("DropTarget","type, spec, collect[, options]",e,t,n,p);var h=e;"function"!=typeof e&&(d(s.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),h=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var f=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),d(u.isPlainObject(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return i.default({containerDisplayName:"DropTarget",createHandler:f,registerHandler:o.default,createMonitor:function(e){return new c.default(e)},createConnector:function(e){return new l.default(e)},DecoratedComponent:e,getType:h,collect:n,options:p})}}},uCRx:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("QLaP");t.validateSourceContract=function(e){r("function"==typeof e.canDrag,"Expected canDrag to be a function."),r("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),r("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){r("function"==typeof e.canDrop,"Expected canDrop to be a function."),r("function"==typeof e.hover,"Expected hover to be a function."),r("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){n&&Array.isArray(t)?t.forEach((function(t){return e(t,!1)})):r("string"==typeof t||"symbol"==typeof t,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},uVIr:function(e,t,n){function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return r}))},ubb0:function(e,t,n){var r=n("i8i4").unstable_flushControlled;e.exports=r},ueFs:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("8uQm"),a=n("JL7T"),s=n("LpQA"),c=n("TzU/"),l=n("PFU8"),u=(n("quS2"),n("hMpd")),d=n("TlXQ"),p=n("bNdj"),h=n("RCR6"),f=n("rJY1"),g=n("cwFY"),m=n("zVay"),y=n("2NuI"),_=g("draft_tree_data_support"),v=m.List,b=m.Map,w=m.OrderedMap,E=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||f(),data:b(i),characterList:S(e,t)}},S=function(e,t){var n=e.text,i=e.entityRanges,o=e.inlineStyleRanges,a=i||[];return d(h(n,o||[]),p(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},C=function(e){return r({},e,{key:e.key||f()})},x=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())},O=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=_&&!n?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return _?function(e,t){return e.map(C).reduce((function(n,i,o){Array.isArray(i.children)||y(!1);var s=i.children.map(C),c=new a(r({},E(i,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:v(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var l=x([],s,c);l.length>0;){var u=l.pop(),d=u.parentRef,p=d.getChildKeys(),h=p.indexOf(u.key),f=Array.isArray(u.children);if(!f){f||y(!1);break}var g=u.children.map(C),m=new a(r({},E(u,t),{parent:d.getKey(),children:v(g.map((function(e){return e.key}))),prevSibling:0===h?null:p.get(h-1),nextSibling:h===p.size-1?null:p.get(h+1)}));n=n.set(m.getKey(),m),l=x(l,g,m)}return n}),w())}(i,t):function(e,t){return w(e.map((function(e){var n=new o(E(e,t));return[n.getKey(),n]})))}(n?l.fromRawTreeStateToRawState(e).blocks:i,t)};e.exports=function(e){Array.isArray(e.blocks)||y(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,o=r.mutability,a=r.data;n[e]=c.__create(i,o,a||{})})),n}(e),n=O(e,t),r=n.isEmpty()?new u:u.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},ujuU:function(e,t,n){var r=n("3sOJ");e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},ulhB:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("gxu6"),a=n("VBo8"),s=n("YsiA"),c=n("PzSa"),l=n("EVO9"),u=n("HRg/"),d=n("9UZy"),p=n("eOdZ"),h=n("StuW"),f=n("Cs8u"),g=n("0JuV"),m=n("jZTy"),y=n("J6c4"),_=n("pGrQ"),v=n("AXUD"),b=n("E+YF"),w=n("7UXn"),E=n("sv3x"),S=n("28DW"),C=n("yweb"),x=n("Zswh"),O=n("c50B"),k=n("J8m7"),T=n("VL22"),I=n("AWyA"),D=n("pLLR"),P=n("n6mq"),j=n("fgHc");function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A={emailButtonStyles:{height:"40px",width:"100%",borderRadius:"2px"},emailButtonTextStyles:{fontFamily:y.a,textAlign:"center",fontSize:"15px",WebkitFontSmoothing:"auto"},spaceBetweenTextAndSocial:{height:"11px"},signupContainer:{margin:"0 auto",width:"268px"},socialButtonContainer:{marginTop:"10px"},socialButtonSeparator:{height:"10px"}},L="emailpwdstep";class R extends r.Component{constructor(e){super(e),M(this,"onLoginWithSuspended",()=>{const{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:w.a[k.v]})}),M(this,"onLoginWithVoluntarilyDeactivated",e=>{this.setState({googleValidationError:e.message})}),M(this,"setLoadingState",e=>{const{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:n}=this.props;return n&&!1===e&&n(!1),t(e)}),M(this,"handleButtonClick",e=>{"1"!==o.a("r_r")?(this.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp(e)):this.showUnderAgeError()}),M(this,"handleEmailChange",e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.setState({hideFBGoogleToolTip:!0})}),M(this,"handleTypoSuggestionClick",()=>{this.setState({emailValidationError:""})}),M(this,"handlePasswordChange",e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.onPasswordChange&&this.props.onPasswordChange(e)}),M(this,"handleEmailSignUp",e=>{Object(S.a)("unauth_email_validation_attempt");let t=Object(h.a)(this.props.email,this.emailValidators);if(t)this.setState({emailValidationError:t}),Object(S.a)("unauth.login.error.CLIENT_ERROR.malformemail."+L);else{t=Object(h.a)(this.props.password,this.loginPasswordValidators);const n=Object(h.a)(this.props.password,this.asciiValidators);t?(this.setState({passwordValidationError:t}),Object(S.a)("unauth.login.error.CLIENT_ERROR.malformpwd."+L)):n?(this.setState({passwordValidationError:n}),Object(S.a)("unauth.login.error.CLIENT_ERROR.malformpwd."+L),Object(S.a)("unauth.login.error.CLIENT_ERROR.nonasciipwd."+L)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable(e)),this.setState({emailValidationError:null}),this.props.setNameFromEmail&&this.props.setNameFromEmail()}}),M(this,"register",()=>{this.setLoadingState(!0);const{age:e,container:t,email:n,name:r,pageContext:i,password:a,requestContext:s,signupSource:c,register:l,i18n:u}=this.props,d={container:t,email:n,password:null!=a?a:"",age:null!=e?e:"",country:s.country,signupSource:c,first_name:null!=r?r:"",last_name:"",hybridTier:null==i?void 0:i.hybridTier,page:null==i?void 0:i.pageType,recaptchaV3Token:this.props.recaptchaV3Token||"default"};Object(S.a)("one_step_age_signup_complete"),l(d).then(this.handleSignupSuccess,e=>{this.contextLogSignupLoginEvent(7488),this.setLoadingState(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),e.api_error_code===k.c?(o.b("r_r","1"),this.showUnderAgeError()):e.api_error_code===k.z?(Object(S.a)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:u._("Your email is invalid.")})):Object(b.a)(u._("Sorry! Something went wrong on our end."))}),this.contextLogSignupLoginEvent(7537)}),M(this,"handleSignupSuccess",()=>{const{showResponseMessageModal:e}=this.props;this.contextLogSignupLoginEvent(7487),Object(S.a)("unauth.signup_one_step.completed"),e?e(!0):E.b.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)}),M(this,"shouldRequireAge",()=>{const{requestContext:{country:e}}=this.props;return Object(T.d)(e)||Object(T.c)(e)}),M(this,"validateAgeRequirement",()=>{let e=!1;return this.shouldRequireAge()&&(e=Object(h.a)(this.props.age||"",this.ageValidators),e&&(this.setState({ageValidationError:e}),this.setLoadingState(!1),Object(S.a)("unauth.login.error.CLIENT_ERROR.invalidage."+L))),e}),M(this,"validatePasswordRequirement",()=>{const e=Object(h.a)(this.props.password,this.passwordValidators);return e&&(this.setState({passwordValidationError:e}),this.setLoadingState(!1),Object(S.a)("unauth.login.error.CLIENT_ERROR.malformpwd."+L)),e}),M(this,"completeRegistration",e=>{this.setState({emailValidationError:null}),this.setLoadingState(!1),Object(S.a)("unauth.signup_step_1.completed"),this.register()}),M(this,"checkEmailExistsWithCompletion",(e,t,n)=>{const{i18n:r}=this.props;p.a.create("EmailExistsResource",{email:e}).callGet({emailValidationError:!1}).then(e=>{this.setState({emailValidationError:null}),!1===e.resource_response.data?n():t()},e=>{let t=r._("Hmm...that doesn't look like an email address");e.api_error_code===k.d&&(t=e.message),this.setState({emailValidationError:t})})}),M(this,"updateAccountRecoveryModal",e=>this.setState({accountRecoveryModalType:e})),M(this,"handleSignupWithEmailClick",()=>{Object(S.a)("unauth_signup_email_btn_click"),Object(S.e)("signup_email_button"),this.setState({showRegisterForm:!0}),this.props.onShowRegisterForm&&this.props.onShowRegisterForm()}),M(this,"renderSocialButtons",()=>{const{sm:e,i18n:t}=this.props,{hideFBGoogleToolTip:n}=this.state,r=i.a.createElement(s.a,{buttonText:t._("Continue with Facebook"),container:this.props.container,disablePostSignupNextUrl:this.props.disablePostSignupNextUrl,loadingIndicatorCallback:this.props.loadingIndicatorCallback,onFBEmailDeniedPerm:this.props.onFBEmailDeniedPerm,onFBPhoneOnlyConnectVerified:this.props.onFBPhoneOnlyConnectVerified,onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.onLoginWithSuspended,onSocialConnectVerified:this.props.onSocialConnectVerified,showResponseMessageModal:this.props.showResponseMessageModal,showSignupWelcomeLoadingFn:this.props.showSignupWelcomeLoadingFn,tooltip:!n&&this.state.facebookValidationError||null,useGestaltTooltip:!0}),o=i.a.createElement(P.e,{ref:e=>{this.googleButton=e}},"1"!==e&&i.a.createElement(c.a,{container:this.props.container,disablePostSignupNextUrl:this.props.disablePostSignupNextUrl,nextUrlParam:"/",onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,onSocialConnectVerified:this.props.onSocialConnectVerified,showResponseMessageModal:this.props.showResponseMessageModal,tooltip:!n&&this.state.googleValidationError||null}));return i.a.createElement("div",{style:A.socialButtonContainer},r,i.a.createElement("div",{style:A.socialButtonSeparator}),o)}),M(this,"renderSignupForm",()=>{const{age:e,email:t,inputStyleOverrides:n,newEmail:r,onAgeChange:o,password:a,suppressFocus:s,updateEmail:c,requestContext:l,i18n:u}=this.props,{isRTL:p}=l;return this.state.showRegisterForm?i.a.createElement(d.a,{age:e,ageValidationError:this.state.ageValidationError,buttonText:this.getButtonText(),buttonTextLabel:u._("Continue creating your Pinterest account","Accessiblity button text to continue creating an account","Accessiblity button text to continue creating an account"),checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,email:t,emailFieldHasError:this.state.emailFieldHasError,emailLabel:u._("Continue with email","Sign up button","Sign up button"),emailText:u._("Email","Text on button asking for email","Text on button asking for email"),emailValidationError:this.state.emailValidationError,inputStyleOverrides:n,isSignupForm:!0,isRTL:!!p,newEmail:r,onAgeChange:o,onButtonClick:this.handleButtonClick.bind(this),onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,onTypoSuggestionClick:this.handleTypoSuggestionClick,password:null!=a?a:"",passwordText:u._("Create a password","Text asking the user to create a password while registering","Text asking the user to create a password while registering"),passwordValidationError:this.state.passwordValidationError,showAgeInput:!0,suppressFocus:s,updateEmail:c}):i.a.createElement("div",{"data-test-id":"emailSignUpButton"},i.a.createElement(P.f,{text:u._("Continue with email","Text on the sign up button for signing up with email","Text on the sign up button for signing up with email"),color:"red",onClick:this.handleSignupWithEmailClick}))}),M(this,"renderReorderedButtons",()=>{const{signupSeparatorContinuous:e}=this.props;return i.a.createElement("div",null,this.renderSocialButtons(),this.state.showRegisterForm?i.a.createElement("div",{style:{marginBottom:"10px"}},i.a.createElement(a.b,{signupSeparatorContinuous:e})):null,this.renderSignupForm())}),M(this,"renderSocialButtonsOnly",()=>{this.renderSocialButtons()}),M(this,"renderOriginalForm",()=>{const{signupSeparatorContinuous:e}=this.props;return i.a.createElement("div",null,this.renderSignupForm(),this.state.showRegisterForm?i.a.createElement(a.b,{signupSeparatorContinuous:e}):null,this.renderSocialButtons())}),M(this,"renderButtons",()=>{const{sm:e}=this.props;return"2"===e?this.renderReorderedButtons():"1"===e?this.renderSocialButtonsOnly():this.renderOriginalForm()}),M(this,"showUnderAgeError",()=>{const{i18n:e}=this.props;this.setState({ageValidationError:e._("Sorry, you can't sign up yet. You’re not old enough to use Pinterest yet.","Error message when under age user trying to register","Error message when under age user trying to register")})}),this.state={ageValidationError:e.ageValidationError||null,accountRecoveryModalType:null,emailFieldHasError:!1,emailValidationError:e.emailValidationError||null,facebookValidationError:null,googleValidationError:null,passwordValidationError:e.passwordValidationError||null,showRegisterForm:"home_page"===this.props.container,hideFBGoogleToolTip:!1};const{i18n:t}=e;this.emailValidators=[Object(O.o)({message:t._("You missed a spot! Don't forget to add your email.")}),Object(O.e)({message:t._("Hmm...that doesn't look like an email address.")})];const n=t._("Your password is too short! You need 6+ characters."),r=t._("Passwords can only include alphabet letters, numbers, and common punctuation characters.","Only ASCII characters are allowed for password","Only ASCII characters are allowed for password"),l=t._("Help us protect you by providing your age","Error message shown when user did not fill the age field in the sign up model","Error message shown when user did not fill the age field in the sign up model");this.passwordValidators=[Object(O.o)({message:n}),Object(_.b)({shortPassStr:n,samePasswordStr:t._("Please make your username and password different."),blackPassStr:t._("Please make a stronger password.")})],this.asciiValidators=[Object(O.b)({message:r})],this.loginPasswordValidators=[Object(O.o)({message:n}),Object(O.b)({message:r}),Object(O.j)({min:6,minErrorString:n})];const u=t._("Please enter a valid number.","Signup.EmailPasswordStep.ageError","Error message when value entered for age is invalid"),f=Object(O.a)({invalidAgeString:u,ageTooShortString:u});this.shouldRequireAge()?this.ageValidators=[Object(O.o)({message:l}),f]:this.ageValidators=[f]}static getDerivedStateFromProps(e,t){const{ageValidationError:n,emailValidationError:r,passwordValidationError:i}=e;return r&&r!==t.emailValidationError?{emailValidationError:r}:i&&i!==t.passwordValidationError?{passwordValidationError:i}:n&&n!==t.ageValidationError?{ageValidationError:n}:null}getButtonText(){const{i18n:e}=this.props;return e._("Continue","Continue button on web","Continue button on web")}handleBlur(e){"id"===e?this.setState({emailValidationError:null}):"age"===e&&this.setState({ageValidationError:null}),this.setState({facebookValidationError:null,googleValidationError:null})}handleLoginFailure(e,t){const{clearPassword:n,email:r,onLoginWithMfa:i,i18n:o}=this.props;this.contextLogSignupLoginEvent(7535);const a=e.http_status===v.b?v.b:e.api_error_code;if(a===k.r)return void E.b.handleLoginMfa(t,e.data,i);const s=E.b.getLoginErrorState(e,"emailPasswordStep",r,g.a,this.updateAccountRecoveryModal);s?(this.setState({accountRecoveryModalType:w.a[a],...s}),n&&s.passwordValidationError&&n(),this.setLoadingState(!1)):(o._("Sorry! Something went wrong on our end.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user.","Error message shown when user tried to login but error occured, and we don't have any other information about the error. May or may not be recoverable by the user."),Object(b.a)(o._("Sorry! Something went wrong on our end.")),this.setLoadingState(!1))}handleLoginSuccess(e){this.contextLogSignupLoginEvent(7536),E.b.storeLoginCredentialsToBrowser(e);const{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?E.b.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}login(e){var t,n;this.setLoadingState(!0);const r=e||{username_or_email:this.props.email,password:this.props.password},i={container:this.props.container,hybridTier:null===(t=this.props.pageContext)||void 0===t?void 0:t.hybridTier,page:null===(n=this.props.pageContext)||void 0===n?void 0:n.pageType};Object(u.a)(r,this.props.getLoginContext(),i).then(()=>{this.handleLoginSuccess(r)},e=>{e.api_error_code===k.k?(this.setState({passwordValidationError:e.message}),this.setLoadingState(!1)):e.api_error_code===k.l?(this.setState({facebookValidationError:e.message}),this.setLoadingState(!1)):e.api_error_code===k.m?(this.setState({googleValidationError:e.message}),this.setLoadingState(!1)):e.api_error_code===k.r?(E.b.storeLoginCredentialsToBrowser(r),this.props.onLoginWithMfa(r,e.data)):(this.setState({emailValidationError:e.message}),this.setLoadingState(!1))})}contextLogSignupLoginEvent(e){const{viewer:t,logContextEvent:n}=this.props;n({event_type:e,aux_data:{...Object(m.a)(t.type),signup_login_method:1}})}validateEmailAvailable(e){this.setLoadingState(!0);const{container:t,email:n,pageContext:r,password:i}=this.props;this.checkEmailExistsWithCompletion(n,()=>{const e={username_or_email:n,password:null!=i?i:""},o={container:t,hybridTier:null==r?void 0:r.hybridTier,page:null==r?void 0:r.pageType};Object(u.a)(e,this.props.getLoginContext(),o).then(()=>{this.handleLoginSuccess(e)},t=>{this.handleLoginFailure(t,e)}),this.contextLogSignupLoginEvent(7534)},()=>{if(!this.validateAgeRequirement()&&!this.validatePasswordRequirement()){if(Object(l.a)(n))return this.setLoadingState(!1),void this.setState({emailFieldHasError:!0});this.completeRegistration(e)}})}render(){const{additionalChildren:e,requestContext:t}=this.props,{country:n,experiments:r}=t,{anyEnabled:o}=r.getWithActivation("wider_fb_button_for_translations"),a=o?A.signupContainer:{...A.signupContainer,width:"280px"},s=i.a.createElement(w.b,{email:this.props.email,modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal});return i.a.createElement("div",{style:a},s,this.renderButtons(),i.a.createElement(f.a,{country:n,dark:!0}),e)}}function F(e){const t=Object(j.b)(),n=Object(D.d)(),{getLoginContext:r,register:o,viewer:a}=Object(I.d)(),s=Object(x.a)(),c=Object(C.b)();return i.a.createElement(R,Object.assign({},e,{pageContext:t,requestContext:n,viewer:a,register:o,getLoginContext:r,logContextEvent:s,i18n:c}))}var B=n("RQXw");t.a=e=>i.a.createElement("div",{"data-test-id":"signup-options",style:{margin:"0 auto",position:"relative",textAlign:"center"}},i.a.createElement(B.a,null,({recaptchaV3Token:t,refreshToken:n})=>{var r,o;return i.a.createElement(F,{additionalChildren:e.additionalEmailPasswordChildren,age:null!==(r=e.age)&&void 0!==r?r:"",clearPassword:e.clearPassword,container:e.container,disablePostSignupNextUrl:e.disablePostSignupNextUrl,email:null!==(o=e.email)&&void 0!==o?o:"",emailValidationError:e.emailValidationError,inputStyleOverrides:{backgroundColor:"#f0f0f0",border:"0px",outline:"none"},loadingIndicatorCallback:e.loadingIndicatorCallback,name:e.name,nextUrlParam:e.nextUrlParam,onAgeChange:e.onAgeChange,onFBPhoneOnlyConnectVerified:e.onFBPhoneOnlyConnectVerified,onEmailChange:e.onEmailChange,onFBEmailDeniedPerm:e.onFBEmailDeniedPerm,onLoginWithMfa:e.onLoginWithMfa,onPasswordChange:e.onPasswordChange,onShowRegisterForm:e.onShowRegisterForm,onSocialConnectVerified:e.onSocialConnectVerified,password:e.password,passwordValidationError:e.passwordValidationError,recaptchaV3Token:t,refreshRecaptchaV3Token:n,setNameFromEmail:e.setNameFromEmail,showResponseMessageModal:e.showResponseMessageModal,showSignupWelcomeLoadingFn:e.showSignupWelcomeLoadingFn,signupSeparatorContinuous:e.signupSeparatorContinuous,signupSource:e.signupSource,sm:e.sm,suppressFocus:e.suppressFocus})}))},utGV:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),i=n("TPjH"),o=n("/acK"),a=n("IRZy"),s=n("bY+3");t.useDropTargetMonitor=function(){var e=o.useDragDropManager();return[r.useMemo((function(){return new s.default(e)}),[e]),r.useMemo((function(){return new a.default(e.getBackend())}),[e])]},t.useDropHandler=function(e,t,n){var a=o.useDragDropManager(),s=r.useMemo((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);r.useEffect((function(){var r=i.default(e.current.accept,s,a),o=r[0],c=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[t,n])}},v83y:function(e,t,n){var r=n("fyRy"),i=n("YeVe"),o=n("lFJn"),a=n("84lc"),s=n("8uQm"),c=n("LpQA"),l=n("rAV9"),u=n("0TRD"),d=n("6tyx"),p=n("DthY"),h=n("TzU/"),f=n("fyOY"),g=n("qnky"),m=n("3sOJ"),y=n("s8ra"),_=n("7Pus"),v=n("Nx4+"),b=n("hMpd"),w=n("/y+l"),E=n("ueFs"),S=n("rJY1"),C=n("AyB5"),x=n("zxN+"),O={Editor:d,EditorBlock:p,EditorState:m,CompositeDecorator:a,Entity:h,EntityInstance:g,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:c,RawDraftContentState:_,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:y,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:n("1qq2"),convertFromRaw:E,convertToRaw:w,genKey:S,getDefaultKeyBinding:C,getVisibleSelectionRect:x};e.exports=O},vCxS:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/Sensitive-content-desktop@2x-92b61148.jpg"},vYwu:function(e,t,n){var r=n("lFJn");e.exports=function(e,t,n,i){for(var o=t,a=e.getCharacterList();o<n;)a=a.set(o,r.applyEntity(a.get(o),i)),o++;return e.set("characterList",a)}},vZlu:function(e,t,n){n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const r=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function i(e){const{currentTime:t,isPromoted:n,pinId:r}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:r,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function a(e){const{currentTime:t,isPromoted:n,pinId:r}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:r,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}},vcNX:function(e,t,n){var r=n("SF5q"),i=n("3sOJ"),o=n("kWjT"),a=n("8d//");e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},vgsE:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("q1tI")),i=o(n("EwI3"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.mention,n=e.theme,o=(e.isFocused,e.searchValue,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["mention","theme","isFocused","searchValue"]));return r.default.createElement("div",o,r.default.createElement(i.default,{mention:t,theme:n}),r.default.createElement("span",{className:n.mentionSuggestionsEntryText},t.name))}},vh5K:function(e,t,n){n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("mwIZ"),i=n.n(r),o=n("17x9"),a=n.n(o);a.a.shape({}),a.a.number.isRequired,a.a.string.isRequired,a.a.number.isRequired,a.a.arrayOf(a.a.string),a.a.number.isRequired;function s(e){return!!e&&0!==e.type}const c=(e,t,n)=>{const r=e[n];return t[n]&&s(r)?r:null};function l(e){return i()(e,["display_data","anchor"])}function u(e,t,n,r=!1,i=!1){if(r&&e&&t)return`${e}%3A${t}`;const o=n[e];if(o){if(o.experience_id===t)return o.id.replace(":","%3A")}else if(i&&e&&t)return`${e}%3A${t}`;return null}function d(e,t){t&&8===t.type&&(e[l(t)]=t)}},vjiL:function(e,t,n){var r=n("+NLT"),i=n("m2Wt"),o=n("h4v/");var a=n("zpPL");var s=n("Jr++"),c=n("Ye/N"),l=n("eqAH"),u=n("kmwA"),d=n("28DW"),p=n("JPfG");t.a=e=>{const{facebook_token:t,invite_code:n,locale:h,origin:f,referrer:g,unauth_id:m,user_agent_platform:y}=r.a.instance,_={logContextEventType:e=>{o.a.getInstance().addEvent(i.a.fromEventType(e))},sendActiveUserPing:l.a,registerUserContext:{facebookToken:t,inviteCode:n,locale:h,referrer:g,unauthId:m},onCorsHandshakeHost:u.a.settings.CORS_HANDSHAKE_DOMAINS.includes(f),successWithoutTokenErrorMessage:c.a._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue."),trackRegisterSuccess:()=>{Object(d.a)("signup_referrer_module."+String(Object(s.a)().referrer||function(){const e=a.a.instance.getState().ui.mainComponent.initial;return e?e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase():null}())),"ios"===y?Object(d.a)("signup_mweb.iphone_web"):"ipad"===y?Object(d.a)("signup_mweb.ipad_web"):"android"===y&&Object(d.a)("signup_mweb.android_web")}};return Object(p.a)(e,_)}},vmVG:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("7nh8"),i=n("QLaP");t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){i(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var o=t.getSourceId();return n.getSource(o,!0).endDrag(t,o),n.unpinSource(),{type:r.END_DRAG}}}},vxan:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("mvLR");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t,n;return n=t=class extends i.a.Component{constructor(...e){super(...e),a(this,"makeCancelablePromise",(e,t)=>{if(t){const e=this.cancelCallbackMap[t];e&&(e(),delete this.cancelCallbackMap[t])}const{cancel:n,promise:r}=Object(o.a)(e);return t?this.cancelCallbackMap[t]=n:this.cancelCallbacks.push(n),r}),a(this,"cancelCallbacks",[]),a(this,"cancelCallbackMap",{})}componentWillUnmount(){[...Object.keys(this.cancelCallbackMap).map(e=>this.cancelCallbackMap[e]),...this.cancelCallbacks].forEach(e=>e()),this.cancelCallbacks=[],this.cancelCallbackMap={}}render(){return i.a.createElement(e,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}},a(t,"displayName",`WithPromiseCancellation(${e.displayName||e.name||"Component"})`),n}},wig9:function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},wtY2:function(e,t,n){n.d(t,"r",(function(){return o})),n.d(t,"C",(function(){return a})),n.d(t,"y",(function(){return s})),n.d(t,"A",(function(){return c})),n.d(t,"B",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"m",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return x})),n.d(t,"z",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"D",(function(){return T})),n.d(t,"K",(function(){return D})),n.d(t,"H",(function(){return P})),n.d(t,"J",(function(){return j})),n.d(t,"I",(function(){return M})),n.d(t,"G",(function(){return A})),n.d(t,"s",(function(){return L})),n.d(t,"t",(function(){return R})),n.d(t,"l",(function(){return F})),n.d(t,"n",(function(){return B})),n.d(t,"E",(function(){return z})),n.d(t,"w",(function(){return N})),n.d(t,"q",(function(){return U})),n.d(t,"L",(function(){return V})),n.d(t,"u",(function(){return W}));var r=n("8nxc"),i=n("IIK6");const o=320,a=10,s=100,c=250,l=100,u=5,d=4,p=3,h=2,f=1,g=1,m={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"},y={left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},_="#E60023",v="#FFFFFF",b=9/16,w=375,E=w/b,S="#66CCFF",C="rgba(0,0,0,0.4)",x=70,O=1200,k=7,T=20,I=["image/bmp","image/jpeg","image/png","image/tiff","image/webp"],D=()=>[...I,...r.a.enabled("video")?i.mb:[]].join(","),P=60.5,j=1,M=104857600,A=1,L=["#FFFFFF","#FCE2CF","#F7F2BB","#D8F0A8","#BEF4EE","#DCD4F7","#F9B8F2","#F65E55","#F69855","#F6E955","#79DD3C","#25E4F4","#AA6AFB","#F655C9","#C20000","#B85C00","#807500","#02882A","#0045CC","#8000BD","#97026D","#5E031A","#573700","#363F03","#01564C","#00205C","#370052","#111111"],R={"#FFFFFF":"#000000","#FCE2CF":"#573700","#F7F2BB":"#363F03","#D8F0A8":"#01564C","#BEF4EE":"#00205C","#DCD4F7":"#370052","#F9B8F2":"#111111","#F65E55":"#000000","#F69855":"#000000","#F6E955":"#000000","#79DD3C":"#000000","#25E4F4":"#000000","#AA6AFB":"#000000","#F655C9":"#000000","#C20000":"#FFFFFF","#B85C00":"#FFFFFF","#807500":"#FFFFFF","#02882A":"#FFFFFF","#0045CC":"#FFFFFF","#8000BD":"#FFFFFF","#97026D":"#FFFFFF","#5E031A":"#FFFFFF","#573700":"#FFFFFF","#363F03":"#FFFFFF","#01564C":"#FFFFFF","#00205C":"#FFFFFF","#370052":"#FFFFFF","#111111":"#FFFFFF"},F=6,B={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},z=52,N=46.82,U={upload:228,design:226,details:437,target:432},V=()=>r.a.enabled("storyPinMetadataLists")?["upload","design","details","target"]:["upload","design","target"],W="jiggity+storyboard+feedback@pinterest.com"},wvsB:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("Vt0H"),a=n("Ye/N"),s=n("d90F"),c=n("HMdf"),l=n("U4JR"),u=n("pLLR"),d=n("n6mq");function p(e,t){const{video_list:n={}}=e,r="enabled_lowend",i="enabled_highend";if(t===r||t===i){const e=Object(c.d)(),a=!(null===(o=window)||void 0===o?void 0:o.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x";let s;const l={unknown:{"1x":n.V_EXP3,"2x":n.V_EXP5},"0-1":{"1x":n.V_EXP3,"2x":n.V_EXP5},"1-5":{"1x":n.V_EXP4,"2x":n.V_EXP5}};if(["unknown","0-1","1-5"].includes(e))s=l[e][a];else if(t===r){const t=["20-40","40-80","80_or_above"];"5-10"===e?s=n.V_EXP5:"10-20"===e?s=n.V_EXP6:t.includes(e)&&(s=n.V_EXP7)}else t===i&&(s=n.V_EXP7);return s=s||n.V_720P,{hlsv3:s?void 0:n.V_HLSV3_MOBILE||void 0,mp4:s||void 0}}return{hlsv3:n.V_HLSV3_MOBILE||void 0,mp4:n.V_720P||void 0};var o}class h extends r.PureComponent{constructor(...e){var t,n,r;super(...e),t=this,n="startAudiblePlayTime",r=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,requestContext:r,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const{group:t}=r.experiments.getWithoutActivation("web_story_pin_mp4"),{hlsv3:o,mp4:a}=p(i,t)||{},s=o||a,c=(null==s?void 0:s.duration)||0;Object(l.b)(8999,{objectId:e,pin_id:n,story_pin_music_duration:c})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:r,isPlaying:c,muted:l,pageIndex:u,pinId:h,requestContext:f,video:g}=this.props,{group:m}=f.experiments.getWithActivation("web_story_pin_mp4"),{hlsv3:y,mp4:_}=p(g,m)||{},v=y||_;if(!v)return null;const{height:b,thumbnail:w,width:E}=v,S=E/b,C={height:"100%",left:"0",top:"0",width:"100%"},x=r/t;if(Math.abs(x-S)>.01)if(x<S){const e=100*S/x;C.width=e+"%",C.left=`-${(e-100)/2}%`}else if(x>S){const e=100*x/S;C.height=e+"%",C.top=`-${(e-100)/2}%`}return i.a.createElement(d.e,{height:t,overflow:"hidden",position:"relative",width:r},i.a.createElement(d.e,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%"},i.a.createElement(s.a,{name:"web_perf_preload_story_pin_videos",activate:!0},({anyEnabled:t,group:n})=>function(e,t,n){let r=!1;return n?("enabled_display_auto"===e?r=t<=n+3:"enabled_next_auto"===e&&(r=t<=n+1),r):r}(n,u,e)||c?i.a.createElement(d.e,{dangerouslySetInlineStyle:{__style:C},position:"absolute"},i.a.createElement(o.a,{loop:!0,autoplay:!t||c,contextLogData:{component:0===u?227:228,element:10957,objectId:h,story_pin_page_id:u,view:3,viewParameter:157},customThumbnail:w,isPromoted:!1,muted:l,pinId:h,showControls:!1,variant:"legacy",objectFit:!y&&_?"cover":void 0,video:{id:g.id,hlsv3:y,mp4:_}})):i.a.createElement(d.v,{alt:a.a._("Story Pin video cover image","closeup.storyPin.videoCover","cover image displayed for a video"),fit:"cover",naturalHeight:b,naturalWidth:E,src:w}))))}}t.a=Object(u.e)(h)},x83E:function(e,t,n){n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return D}));var r=n("q1tI"),i=n.n(r),o=n("Naaj"),a=n("1WeU"),s=n("+d+Q"),c=n("n6mq"),l=n("AsgO");var u=({link:e,image:t,prefixText:n,subtitle:r})=>i.a.createElement(c.e,{display:"flex",alignItems:"center",flex:"grow",direction:"row",justifyContent:"between"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(c.e,{display:"flex",flex:"grow",direction:"row"},t&&i.a.createElement(c.e,{minWidth:50,marginEnd:2},i.a.createElement("div",{style:{backgroundImage:`url(${t})`,backgroundSize:"cover",border:"0",borderRadius:"50%",cursor:"pointer",display:"block",height:"44px",perspective:"1px",textAlign:"center",width:"44px"}})),i.a.createElement(c.e,{direction:"column",display:"flex",justifyContent:"center",minWidth:0,maxWidth:230},i.a.createElement(c.V,{inline:!0,size:"sm"},n," ",i.a.createElement("span",{onMouseOver:l.a,onMouseLeave:l.b,onFocus:l.a,onBlur:l.b,style:{fontWeight:"bold"}},r)))))),d=n("PioT"),p=n("ptXI"),h=n("aFfM"),f=n("Ye/N"),g=n("28DW"),m=n("9pre"),y=n("BEAQ"),_=n("U4JR");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=d.b.isSafari();class w extends r.Component{constructor(...e){super(...e),v(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!!this.props.autoplay,ready:!1,showEndCard:!1,volume:this.props.muted?0:1}),v(this,"getVideoInfo",()=>{const{video:e}=this.props,t=e.hlsv3||e.hls||{},n=[e.hls&&{type:"video/m3u8",src:t.url},e.mp4&&{type:"video/mp4",src:e.mp4.url}].filter(Boolean),{height:r,thumbnail:i,width:o,duration:a}=e.hls||e.mp4||{};return{height:r,thumbnail:i,width:o,duration:a,src:n}}),v(this,"handleTouch",({event:e})=>{e.stopPropagation(),this.setState(e=>({playing:!e.playing})),Object(_.b)(3613,{component:this.props.componentLogging}),Object(g.a)("unauth_web.video.touch_play")}),v(this,"handleShowControls",()=>{this.setState({controls:!0})}),v(this,"handleHideControls",()=>this.setState({controls:!1})),v(this,"handleReady",()=>{this.setState({ready:!0}),this.props.playWhenReady&&this.setState({playing:!0}),Object(_.b)(921,{component:this.props.componentLogging})}),v(this,"handleSeek",()=>{Object(_.b)(101,{component:this.props.componentLogging,element:10716}),Object(g.a)("unauth_web.video.seeked")}),v(this,"handleEnded",({event:e})=>{e.stopPropagation(),Object(_.b)(7670,{component:this.props.componentLogging}),this.setState({playing:!1,showEndCard:!0})}),v(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1}),Object(_.b)(101,{component:this.props.componentLogging,element:10715})}),v(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0}),Object(_.b)(101,{component:this.props.componentLogging,element:10714}),Object(g.a)("unauth_web.video.click_play_icon")}),v(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),v(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),v(this,"handleTimeChange",({time:e})=>{const{duration:t}=this.getVideoInfo();t&&(e>=Math.floor(t/4)&&"default"===this.videoPlayStatus?(Object(_.b)(7672,{component:this.props.componentLogging}),this.videoPlayStatus="quarter"):e>=Math.floor(t/2)&&"quarter"===this.videoPlayStatus?(Object(_.b)(7673,{component:this.props.componentLogging}),this.videoPlayStatus="half"):e>=Math.floor(3*t/4)&&"half"===this.videoPlayStatus&&(Object(_.b)(7674,{component:this.props.componentLogging}),this.videoPlayStatus="threeQuarter"))}),v(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t}),Object(_.b)(101,{component:this.props.componentLogging,element:10719}),Object(g.a)("unauth_web.video.fullscreen")}),v(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t}),Object(_.b)(101,{component:this.props.componentLogging,element:10720})}),v(this,"renderVideo",(e,t,n)=>{const{duration:r}=this.getVideoInfo(),{isInViewPort:o=!0,plp:a}=this.props,{controls:s,playing:l,volume:u}=this.state,d=!!r&&r<1e4,p=f.a._("Maximize","Maximize button on video","Maximize button on video"),g=f.a._("Minimize","Minimize button on video","Minimize button on video"),_=f.a._("Mute","Mute button on video","Mute button on video"),v=f.a._("Pause","Pause button on video","Pause button on video"),w=f.a._("Play","Play button on video","Play button on video"),E=f.a._("Unmute","Unmute button on video","Unmute button on video"),S=Object(y.b)(t);return!b&&S&&a?i.a.createElement(h.a,{accessibilityMaximizeLabel:p,accessibilityMinimizeLabel:g,accessibilityMuteLabel:_,accessibilityPauseLabel:v,accessibilityPlayLabel:w,accessibilityUnmuteLabel:E,aspectRatio:e,captions:"",controls:s,loop:d,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onReady:this.handleReady,onSeek:this.handleSeek,onVolumeChange:this.handleVolumeChange,onTimeChange:this.handleTimeChange,playing:o&&l,poster:n,volume:u,hlsConfig:{startLevel:m.a},src:S}):i.a.createElement(c.bb,{accessibilityMaximizeLabel:p,accessibilityMinimizeLabel:g,accessibilityMuteLabel:_,accessibilityPauseLabel:v,accessibilityPlayLabel:w,accessibilityUnmuteLabel:E,aspectRatio:e,captions:"",controls:s,loop:d,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onReady:this.handleReady,onSeek:this.handleSeek,onVolumeChange:this.handleVolumeChange,onTimeChange:this.handleTimeChange,playing:o&&l,poster:n,volume:u,src:t})})}componentDidMount(){Object(_.b)(13,{component:this.props.componentLogging,view:this.props.view,viewParameter:this.props.viewParameter}),this.videoPlayStatus="default"}componentDidUpdate(){this.props.modalOpened&&this.state.playing&&this.setState({playing:!1})}render(){const{customThumbnail:e,plp:t,scaledHeight:n,scaledWidth:r}=this.props,{showEndCard:o,fullscreen:a}=this.state,{height:s,thumbnail:l,width:u,src:d}=this.getVideoInfo(),h=u/s,f=e||l;if(t){let e=392;const t=h*e;let s=Math.min(t,740);const l=(t-740)/h/2,u=!!n&&!!r;return u&&(s=r||s,e=n||e),i.a.createElement(c.A,{width:s,rounding:2,willChangeTransform:!(b&&a)},o?i.a.createElement(p.b,{backgroundImage:f,naturalHeight:e,naturalWidth:s,onRestartVideo:this.handleRestartVideo}):i.a.createElement(c.U,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch},t>740&&!u?i.a.createElement("div",{style:{borderTop:l+"px solid black",borderBottom:l+"px solid black"}},this.renderVideo(h,d,f)):this.renderVideo(h,d,f)))}return i.a.createElement(c.e,{display:"flex",justifyContent:"center",alignSelf:"center",width:u},i.a.createElement(c.U,{onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch},this.renderVideo(h,d,f)))}}var E=w,S=n("YxyV"),C=n("y2Ga"),x=n("iUzq"),O=n("XPo3"),k=n("7jH2");const T="pinCloseupHeroImage",I=(e,t,n)=>{const{height:r,width:i}=e.hls||e.mp4||{};return{width:i*(n/r),height:r*(t/i)}};function D({clickthroughHandler:e,modalOpened:t,pin:n,viewportSize:c}){const l=(Object(k.x)(Object(k.p)({pin:n}))||{}).video,d=Object(C.c)(),p=null==d?void 0:d.markConstraintComplete,h=(e=>{const t=Object(S.e)(e);return t.height>0&&t.width>0?Math.round(O.e*t.height/t.width):0})(n);return i.a.createElement(s.a,{fullImgHeight:h,page:"closeup",pin:n,renderAttribution:({image:e,link:t,prefixText:n,subtitle:r,title:o})=>i.a.createElement(u,{image:e,link:t,prefixText:n,subtitle:r,title:o}),scaledSize:l?I(l,O.c,O.h):void 0,viewportSize:c},({width:s,height:c,showModal:u})=>l?i.a.createElement(r.Fragment,null,i.a.createElement(x.b,{pin:n,video:l}),i.a.createElement(E,{thumbnail:Object(S.e)(n,"orig").url,muted:!0,video:l,view:3,viewParameter:156,componentLogging:13326,plp:!0,autoplay:!0,scaledWidth:s,scaledHeight:c,modalOpened:t||u}),p&&i.a.createElement(o.a,{constraint:T})):i.a.createElement(a.a,{clickthroughHandler:e,isCloseupMainImage:!0,fullImgHeight:h,letterBoxHeight:c,letterBoxWidth:s,onImageLoad:()=>{p&&p(T)},pageType:{isAuth:!1,page:"closeup"},pin:n,srcSet:{oneXSizes:["236x"],twoXSizes:["474x"],threeXSizes:["736x","564x"]}}))}},xBZo:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=n("yweb"),a=n("n6mq");function s({color:e,onClick:t,overrideText:n}){const r=Object(o.b)(),s=n||r._("Got it","Acknowledge protected account modal message","Acknowledge protected account modal message");return i.a.createElement(a.f,{accessibilityLabel:s,color:e||"gray",onClick:t,text:s})}},xGpI:function(e,t,n){var r=n("ipvL");t.a=()=>r.a.getAccountsJSON()},xNI5:function(e,t,n){n.r(t),n.d(t,"HelpfulButton",(function(){return d})),n.d(t,"default",(function(){return h}));var r=n("q1tI"),i=n.n(r),o=n("Ye/N"),a=n("eBDd"),s=n("4cpq"),c=n("vvax"),l=n("n6mq");const u={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){const{helpfulCount:t,isMarkedHelpfulByMe:n,onHelpfulClick:r}=e,a=o.a._("Helpful","Comments marked helpful text.","Comments marked helpful text."),s=Object(c.b)(o.a._("Helpful {{helpfulCount}}","Comments marked helpful count text.","Comments marked helpful count text."),{helpfulCount:t||0});return i.a.createElement(l.e,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(l.U,{onTap:r,rounding:2},i.a.createElement(l.I,null,i.a.createElement(l.t,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:u,color:n?"red":"gray",size:16}),i.a.createElement(l.e,{paddingX:1},i.a.createElement(l.V,{size:"sm",color:"gray",weight:"bold"},void 0!==t&&t>0?s:a)))))}function p(e){const{likeCount:t,isLikedByMe:n,onLikeClick:r}=e;return i.a.createElement(l.e,{display:"flex",justifyContent:"center",alignItems:"center"},i.a.createElement(l.U,{onTap:r,rounding:2},i.a.createElement(l.e,{display:"flex"},i.a.createElement(l.t,{accessibilityLabel:"helpful icon",icon:"heart",color:n?"red":"gray",size:16}),t>0&&i.a.createElement(l.e,{paddingX:1},i.a.createElement(l.V,{size:"sm",color:"gray",weight:"bold"},t)))))}function h(e){const{commentCount:t=0,reactionCounts:n={},hideReplyCount:r,isLikedByMe:c=!1,onLikeClick:u,onLikeCountClick:h,onReplyClick:f,onReplyCountClick:g,isMarkedHelpfulByMe:m,onHelpfulClick:y,helpfulCount:_,helpfulExperimentGroup:v,flyout:b,small:w}=e,E=n[1]||0,S=!!E&&Object(a.a)(o.a.ngettext("{{likeCount}} like","{{likeCount}} likes",E),{likeCount:E}),C=!!t&&Object(a.a)(o.a.ngettext("{{commentCount}} reply","{{commentCount}} replies",t),{commentCount:t}),x=w?1:2;return i.a.createElement(l.e,{display:"flex",alignItems:"center"},i.a.createElement(l.e,{display:"flex",marginStart:-x,marginEnd:-x},(v||"").startsWith("enabled_2")&&i.a.createElement(d,{helpfulCount:_,isMarkedHelpfulByMe:m,onHelpfulClick:y}),(v||"").startsWith("enabled_1")&&i.a.createElement(p,{likeCount:E,isLikedByMe:c,onLikeClick:u}),!(v||"").startsWith("enabled")&&i.a.createElement(l.e,{paddingX:x},i.a.createElement(s.a,{id:"reactions-like"},i.a.createElement(l.u,{accessibilityLabel:"Like",bgColor:"transparent",icon:"heart",iconColor:c?"red":"gray",onClick:u,size:w?"sm":"md"}))),i.a.createElement(l.e,{paddingX:x},i.a.createElement(s.a,{id:"reactions-reply"},i.a.createElement(l.u,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:f,size:w?"sm":"md"}))),!!b&&i.a.createElement(l.e,{paddingX:x},b)),i.a.createElement(l.e,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3},!!S&&!(v||"").startsWith("enabled")&&i.a.createElement(s.a,{id:"reactions-like-count"},i.a.createElement(l.e,{paddingX:3},i.a.createElement(l.U,{onTap:h,rounding:2},i.a.createElement(l.V,{size:"md",color:"gray",weight:"bold"},S)))),!!C&&!r&&i.a.createElement(s.a,{id:"reactions-reply-count"},i.a.createElement(l.e,{paddingX:3},g?i.a.createElement(l.U,{onTap:g,rounding:2},i.a.createElement(l.V,{size:"md",color:"gray",weight:"bold"},C)):i.a.createElement(l.V,{size:"md",color:"gray",weight:"bold"},C))),(v||"").startsWith("enabled_1")&&i.a.createElement(d,{helpfulCount:_,isMarkedHelpfulByMe:m,onHelpfulClick:y})))}},xjqW:function(e,t,n){function r({id:e,isProduct:t,isPromoted:n,videoDuration:r,viewParameter:i,viewType:o,type:a}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:r,viewParameter:i,viewType:o,type:a}}}function i(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},xmd6:function(e,t,n){n.d(t,"a",(function(){return s}));var r=n("Y+p1"),i=n.n(r),o=n("QkVN"),a=n.n(o);const s={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},c={},l=(e,t)=>{const n={...a()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{},...t.tags?{tags:t.tags}:{},...t.tagged_users?{tagged_users:t.tagged_users}:{}};return i()(e,n)?e:n};t.b=(e=c,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:r}}=t;if("AggregatedCommentFeedResource"===r||"AggregatedCommentReplyFeedResource"===r||"DidItCommentsResource"===r){const t=(n||[]).reduce((t,n)=>(t[n.id]=l(e[n.id],n),t),{});return{...e,...t}}if("UnifiedCommentsResource"===r&&n&&n.length>0){const t=n.filter(e=>"aggregatedcomment"===e.type).reduce((t,n)=>(t[n.id]=l(e[n.id],n),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===r&&n&&n.length>0){const t=n[0].aggregated_comment,r=t?{[t.id]:l(e[t.id],t)}:{},i=n[0].creator_reply,o=i?{[i.id]:l(e[i.id],i)}:{};return{...e,...r,...o}}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return{...e,[n.id]:n}}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,r={...e};return delete r[n],r}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:l(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,r=e[n.id],i=r.reaction_counts[1]||0,o={1:n.reaction_by_me?i+1:i-1},a={...r,reaction_by_me:n.reaction_by_me,reaction_counts:o};return{...e,[n.id]:a}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,r=e[n.id],i=r.helpful_count||0,o=n.marked_helpful_by_me?i+1:i-1,a={...r,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:o};return{...e,[n.id]:a}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:r}}=t,i=e[r],o={...i,comment_count:i.comment_count+n};return{...e,[r]:o}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:r}}=t,i={...e[n],tagged_users:r};return{...e,[n]:i}}}return e}},xocI:function(e,t,n){var r=n("CYTE"),i=n("2NuI"),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},y0lr:function(e,t,n){var r=n("QDEm"),i=n("CJXx"),o=n("Iq8E"),a=n("zVay"),s=n("q1tI"),c=n("YVIB"),l=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,l=e.customStyleMap,u=e.decorator,d=e.direction,p=e.forceSelection,h=e.hasSelection,f=e.selection,g=e.tree,m=t.getKey(),y=t.getText(),_=g.size-1,v=this.props.children||g.map((function(e,c){var g=e.get("decoratorKey"),v=e.get("leaves"),b=v.size-1,w=v.map((function(e,n){var r=o.encode(m,c,n),u=e.get("start"),d=e.get("end");return s.createElement(i,{key:r,offsetKey:r,block:t,start:u,selection:h?f:null,forceSelection:p,text:y.slice(u,d),styleSet:t.getInlineStyleAt(u),customStyleMap:l,customStyleFn:a,isLast:g===_&&n===b})})).toArray();return g&&u?s.createElement(r,{block:t,children:w,contentState:n,decorator:u,decoratorKey:g,direction:d,leafSet:e,text:y,key:c}):w})).toArray();return s.createElement("div",{"data-offset-key":o.encode(m,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===d,"public/DraftStyleDefault/rtl":"RTL"===d})},v)},a}(s.Component));e.exports=l},y8fO:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},yBr6:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/Ecc"),i=n("zpn9");function o(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}t.getNodeClientOffset=o,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,s){var c,l,u="IMG"===(c=t).nodeName&&(r.isFirefox()||!document.documentElement.contains(c)),d=o(u?e:t),p={x:n.x-d.x,y:n.y-d.y},h=e.offsetWidth,f=e.offsetHeight,g=a.anchorX,m=a.anchorY,y=function(e,t,n,i){var o=e?t.width:n,a=e?t.height:i;return r.isSafari()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(u,t,h,f),_=y.dragPreviewWidth,v=y.dragPreviewHeight,b=s.offsetX,w=s.offsetY,E=0===w||w;return{x:0===b||b?b:new i.default([0,.5,1],[p.x,p.x/h*_,p.x+_-h]).interpolate(g),y:E?w:(l=new i.default([0,.5,1],[p.y,p.y/f*v,p.y+v-f]).interpolate(m),r.isSafari()&&u&&(l+=(window.devicePixelRatio-1)*v),l)}}},yCO0:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("U4W0")),r(n("aS9Y"))},yaUg:function(e,t,n){var r=n("Q2/A");const i=/\{\{\s*(\w+)\s*\}\}/g;t.a=(e,t)=>Object(r.a)(i,e,t)},yeYm:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.composeDecorators=t.createEditorStateWithText=t.default=void 0;var r=a(n("83bQ")),i=a(n("7asU")),o=a(n("q2v6"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default;t.createEditorStateWithText=r.default,t.composeDecorators=i.default},yxyD:function(e,t,n){var r=n("jLRO"),i=n("Taje"),o=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return i(c,o,a,(function(t,i){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},z2oT:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("q1tI")),i=o(n("iuhU"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.mention,n=e.children,i=e.className;return r.default.createElement("a",{href:t.link,className:i,spellCheck:!1},n)},s=function(e){var t=e.children,n=e.className;return r.default.createElement("span",{className:n,spellCheck:!1},t)};t.default=function(e){var t=e.entityKey,n=e.theme,o=void 0===n?{}:n,c=e.mentionComponent,l=e.children,u=e.decoratedText,d=e.className,p=e.contentState,h=(0,i.default)(o.mention,d),f=p.getEntity(t).getData().mention,g=c||(f.link?a:s);return r.default.createElement(g,{entityKey:t,mention:f,theme:o,className:h,decoratedText:u},l)}},z3qU:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("/ZYE"),i=n("utGV"),o=n("q1tI"),a=n("2S0S");t.useDrop=function(e){var t=o.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=i.useDropTargetMonitor(),s=n[0],c=n[1];i.useDropHandler(t,s,c);var l=r.useMonitorOutput(s,t.current.collect||function(){return{}},(function(){return c.reconnect()})),u=o.useMemo((function(){return c.hooks.dropTarget()}),[c]);return o.useEffect((function(){c.dropTargetOptions=e.options||null,c.reconnect()}),[e.options]),[l,u]}},zFhk:function(e,t,n){var r=n("q1tI"),i=n.n(r),o=n("FDmi"),a=n("qD10"),s=n("n6mq");const c={sm:32,md:48};t.a=function({user:e,size:t="md",hasOutline:n}){const{first_name:r,image_medium_url:l,username:u}=e;return i.a.createElement(a.a,{stopPropagation:!0,to:`/${u}/`},i.a.createElement(s.e,{position:"relative",width:c[t],height:c[t]},i.a.createElement(o.a,{size:t,src:l,name:r||u||"",outline:n})))}},zLEO:function(e,t,n){},zORg:function(e,t,n){var r=n("GyOf");e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=e(n.childNodes[o]);if(a)return a}}return null}},zVay:function(e,t,n){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:G(e)}function r(e){return s(e)?e:Y(e)}function i(e){return c(e)?e:J(e)}function o(e){return a(e)&&!l(e)?e:$(e)}function a(e){return!(!e||!e[d])}function s(e){return!(!e||!e[p])}function c(e){return!(!e||!e[h])}function l(e){return s(e)||c(e)}function u(e){return!(!e||!e[f])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=l,n.isOrdered=u,n.Keyed=r,n.Indexed=i,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",m=5,y=1<<m,_=y-1,v={},b={value:!1},w={value:!1};function E(e){return e.value=!1,e}function S(e){e&&(e.value=!0)}function C(){}function x(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function O(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function k(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?O(e)+t:t}function T(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return j(e,t,0)}function P(e,t){return j(e,t,t)}function j(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,A=1,L=2,R="function"==typeof Symbol&&Symbol.iterator,F="@@iterator",B=R||F;function z(e){this.next=e}function N(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function V(e){return!!K(e)}function W(e){return e&&"function"==typeof e.next}function q(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(R&&e[R]||e[F]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function G(e){return null==e?ae():a(e)?e.toSeq():le(e)}function Y(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function J(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ce(e)}function $(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ce(e)).toSetSeq()}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=M,z.VALUES=A,z.ENTRIES=L,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[B]=function(){return this},t(G,n),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},G.prototype.__iterate=function(e,t){return de(this,e,t,!0)},G.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(Y,G),Y.prototype.toKeyedSeq=function(){return this},t(J,G),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return de(this,e,t,!1)},J.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t($,G),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=Y,G.Set=$,G.Indexed=J;var X,Q,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function oe(e){return!(!e||!e[ee])}function ae(){return X||(X=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():W(e)?new ie(e).fromEntrySeq():V(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ce(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=ue(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ue(e){return H(e)?new te(e):W(e)?new ie(e):V(e)?new re(e):void 0}function de(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new z((function(){var e=i[n?o-a:a];return a++>o?U():N(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?fe(t,e,"",{"":e}):ge(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,J(t).map((function(n,r){return fe(e,n,r,t)}))):me(t)?e.call(r,n,Y(t).map((function(n,r){return fe(e,n,r,t)}))):t}function ge(e){return Array.isArray(e)?J(e).map(ge).toList():me(e)?Y(e).map(ge).toMap():e}function me(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ye(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&ye(i[1],e)&&(n||ye(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var d=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):i?!ye(t,e.get(r,v)):!ye(e.get(r,v),t))return d=!1,!1}));return d&&e.size===p}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Q)return Q;Q=this}}function be(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);if(be(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Z)return Z;Z=this}}function Ee(){throw TypeError("Abstract")}function Se(){}function Ce(){}function xe(){}G.prototype[ee]=!0,t(te,J),te.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new z((function(){return i>r?U():N(e,i,n[t?r-i++:i++])}))},t(ne,Y),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new z((function(){var a=r[t?i-o:o];return o++>i?U():N(e,a,n[a])}))},ne.prototype[f]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=q(this._iterable),r=0;if(W(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=q(this._iterable);if(!W(n))return new z(U);var r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value)}))},t(ie,J),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new z((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return N(e,i,r[i++])}))},t(ve,J),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return ye(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new ve(this._value,P(t,n)-D(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return ye(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return ye(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new z((function(){return r<n.size?N(e,r++,n._value):U()}))},ve.prototype.equals=function(e){return e instanceof ve?ye(this._value,e._value):_e(e)},t(we,J),we.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=D(e,this.size),(t=P(t,this.size))<=e?new we(0,0):new we(this.get(e,this._end),this.get(t,this._end),this._step))},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},we.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new z((function(){var a=i;return i+=t?-r:r,o>n?U():N(e,o++,a)}))},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(Ee,n),t(Se,Ee),t(Ce,Ee),t(xe,Ee),Ee.Keyed=Se,Ee.Indexed=Ce,Ee.Set=xe;var Oe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ke(n)}if("string"===t)return e.length>ze?Ie(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Pe(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ie(e){var t=Ve[e];return void 0===t&&(t=De(e),Ue===Ne&&(Ue=0,Ve={}),Ue++,Ve[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ke(t)}function Pe(e){var t;if(Re&&void 0!==(t=Le.get(e)))return t;if(void 0!==(t=e[Be]))return t;if(!Me){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Be]))return t;if(void 0!==(t=Ae(e)))return t}if(t=++Fe,1073741824&Fe&&(Fe=0),Re)Le.set(e,t);else{if(void 0!==je&&!1===je(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Me)Object.defineProperty(e,Be,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Be]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Be]=t}}return t}var je=Object.isExtensible,Me=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ae(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Le,Re="function"==typeof WeakMap;Re&&(Le=new WeakMap);var Fe=0,Be="__immutablehash__";"function"==typeof Symbol&&(Be=Symbol(Be));var ze=16,Ne=255,Ue=0,Ve={};function We(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function qe(e){return null==e?it():Ke(e)&&!u(e)?e:it().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ke(e){return!(!e||!e[Ge])}t(qe,Se),qe.prototype.toString=function(){return this.__toString("Map {","}")},qe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},qe.prototype.set=function(e,t){return ot(this,e,t)},qe.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},qe.prototype.remove=function(e){return ot(this,e,v)},qe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},qe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},qe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=mt(this,En(e),t,n);return r===v?void 0:r},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):it()},qe.prototype.merge=function(){return pt(this,void 0,arguments)},qe.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},qe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},qe.prototype.mergeDeep=function(){return pt(this,ht,arguments)},qe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return pt(this,ft(t),n)},qe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,it(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},qe.prototype.sort=function(e){return Vt(dn(this,e))},qe.prototype.sortBy=function(e,t){return Vt(dn(this,t,e))},qe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},qe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},qe.prototype.asImmutable=function(){return this.__ensureOwner()},qe.prototype.wasAltered=function(){return this.__altered},qe.prototype.__iterator=function(e,t){return new et(this,e,t)},qe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},qe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qe.isMap=Ke;var He,Ge="@@__IMMUTABLE_MAP__@@",Ye=qe.prototype;function Je(e,t){this.ownerID=e,this.entries=t}function $e(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return N(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ye);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function it(){return He||(He=rt(0))}function ot(e,t,n){var r,i;if(e._root){var o=E(b),a=E(w);if(r=at(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new Je(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===v?e:(S(s),S(a),new Ze(t,r,[i,o]))}function st(e){return e.constructor===Ze||e.constructor===Qe}function ct(e,t,n,r,i){if(e.keyHash===r)return new Qe(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&_,s=(0===n?r:r>>>n)&_;return new $e(t,1<<a|1<<s,a===s?[ct(e,t,n+m,r,i)]:(o=new Ze(t,r,i),a<s?[e,o]:[o,e]))}function lt(e,t,n,r){e||(e=new C);for(var i=new Ze(e,Te(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function ut(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==r&&(i|=c,a[o++]=u)}return new $e(e,i,a)}function dt(e,t,n,r,i){for(var o=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Xe(e,o+1,a)}function pt(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return he(e)}))),i.push(c)}return gt(e,t,i)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ye(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return ye(t,i)?t:i}}function gt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function mt(e,t,n,r){var i=e===v,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}be(i||e&&e.set,"invalid keyPath");var c=o.value,l=i?v:e.get(c,v),u=mt(l,t,n,r);return u===l?e:u===v?e.remove(c):(i?it():e).set(c,u)}function yt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function _t(e,t,n,r){var i=r?e:x(e);return i[t]=n,i}function vt(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function bt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}Ye[Ge]=!0,Ye[g]=Ye.remove,Ye.removeIn=Ye.deleteIn,Je.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Je.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===v,c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),!s||1!==c.length){if(!d&&!s&&c.length>=wt)return lt(e,c,r,i);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Je(e,h)}},$e.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=1<<((0===e?t:t>>>e)&_),o=this.bitmap;return 0==(o&i)?r:this.nodes[yt(o&i-1)].get(e+m,t,n,r)},$e.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=1<<s,l=this.bitmap,u=0!=(l&c);if(!u&&i===v)return this;var d=yt(l&c-1),p=this.nodes,h=u?p[d]:void 0,f=at(h,e,t+m,n,r,i,o,a);if(f===h)return this;if(!u&&f&&p.length>=Et)return dt(e,p,l,s,f);if(u&&!f&&2===p.length&&st(p[1^d]))return p[1^d];if(u&&f&&1===p.length&&st(f))return f;var g=e&&e===this.ownerID,y=u?f?l:l^c:l|c,b=u?f?_t(p,d,f,g):bt(p,d,g):vt(p,d,f,g);return g?(this.bitmap=y,this.nodes=b,this):new $e(e,y,b)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var i=(0===e?t:t>>>e)&_,o=this.nodes[i];return o?o.get(e+m,t,n,r):r},Xe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=(0===t?n:n>>>t)&_,c=i===v,l=this.nodes,u=l[s];if(c&&!u)return this;var d=at(u,e,t+m,n,r,i,o,a);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<St)return ut(e,l,p,s)}else p++;var h=e&&e===this.ownerID,f=_t(l,s,d,h);return h?(this.count=p,this.nodes=f,this):new Xe(e,p,f)},Qe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Qe.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Te(r));var s=i===v;if(n!==this.keyHash)return s?this:(S(a),S(o),ct(this,e,t,n,[r,i]));for(var c=this.entries,l=0,u=c.length;l<u&&!ye(r,c[l][0]);l++);var d=l<u;if(d?c[l][1]===i:s)return this;if(S(a),(s||!d)&&S(o),s&&2===u)return new Ze(e,this.keyHash,c[1^l]);var p=e&&e===this.ownerID,h=p?c:x(c);return d?s?l===u-1?h.pop():h[l]=h.pop():h[l]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Qe(e,this.keyHash,h)},Ze.prototype.get=function(e,t,n,r){return ye(n,this.entry[0])?this.entry[1]:r},Ze.prototype.update=function(e,t,n,r,i,o,a){var s=i===v,c=ye(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(S(a),s?void S(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new Ze(e,this.keyHash,[r,i]):(S(o),ct(this,e,t,Te(r),[r,i])))},Je.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},$e.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,z),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return tt(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}t=this._stack=this._stack.__prev}return U()};var wt=y/4,Et=y/2,St=y/4;function Ct(e){var t=At();if(null==e)return t;if(xt(e))return e;var n=i(e),r=n.size;return 0===r?t:(We(r),r>0&&r<y?Mt(0,r,m,null,new Tt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function xt(e){return!(!e||!e[Ot])}t(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){if((e=k(this,e))>=0&&e<this.size){var n=Bt(this,e+=this._origin);return n&&n.array[e&_]}return t},Ct.prototype.set=function(e,t){return Lt(this,e,t)},Ct.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):At()},Ct.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){zt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},Ct.prototype.pop=function(){return zt(this,0,-1)},Ct.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){zt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},Ct.prototype.shift=function(){return zt(this,1)},Ct.prototype.merge=function(){return Nt(this,void 0,arguments)},Ct.prototype.mergeWith=function(t){return Nt(this,t,e.call(arguments,1))},Ct.prototype.mergeDeep=function(){return Nt(this,ht,arguments)},Ct.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Nt(this,ft(t),n)},Ct.prototype.setSize=function(e){return zt(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:zt(this,D(e,n),P(t,n))},Ct.prototype.__iterator=function(e,t){var n=0,r=jt(this,t);return new z((function(){var t=r();return t===Pt?U():N(e,n++,t)}))},Ct.prototype.__iterate=function(e,t){for(var n,r=0,i=jt(this,t);(n=i())!==Pt&&!1!==e(n,r++,this););return r},Ct.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ct.isList=xt;var Ot="@@__IMMUTABLE_LIST__@@",kt=Ct.prototype;function Tt(e,t){this.array=e,this.ownerID=t}kt[Ot]=!0,kt[g]=kt.remove,kt.setIn=Ye.setIn,kt.deleteIn=kt.removeIn=Ye.removeIn,kt.update=Ye.update,kt.updateIn=Ye.updateIn,kt.mergeIn=Ye.mergeIn,kt.mergeDeepIn=Ye.mergeDeepIn,kt.withMutations=Ye.withMutations,kt.asMutable=Ye.asMutable,kt.asImmutable=Ye.asImmutable,kt.wasAltered=Ye.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_;if(r>=this.array.length)return new Tt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-m,n))===a&&o)return this}if(o&&!i)return this;var s=Ft(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&_;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-m,n))===o&&i===this.array.length-1)return this}var a=Ft(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var It,Dt,Pt={};function jt(e,t){var n=e._origin,r=e._capacity,i=Ut(r),o=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):c(e,t,n)}function s(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,l=r-a;return l>y&&(l=y),function(){if(c===l)return Pt;var e=t?--l:c++;return s&&s[e]}}function c(e,i,o){var s,c=e&&e.array,l=o>n?0:n-o>>i,u=1+(r-o>>i);return u>y&&(u=y),function(){for(;;){if(s){var e=s();if(e!==Pt)return e;s=null}if(l===u)return Pt;var n=t?--u:l++;s=a(c&&c[n],i-m,o+(n<<i))}}}}function Mt(e,t,n,r,i,o,a){var s=Object.create(kt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function At(){return It||(It=Mt(0,0,m))}function Lt(e,t,n){if((t=k(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?zt(e,t).set(0,n):zt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=E(w);return t>=Ut(e._capacity)?r=Rt(r,e.__ownerID,0,t,n,o):i=Rt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Mt(e._origin,e._capacity,e._level,i,r):e}function Rt(e,t,n,r,i,o){var a,s=r>>>n&_,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var l=e&&e.array[s],u=Rt(l,t,n-m,r,i,o);return u===l?e:((a=Ft(e,t)).array[s]=u,a)}return c&&e.array[s]===i?e:(S(o),a=Ft(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Ft(e,t){return t&&e&&t===e.ownerID?e:new Tt(e?e.array.slice():[],t)}function Bt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_],r-=m;return n}}function zt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new C,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,l=e._root,u=0;a+u<0;)l=new Tt(l&&l.array.length?[void 0,l]:[],r),u+=1<<(c+=m);u&&(a+=u,i+=u,s+=u,o+=u);for(var d=Ut(o),p=Ut(s);p>=1<<c+m;)l=new Tt(l&&l.array.length?[l]:[],r),c+=m;var h=e._tail,f=p<d?Bt(e,s-1):p>d?new Tt([],r):h;if(h&&p>d&&a<o&&h.array.length){for(var g=l=Ft(l,r),y=c;y>m;y-=m){var v=d>>>y&_;g=g.array[v]=Ft(g.array[v],r)}g.array[d>>>m&_]=h}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=p)a-=p,s-=p,c=m,l=null,f=f&&f.removeBefore(r,0,a);else if(a>i||p<d){for(u=0;l;){var b=a>>>c&_;if(b!==p>>>c&_)break;b&&(u+=(1<<c)*b),c-=m,l=l.array[b]}l&&a>i&&(l=l.removeBefore(r,c,a-u)),l&&p<d&&(l=l.removeAfter(r,c,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=l,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Mt(a,s,c,l,f)}function Nt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],l=i(c);l.size>o&&(o=l.size),a(c)||(l=l.map((function(e){return he(e)}))),r.push(l)}return o>e.size&&(e=e.setSize(o)),gt(e,t,r)}function Ut(e){return e<y?0:e-1>>>m<<m}function Vt(e){return null==e?Kt():Wt(e)?e:Kt().withMutations((function(t){var n=r(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Wt(e){return Ke(e)&&u(e)}function qt(e,t,n,r){var i=Object.create(Vt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Kt(){return Dt||(Dt=qt(it(),At()))}function Ht(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===v){if(!c)return e;a.size>=y&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):qt(r,i)}function Gt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function $t(e){this._iter=e,this.size=e.size}function Xt(e){var t=vn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=bn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===L){var r=e.__iterator(t,n);return new z((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===A?M:A,n)},t}function Qt(e,t,n){var r=vn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,v);return o===v?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(L,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return N(r,s,t.call(n,a[1],s,e),i)}))},r}function Zt(e,t){var n=vn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=bn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var i=vn(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,v);return o!==v&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(L,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return N(i,r?l:s++,u,o)}}))},i}function tn(e,t,n){var r=qe().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),i=(u(e)?Vt():qe()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=_n(e);return i.map((function(t){return gn(e,o(t))}))}function rn(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),I(t,n,i))return e;var o=D(t,i),a=P(n,i);if(o!=o||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c==c&&(s=c<0?0:c);var l=vn(e);return l.size=0===s?s:e.size&&s||void 0,!r&&oe(e)&&s>=0&&(l.get=function(t,n){return(t=k(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,l=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return U();var e=i.next();return r||t===A?e:N(t,c-1,t===M?void 0:e.value[1],e)}))},l}function on(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(L,i),s=!0;return new z((function(){if(!s)return U();var e=a.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===L?e:N(r,c,l,e):(s=!1,U())}))},r}function an(e,t,n,r){var i=vn(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(L,o),c=!0,l=0;return new z((function(){var e,o,u;do{if((e=s.next()).done)return r||i===A?e:N(i,l++,i===M?void 0:e.value[1],e);var d=e.value;o=d[0],u=d[1],c&&(c=t.call(n,u,o,a))}while(c);return i===L?e:N(i,o,u,e)}))},i}function sn(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ce(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var l=new te(i);return n?l=l.toKeyedSeq():c(e)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),l}function cn(e,t,n){var r=vn(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;function c(e,l){var u=this;e.__iterate((function(e,i){return(!t||l<t)&&a(e)?c(e,l+1):!1===r(e,n?i:o++,u)&&(s=!0),!s}),i)}return c(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===L&&(l=l[1]),t&&!(s.length<t)||!a(l))return n?e:N(r,c++,l,e);s.push(o),o=l.__iterator(r,i)}else o=s.pop()}return U()}))},r}function ln(e,t,n){var r=_n(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}function un(e,t){var n=vn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(A,r),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?N(n,a++,t):N(n,a++,i.value,i)}))},n}function dn(e,t,n){t||(t=wn);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Y(o):c(e)?J(o):$(o)}function pn(e,t,n){if(t||(t=wn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function fn(e,t,r){var i=vn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(A,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),q(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():N(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function gn(e,t){return oe(e)?t:e.constructor(t)}function mn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function yn(e){return We(e.size),O(e)}function _n(e){return s(e)?r:c(e)?i:o}function vn(e){return Object.create((s(e)?Y:c(e)?J:$).prototype)}function bn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function wn(e,t){return e>t?1:e<t?-1:0}function En(e){var t=q(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=q(n(e))}return t}function Sn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);kn(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=qe(o)},i=r.prototype=Object.create(Cn);return i.constructor=r,r}t(Vt,qe),Vt.of=function(){return this(arguments)},Vt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Vt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Vt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Kt()},Vt.prototype.set=function(e,t){return Ht(this,e,t)},Vt.prototype.remove=function(e){return Ht(this,e,v)},Vt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Vt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Vt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Vt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?qt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Vt.isOrderedMap=Wt,Vt.prototype[f]=!0,Vt.prototype[g]=Vt.prototype.remove,t(Gt,Y),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Gt.prototype.map=function(e,t){var n=this,r=Qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Gt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?yn(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Gt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(A,t),r=t?yn(this):0;return new z((function(){var i=n.next();return i.done?i:N(e,t?--r:r++,i.value,i)}))},Gt.prototype[f]=!0,t(Yt,J),Yt.prototype.includes=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t),r=0;return new z((function(){var t=n.next();return t.done?t:N(e,r++,t.value,t)}))},t(Jt,$),Jt.prototype.has=function(e){return this._iter.includes(e)},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){var t=n.next();return t.done?t:N(e,t.value,t.value,t)}))},t($t,Y),$t.prototype.entrySeq=function(){return this._iter.toSeq()},$t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){mn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},$t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(A,t);return new z((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){mn(r);var i=a(r);return N(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Yt.prototype.cacheResult=Gt.prototype.cacheResult=Jt.prototype.cacheResult=$t.prototype.cacheResult=bn,t(Sn,Se),Sn.prototype.toString=function(){return this.__toString(On(this)+" {","}")},Sn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Sn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Sn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=xn(this,it()))},Sn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+On(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:xn(this,n)},Sn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:xn(this,t)},Sn.prototype.wasAltered=function(){return this._map.wasAltered()},Sn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Sn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?xn(this,t,e):(this.__ownerID=e,this._map=t,this)};var Cn=Sn.prototype;function xn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function On(e){return e._name||e.constructor.name||"Record"}function kn(e,t){try{t.forEach(Tn.bind(void 0,e))}catch(n){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function In(e){return null==e?Rn():Dn(e)&&!u(e)?e:Rn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Dn(e){return!(!e||!e[jn])}Cn[g]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ye.removeIn,Cn.merge=Ye.merge,Cn.mergeWith=Ye.mergeWith,Cn.mergeIn=Ye.mergeIn,Cn.mergeDeep=Ye.mergeDeep,Cn.mergeDeepWith=Ye.mergeDeepWith,Cn.mergeDeepIn=Ye.mergeDeepIn,Cn.setIn=Ye.setIn,Cn.update=Ye.update,Cn.updateIn=Ye.updateIn,Cn.withMutations=Ye.withMutations,Cn.asMutable=Ye.asMutable,Cn.asImmutable=Ye.asImmutable,t(In,xe),In.of=function(){return this(arguments)},In.fromKeys=function(e){return this(r(e).keySeq())},In.prototype.toString=function(){return this.__toString("Set {","}")},In.prototype.has=function(e){return this._map.has(e)},In.prototype.add=function(e){return An(this,this._map.set(e,!0))},In.prototype.remove=function(e){return An(this,this._map.remove(e))},In.prototype.clear=function(){return An(this,this._map.clear())},In.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},In.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},In.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},In.prototype.merge=function(){return this.union.apply(this,arguments)},In.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},In.prototype.sort=function(e){return Fn(dn(this,e))},In.prototype.sortBy=function(e,t){return Fn(dn(this,t,e))},In.prototype.wasAltered=function(){return this._map.wasAltered()},In.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},In.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},In.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},In.isSet=Dn;var Pn,jn="@@__IMMUTABLE_SET__@@",Mn=In.prototype;function An(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ln(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Rn(){return Pn||(Pn=Ln(it()))}function Fn(e){return null==e?Vn():Bn(e)?e:Vn().withMutations((function(t){var n=o(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}function Bn(e){return Dn(e)&&u(e)}Mn[jn]=!0,Mn[g]=Mn.remove,Mn.mergeDeep=Mn.merge,Mn.mergeDeepWith=Mn.mergeWith,Mn.withMutations=Ye.withMutations,Mn.asMutable=Ye.asMutable,Mn.asImmutable=Ye.asImmutable,Mn.__empty=Rn,Mn.__make=Ln,t(Fn,In),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(r(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=Bn;var zn,Nn=Fn.prototype;function Un(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Vn(){return zn||(zn=Un(Kt()))}function Wn(e){return null==e?Jn():qn(e)?e:Jn().unshiftAll(e)}function qn(e){return!(!e||!e[Hn])}Nn[f]=!0,Nn.__empty=Vn,Nn.__make=Un,t(Wn,Ce),Wn.of=function(){return this(arguments)},Wn.prototype.toString=function(){return this.__toString("Stack [","]")},Wn.prototype.get=function(e,t){var n=this._head;for(e=k(this,e);n&&e--;)n=n.next;return n?n.value:t},Wn.prototype.peek=function(){return this._head&&this._head.value},Wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yn(e,t)},Wn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;We(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Yn(t,n)},Wn.prototype.pop=function(){return this.slice(1)},Wn.prototype.unshift=function(){return this.push.apply(this,arguments)},Wn.prototype.unshiftAll=function(e){return this.pushAll(e)},Wn.prototype.shift=function(){return this.pop.apply(this,arguments)},Wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Wn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=D(e,this.size);if(P(t,this.size)!==this.size)return Ce.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Yn(r,i)},Wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new z((function(){if(r){var t=r.value;return r=r.next,N(e,n++,t)}return U()}))},Wn.isStack=qn;var Kn,Hn="@@__IMMUTABLE_STACK__@@",Gn=Wn.prototype;function Yn(e,t,n,r){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Jn(){return Kn||(Kn=Yn(0))}function $n(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Hn]=!0,Gn.withMutations=Ye.withMutations,Gn.asMutable=Ye.asMutable,Gn.asImmutable=Ye.asImmutable,Gn.wasAltered=Ye.wasAltered,n.Iterator=z,$n(n,{toArray:function(){We(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Yt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Gt(this,!0)},toMap:function(){return qe(this.toKeyedSeq())},toObject:function(){We(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Vt(this.toKeyedSeq())},toOrderedSet:function(){return Fn(s(this)?this.valueSeq():this)},toSet:function(){return In(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Jt(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Wn(s(this)?this.valueSeq():this)},toList:function(){return Ct(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return gn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ye(t,e)}))},entries:function(){return this.__iterator(L)},every:function(e,t){We(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return gn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return We(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){We(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(M)},map:function(e,t){return gn(this,Qt(this,e,t))},reduce:function(e,t,n){var r,i;return We(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,Zt(this,!0))},slice:function(e,t){return gn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return gn(this,dn(this,e))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return gn(this,ln(this,e,t))},flatten:function(e){return gn(this,cn(this,e,!0))},fromEntrySeq:function(){return new $t(this)},get:function(e,t){return this.find((function(t,n){return ye(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=En(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,v):v)===v)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Zn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return pn(this,e)},maxBy:function(e,t){return pn(this,t,e)},min:function(e){return pn(this,e?nr(e):or)},minBy:function(e,t){return pn(this,t?nr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return gn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=n.prototype;Xn[d]=!0,Xn[B]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),$n(r,{flip:function(){return gn(this,Xt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ye(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ye(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return gn(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return gn(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Qn=r.prototype;function Zn(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"==typeof e?JSON.stringify(e):e}function ir(){return x(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return sr(e.__iterate(n?t?function(e,t){r=31*r+cr(Te(e),Te(t))|0}:function(e,t){r=r+cr(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}function sr(e,t){return t=Oe(t,3432918353),t=Oe(t<<15|t>>>-15,461845907),t=Oe(t<<13|t>>>-13,5),t=Oe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ke((t=Oe(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Qn[p]=!0,Qn[B]=Xn.entries,Qn.__toJS=Xn.toObject,Qn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},$n(i,{toKeyedSeq:function(){return new Gt(this,!1)},filter:function(e,t){return gn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return gn(this,Zt(this,!1))},slice:function(e,t){return gn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,1===n?r:r.concat(x(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return gn(this,cn(this,e,!1))},get:function(e,t){return(e=k(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=k(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return gn(this,un(this,e))},interleave:function(){var e=[this].concat(x(arguments)),t=fn(this.toSeq(),J.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),gn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,!1))},zip:function(){return gn(this,fn(this,ir,[this].concat(x(arguments))))},zipWith:function(e){var t=x(arguments);return t[0]=this,gn(this,fn(this,e,t))}}),i.prototype[h]=!0,i.prototype[f]=!0,$n(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Xn.includes,$n(Y,r.prototype),$n(J,i.prototype),$n($,o.prototype),$n(Se,r.prototype),$n(Ce,i.prototype),$n(xe,o.prototype),{Iterable:n,Seq:G,Collection:Ee,Map:qe,OrderedMap:Vt,List:Ct,Stack:Wn,Set:In,OrderedSet:Fn,Record:Sn,Range:we,Repeat:ve,is:ye,fromJS:he}}()},zXAL:function(e,t,n){var r=n("/MKj"),i=n("peh1"),o=n("Vzit"),a=n("vh5K"),s=n("ANjH");const c=Object(i.createSelector)(e=>e.experiences.eligibleExperiences,e=>e.experiences.mountedPlacements,(e,t)=>t.placementId,a.c);t.a=Object(r.connect)((function(e,t){return{experienceForPlacement:c(e,t)}}),(function(e){return Object(s.bindActionCreators)({completeExperience:o.a,dismissExperience:o.b,fetchAllExperiences:o.d,fetchExperienceForPlacement:o.c,triggerExperimentsForPlacement:o.i,viewExperience:o.h},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},zlY5:function(e,t,n){var r=n("158f");e.exports=function(e){var t=r(e),n=0,i=0,o=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var c=t[0];n=c.top,i=c.right,o=c.bottom,a=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),i=Math.max(i,u.right),o=Math.max(o,u.bottom),a=Math.min(a,u.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},znyv:function(e,t,n){n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d}));var r=n("7w6Q"),i=n("U4JR");const o=(e,t)=>{const n=Boolean(t&&t.isAuth),i=Boolean(t&&t.unifiedSignup),o=t&&t.country;var a;t&&((a=t).source&&a.source.utmPartner&&"partneracquisition"===a.source.utmPartner)?r.a.increment(e,1,{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:n,unified_signup:i}):r.a.increment(e,1,{app_type:"web",is_auth:n,unified_signup:i,country:o})},a=e=>{e&&e.utm_campaign&&r.a.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},s=(e,t,n,o,a,s={})=>{((e,t)=>{const n="client.partner.quick_promote_button."+e;r.a.increment(n,1,{app_type:"web",location:t})})(e,t),((e,t,n,r={})=>{const o={component:t,element:10148,view:n,...r};Object(i.b)(e,o)})(n,o,a,s)},c=()=>{Object(i.b)(8217)},l=()=>{r.a.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},u=()=>{r.a.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},d=e=>{const t="client.partner.biz_nux_v2.render."+e;r.a.increment(t,1,{app_type:"web"})}},zpn9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=e.length,r=[],i=0;i<n;i++)r.push(i);r.sort((function(t,n){return e[t]<e[n]?-1:1}));var o,a,s=[],c=[],l=[];for(i=0;i<n-1;i++)o=e[i+1]-e[i],a=t[i+1]-t[i],c.push(o),s.push(a),l.push(a/o);var u=[l[0]];for(i=0;i<c.length-1;i++){var d=l[i],p=l[i+1];if(d*p<=0)u.push(0);else{o=c[i];var h=c[i+1],f=o+h;u.push(3*f/((f+h)/d+(f+o)/p))}}u.push(l[l.length-1]);var g,m=[],y=[];for(i=0;i<u.length-1;i++){g=l[i];var _=u[i],v=1/c[i];f=_+u[i+1]-g-g;m.push((g-_-f)*v),y.push(f*v*v)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=m,this.c3s=y}return e.prototype.interpolate=function(e){var t=this,n=t.xs,r=t.ys,i=t.c1s,o=t.c2s,a=t.c3s,s=n.length-1;if(e===n[s])return r[s];for(var c,l=0,u=a.length-1;l<=u;){var d=n[c=Math.floor(.5*(l+u))];if(d<e)l=c+1;else{if(!(d>e))return r[c];u=c-1}}var p=e-n[s=Math.max(0,u)],h=p*p;return r[s]+i[s]*p+o[s]*h+a[s]*p*h},e}();t.default=r},"zxN+":function(e,t,n){var r=n("zlY5");e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,c=i.left;return 0===o&&0===a&&0===s&&0===c?null:i}}},[["A9EP","runtime","vendor-react",0,8,40,48,49,50,52,57,60,67,69,70,72,78]]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/www/pin/[id]-unauthdesktop-33fb83eae064039871e7.mjs.map